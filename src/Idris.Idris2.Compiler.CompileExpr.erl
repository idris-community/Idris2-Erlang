-module('Idris.Idris2.Compiler.CompileExpr').
-compile('no_auto_import').
-compile('inline').
-compile({'inline_size',24}).
-export([
  'case--case block in mkForgetDef-5957'/6,
  'case--mkForgetDef-5945'/4,
  'case--compileDef-5885'/4,
  'case--toCDef-5695'/6,
  'case--toCDef-5623'/7,
  'case--toCDef-5562'/5,
  'case--case block in nfToCFType-5173'/14,
  'case--nfToCFType-5096'/11,
  'case--getNArgs-4845'/6,
  'case--case block in case block in getFieldArgs-4655'/14,
  'case--case block in getFieldArgs-4611'/9,
  'case--getFieldArgs-4594'/4,
  'case--case block in case block in getPArgs-4472'/13,
  'case--case block in getPArgs-4435'/10,
  'case--getPArgs-4417'/4,
  'case--mkArgList-4373'/3,
  'case--toCExpTree\x{27}-4214'/15,
  'case--case block in toCExpTree\x{27}-4036'/19,
  'case--toCExpTree\x{27}-3980'/15,
  'case--getNewType-3771'/12,
  'case--getNewType,mkSubst-3666'/17,
  'case--case block in case block in case block in conCases-3425'/18,
  'case--case block in case block in conCases-3377'/14,
  'case--case block in conCases-3311'/12,
  'case--conCases-3288'/10,
  'case--case block in toCExp-3153'/10,
  'case--toCExp-3103'/5,
  'case--toCExpTm-3037'/7,
  'case--toCExpTm-2727'/8,
  'case--boolHackTree-2664'/6,
  'case--natHackTree-2519'/6,
  'case--natHack-2310'/5,
  'case--natHack-2278'/5,
  'case--natHack-2253'/5,
  'case--natHack-2237'/5,
  'case--natHack-2207'/4,
  'case--natHack-2193'/4,
  'case--magic,go-1986'/7,
  'case--case block in mkDropSubst-1831'/8,
  'case--mkDropSubst-1810'/6,
  'case--dropPos,drop-1713'/10,
  'case--applyNewType,keep-1614'/10,
  'case--case block in numArgs-1206'/8,
  'case--numArgs-1191'/6,
  'nested--9907-2625--in--un--toBool'/6,
  'nested--13061-5643--in--un--toArgExp'/7,
  'nested--13061-5512--in--un--toArgExp'/6,
  'nested--10563-3640--in--un--mkSubst'/15,
  'nested--8606-1410--in--un--mkLocal'/6,
  'nested--8606-1411--in--un--mkApp'/6,
  'nested--8808-1593--in--un--keepArg'/7,
  'nested--8808-1592--in--un--keep'/8,
  'nested--9160-1904--in--un--go'/5,
  'nested--13061-5644--in--un--getVars'/8,
  'nested--13061-5513--in--un--getVars'/7,
  'nested--9160-1903--in--un--fire'/5,
  'nested--8927-1699--in--un--drop'/8,
  'nested--10557-3260--in--un--dcon'/9,
  'nested--8705-1511--in--un--applyAll'/5,
  'nested--8705-1533--in--un--addArg'/7,
  'un--weakenVar'/3,
  'un--tryZBranch'/2,
  'un--trySBranch'/3,
  'un--toCExpTree\x{27}'/4,
  'un--toCExpTree'/4,
  'un--toCExpTm'/4,
  'un--toCExp'/4,
  'un--toCDef'/4,
  'un--numArgs'/3,
  'un--nfToCFType'/4,
  'un--natMinus'/4,
  'un--natHackTree'/2,
  'un--natHack'/2,
  'un--natBranch'/2,
  'un--mkForgetDef'/3,
  'un--mkDropSubst'/4,
  'un--mkArgList'/2,
  'un--magic'/3,
  'un--isNatCon'/1,
  'un--isFiniteEnum'/1,
  'un--getZBranch'/2,
  'un--getSBranch'/3,
  'un--getPArgs'/4,
  'un--getNewType'/6,
  'un--getNArgs'/4,
  'un--getFieldArgs'/4,
  'un--getDef'/4,
  'un--getCFTypes'/3,
  'un--expandToArity'/4,
  'un--etaExpand'/5,
  'un--eraseConArgs'/5,
  'un--dropPos'/3,
  'un--constCases'/4,
  'un--conCases'/4,
  'un--compileExp'/3,
  'un--compileDef'/3,
  'un--boolHackTree'/2,
  'un--applyNewType'/5
]).
'case--case block in mkForgetDef-5957'(V0, V1, V2, V3, V4, V5) -> case V5 of {'Idris.Prelude.Types.Nothing'} -> (fun () -> fun (V6) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkUnit'}} end end()); {'Idris.Prelude.Types.Just', E0} -> (fun (V7) -> begin (V8 = ('Idris.Idris2.Core.CompileExpr':'un--forgetDef'(V7))), fun (V9) -> ('Idris.Idris2.Core.Context':'un--setNamedCompiled'(V1, V0, V8, V9)) end end end(E0)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--mkForgetDef-5945'(V0, V1, V2, V3) -> case V3 of {'Idris.Prelude.Types.Just', E0} -> (fun (V4) -> begin (V5 = {'Idris.Prelude.Types.Just', V4}), ('case--case block in mkForgetDef-5957'(V0, V1, V2, V4, V5, case V4 of {'Idris.Core.Context.MkGlobalDef', E1, E2, E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21} -> (fun (V6, V7, V8, V9, V10, V11, V12, V13, V14, V15, V16, V17, V18, V19, V20, V21, V22, V23, V24, V25, V26) -> V24 end(E1, E2, E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end)) end end(E0)); {'Idris.Prelude.Types.Nothing'} -> (fun () -> fun (V27) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.InternalError', ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Trying to compile unknown name "/utf8>>, ('Idris.Idris2.Core.Name':'dn--un--show_Show__Name'(V0))))}, V27)) end end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--compileDef-5885'(V0, V1, V2, V3) -> case V3 of {'Idris.Prelude.Types.Just', E0} -> (fun (V4) -> fun (V5) -> begin (V55 = begin (V31 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V1, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V6) -> fun (V7) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Def'(V6, V7)) end end, fun (V8) -> fun (V9) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Def'(V8, V9)) end end}, case V4 of {'Idris.Core.Context.MkGlobalDef', E1, E2, E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21} -> (fun (V10, V11, V12, V13, V14, V15, V16, V17, V18, V19, V20, V21, V22, V23, V24, V25, V26, V27, V28, V29, V30) -> V27 end(E1, E2, E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end, V5))), case V31 of {'Idris.Prelude.Types.Left', E22} -> (fun (V32) -> {'Idris.Prelude.Types.Left', V32} end(E22)); {'Idris.Prelude.Types.Right', E23} -> (fun (V33) -> (('un--toCDef'(V1, V0, case V4 of {'Idris.Core.Context.MkGlobalDef', E24, E25, E26, E27, E28, E29, E30, E31, E32, E33, E34, E35, E36, E37, E38, E39, E40, E41, E42, E43, E44} -> (fun (V34, V35, V36, V37, V38, V39, V40, V41, V42, V43, V44, V45, V46, V47, V48, V49, V50, V51, V52, V53, V54) -> V36 end(E24, E25, E26, E27, E28, E29, E30, E31, E32, E33, E34, E35, E36, E37, E38, E39, E40, E41, E42, E43, E44)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end, V33))(V5)) end(E23)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end), case V55 of {'Idris.Prelude.Types.Left', E45} -> (fun (V56) -> {'Idris.Prelude.Types.Left', V56} end(E45)); {'Idris.Prelude.Types.Right', E46} -> (fun (V57) -> ('Idris.Idris2.Core.Context':'un--setCompiled'(V1, V0, V57, V5)) end(E46)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E0)); {'Idris.Prelude.Types.Nothing'} -> (fun () -> fun (V58) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.InternalError', ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Trying to compile unknown name "/utf8>>, ('Idris.Idris2.Core.Name':'dn--un--show_Show__Name'(V0))))}, V58)) end end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--toCDef-5695'(V0, V1, V2, V3, V4, V5) -> case V5 of {'Idris.Builtin.DPair.MkDPair', E0, E1} -> (fun (V6, V7) -> fun (V8) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.MkFun', V6, {'Idris.Core.CompileExpr.COp', V0, ('Idris.Idris2.Core.FC':'un--emptyFC'()), V1, ('Idris.Idris2.Data.Vect':'dn--un--map_Functor__(Vect $n)'('erased', 'erased', 'erased', fun (V9) -> ('nested--13061-5643--in--un--toArgExp'(V0, V1, V2, V3, V4, 'erased', V9)) end, ('nested--13061-5644--in--un--getVars'(V0, V1, V2, V3, V4, 'erased', 'erased', V7))))}}} end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--toCDef-5623'(V0, V1, V2, V3, V4, V5, V6) -> case V6 of {'Idris.Builtin.MkPair', E0, E1} -> (fun (V7, V8) -> fun (V9) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.MkForeign', V0, V7, V8}} end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--toCDef-5562'(V0, V1, V2, V3, V4) -> case V4 of {'Idris.Builtin.DPair.MkDPair', E0, E1} -> (fun (V5, V6) -> fun (V7) -> begin (V8 = (('Idris.Idris2.Core.Context':'un--getFullName'(V3, V2))(V7))), case V8 of {'Idris.Prelude.Types.Left', E2} -> (fun (V9) -> {'Idris.Prelude.Types.Left', V9} end(E2)); {'Idris.Prelude.Types.Right', E3} -> (fun (V10) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.MkFun', V5, {'Idris.Core.CompileExpr.CExtPrim', ('Idris.Idris2.Core.FC':'un--emptyFC'()), V10, ('Idris.Idris2.Prelude.Types':'dn--un--map_Functor__List'('erased', 'erased', fun (V11) -> ('nested--13061-5512--in--un--toArgExp'(V0, V1, V2, V3, 'erased', V11)) end, ('nested--13061-5513--in--un--getVars'(V0, V1, V2, V3, 'erased', 'erased', V6))))}}} end(E3)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--case block in nfToCFType-5173'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12, V13) -> case V13 of {'Idris.Builtin.MkPair', E0, E1} -> (fun (V14, V15) -> fun (V16) -> begin (V17 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V7, [], V8, V15))(V16))), case V17 of {'Idris.Prelude.Types.Left', E2} -> (fun (V18) -> {'Idris.Prelude.Types.Left', V18} end(E2)); {'Idris.Prelude.Types.Right', E3} -> (fun (V19) -> begin (V20 = (('un--nfToCFType'(V7, V5, 0, V19))(V16))), case V20 of {'Idris.Prelude.Types.Left', E4} -> (fun (V21) -> {'Idris.Prelude.Types.Left', V21} end(E4)); {'Idris.Prelude.Types.Right', E5} -> (fun (V22) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V14, V22}} end(E5)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--nfToCFType-5096'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10) -> case V10 of {'Idris.Compiler.CompileExpr.User', E0, E1} -> (fun (V11, V12) -> fun (V13) -> begin (V15 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V14) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V7, [], V8, V14)) end, V12, []))(V13))), case V15 of {'Idris.Prelude.Types.Left', E2} -> (fun (V16) -> {'Idris.Prelude.Types.Left', V16} end(E2)); {'Idris.Prelude.Types.Right', E3} -> (fun (V17) -> begin (V19 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V18) -> ('un--nfToCFType'(V7, V5, V6, V18)) end, V17, []))(V13))), case V19 of {'Idris.Prelude.Types.Left', E4} -> (fun (V20) -> {'Idris.Prelude.Types.Left', V20} end(E4)); {'Idris.Prelude.Types.Right', E5} -> (fun (V21) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V9, V21}} end(E5)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E0, E1)); {'Idris.Compiler.CompileExpr.Struct', E6, E7} -> (fun (V22, V23) -> fun (V24) -> begin (V35 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V25) -> case V25 of {'Idris.Builtin.MkPair', E8, E9} -> (fun (V26, V27) -> fun (V28) -> begin (V29 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V7, [], V8, V27))(V28))), case V29 of {'Idris.Prelude.Types.Left', E10} -> (fun (V30) -> {'Idris.Prelude.Types.Left', V30} end(E10)); {'Idris.Prelude.Types.Right', E11} -> (fun (V31) -> begin (V32 = (('un--nfToCFType'(V7, V5, 0, V31))(V28))), case V32 of {'Idris.Prelude.Types.Left', E12} -> (fun (V33) -> {'Idris.Prelude.Types.Left', V33} end(E12)); {'Idris.Prelude.Types.Right', E13} -> (fun (V34) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V26, V34}} end(E13)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E11)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E8, E9)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V23, []))(V24))), case V35 of {'Idris.Prelude.Types.Left', E14} -> (fun (V36) -> {'Idris.Prelude.Types.Left', V36} end(E14)); {'Idris.Prelude.Types.Right', E15} -> (fun (V37) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V22, V37}} end(E15)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E6, E7)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> fun (V38) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> fun (V39) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> fun (V40) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> fun (V41) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end end()); {'Idris.Compiler.CompileExpr.NIORes', E16} -> (fun (V42) -> fun (V43) -> begin (V44 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V7, [], V8, V42))(V43))), case V44 of {'Idris.Prelude.Types.Left', E17} -> (fun (V45) -> {'Idris.Prelude.Types.Left', V45} end(E17)); {'Idris.Prelude.Types.Right', E18} -> (fun (V46) -> begin (V47 = (('un--nfToCFType'(V7, V5, V6, V46))(V43))), case V47 of {'Idris.Prelude.Types.Left', E19} -> (fun (V48) -> {'Idris.Prelude.Types.Left', V48} end(E19)); {'Idris.Prelude.Types.Right', E20} -> (fun (V49) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V49}} end(E20)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E18)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E16)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--getNArgs-4845'(V0, V1, V2, V3, V4, V5) -> case V5 of {'Idris.Core.Value.NPrimVal', E0, E1} -> (fun (V6, V7) -> case V7 of {'Idris.Core.TT.Str', E2} -> (fun (V8) -> fun (V9) -> begin (V10 = ('un--getFieldArgs'(V4, V3, V2, V9))), case V10 of {'Idris.Prelude.Types.Left', E3} -> (fun (V11) -> {'Idris.Prelude.Types.Left', V11} end(E3)); {'Idris.Prelude.Types.Right', E4} -> (fun (V12) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.Struct', V8, V12}} end(E4)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2)); _ -> fun (V13) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V5)), <<"Unknown name for struct"/utf8>>}, V13)) end end end(E0, E1)); _ -> fun (V14) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V5)), <<"Unknown name for struct"/utf8>>}, V14)) end end.
'case--case block in case block in getFieldArgs-4655'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12, V13) -> case V13 of {'Idris.Builtin.MkPair', E0, E1} -> (fun (V14, V15) -> fun (V16) -> {'Idris.Prelude.Types.Right', [{'Idris.Builtin.MkPair', V14, V15} | V12]} end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--case block in getFieldArgs-4611'(V0, V1, V2, V3, V4, V5, V6, V7, V8) -> case V6 of [E0 | E1] -> (fun (V9, V10) -> case V10 of [E2 | E3] -> (fun (V11, V12) -> case V12 of [E4 | E5] -> (fun (V13, V14) -> case V14 of [] -> fun (V15) -> begin (V16 = ('un--getFieldArgs'(V2, V1, V13, V15))), case V16 of {'Idris.Prelude.Types.Left', E6} -> (fun (V17) -> {'Idris.Prelude.Types.Left', V17} end(E6)); {'Idris.Prelude.Types.Right', E7} -> (fun (V18) -> begin (V19 = ('un--getPArgs'(V2, V1, V11, V15))), case V19 of {'Idris.Prelude.Types.Left', E8} -> (fun (V20) -> {'Idris.Prelude.Types.Left', V20} end(E8)); {'Idris.Prelude.Types.Right', E9} -> (fun (V21) -> case V21 of {'Idris.Builtin.MkPair', E10, E11} -> (fun (V22, V23) -> {'Idris.Prelude.Types.Right', [{'Idris.Builtin.MkPair', V22, V23} | V18]} end(E10, E11)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E9)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E7)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end; _ -> fun (V24) -> {'Idris.Prelude.Types.Right', []} end end end(E4, E5)); _ -> fun (V25) -> {'Idris.Prelude.Types.Right', []} end end end(E2, E3)); _ -> fun (V26) -> {'Idris.Prelude.Types.Right', []} end end end(E0, E1)); _ -> fun (V27) -> {'Idris.Prelude.Types.Right', []} end end.
'case--getFieldArgs-4594'(V0, V1, V2, V3) -> case V3 of {'Idris.Core.Value.NDCon', E0, E1, E2, E3, E4} -> (fun (V4, V5, V6, V7, V8) -> case V8 of [E5 | E6] -> (fun (V9, V10) -> case V10 of [E7 | E8] -> (fun (V11, V12) -> case V12 of [E9 | E10] -> (fun (V13, V14) -> case V14 of [] -> fun (V15) -> begin (V16 = ('un--getFieldArgs'(V2, V1, V13, V15))), case V16 of {'Idris.Prelude.Types.Left', E11} -> (fun (V17) -> {'Idris.Prelude.Types.Left', V17} end(E11)); {'Idris.Prelude.Types.Right', E12} -> (fun (V18) -> begin (V19 = ('un--getPArgs'(V2, V1, V11, V15))), case V19 of {'Idris.Prelude.Types.Left', E13} -> (fun (V20) -> {'Idris.Prelude.Types.Left', V20} end(E13)); {'Idris.Prelude.Types.Right', E14} -> (fun (V21) -> case V21 of {'Idris.Builtin.MkPair', E15, E16} -> (fun (V22, V23) -> {'Idris.Prelude.Types.Right', [{'Idris.Builtin.MkPair', V22, V23} | V18]} end(E15, E16)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E14)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E12)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end; _ -> fun (V24) -> {'Idris.Prelude.Types.Right', []} end end end(E9, E10)); _ -> fun (V25) -> {'Idris.Prelude.Types.Right', []} end end end(E7, E8)); _ -> fun (V26) -> {'Idris.Prelude.Types.Right', []} end end end(E5, E6)); _ -> fun (V27) -> {'Idris.Prelude.Types.Right', []} end end end(E0, E1, E2, E3, E4)); _ -> fun (V28) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), <<"Badly formed struct type"/utf8>>}, V28)) end end.
'case--case block in case block in getPArgs-4472'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12) -> case V12 of {'Idris.Core.Value.NPrimVal', E0, E1} -> (fun (V13, V14) -> case V14 of {'Idris.Core.TT.Str', E2} -> (fun (V15) -> fun (V16) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V15, V10}} end end(E2)); _ -> fun (V17) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V12)), <<"Unknown field name"/utf8>>}, V17)) end end end(E0, E1)); _ -> fun (V18) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V12)), <<"Unknown field name"/utf8>>}, V18)) end end.
'case--case block in getPArgs-4435'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9) -> case V9 of [E0 | E1] -> (fun (V10, V11) -> case V11 of [E2 | E3] -> (fun (V12, V13) -> fun (V14) -> begin (V15 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V2, [], V1, V12))(V14))), case V15 of {'Idris.Prelude.Types.Left', E4} -> (fun (V16) -> {'Idris.Prelude.Types.Left', V16} end(E4)); {'Idris.Prelude.Types.Right', E5} -> (fun (V17) -> case V17 of {'Idris.Core.Value.NPrimVal', E6, E7} -> (fun (V18, V19) -> case V19 of {'Idris.Core.TT.Str', E8} -> (fun (V20) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V20, V10}} end(E8)); _ -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V17)), <<"Unknown field name"/utf8>>}, V14)) end end(E6, E7)); _ -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V17)), <<"Unknown field name"/utf8>>}, V14)) end end(E5)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2, E3)); _ -> fun (V21) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V7, <<"Badly formed struct type"/utf8>>}, V21)) end end end(E0, E1)); _ -> fun (V22) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V7, <<"Badly formed struct type"/utf8>>}, V22)) end end.
'case--getPArgs-4417'(V0, V1, V2, V3) -> case V3 of {'Idris.Core.Value.NDCon', E0, E1, E2, E3, E4} -> (fun (V4, V5, V6, V7, V8) -> begin (V9 = {'Idris.Core.Value.NDCon', V4, V5, V6, V7, V8}), ('case--case block in getPArgs-4435'(V0, V1, V2, V5, V6, V7, V8, V4, V9, ('Idris.Idris2.Data.List':'un--reverse'('erased', V8)))) end end(E0, E1, E2, E3, E4)); _ -> fun (V10) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), <<"Badly formed struct type"/utf8>>}, V10)) end end.
'case--mkArgList-4373'(V0, V1, V2) -> case V2 of {'Idris.Builtin.DPair.MkDPair', E0, E1} -> (fun (V3, V4) -> {'Idris.Builtin.DPair.MkDPair', [{'Idris.Core.Name.MN', <<"arg"/utf8>>, V1} | V3], {'Idris.Compiler.CompileExpr.ConsArg', {'Idris.Core.Name.MN', <<"arg"/utf8>>, V1}, V4}} end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--toCExpTree\x{27}-4214'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12, V13, V14) -> case V14 of 0 -> fun (V15) -> {'Idris.Prelude.Types.Right', ('Idris.Idris2.Data.Maybe':'un--fromMaybe'('erased', fun () -> {'Idris.Core.CompileExpr.CErased', V11} end, V13))} end; 1 -> fun (V16) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CConstCase', V11, {'Idris.Core.CompileExpr.CLocal', V7, V11}, V12, V13}} end; _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--case block in toCExpTree\x{27}-4036'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12, V13, V14, V15, V16, V17, V18) -> case V18 of 0 -> fun (V19) -> {'Idris.Prelude.Types.Right', ('Idris.Idris2.Data.Maybe':'un--fromMaybe'('erased', fun () -> {'Idris.Core.CompileExpr.CErased', V13} end, V17))} end; 1 -> fun (V20) -> {'Idris.Prelude.Types.Right', ('un--boolHackTree'('erased', ('un--natHackTree'('erased', {'Idris.Core.CompileExpr.CConCase', V13, {'Idris.Core.CompileExpr.CLocal', V2, V13}, V16, V17}))))} end; _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--toCExpTree\x{27}-3980'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12, V13, V14) -> case V14 of {'Idris.Prelude.Types.Nothing'} -> (fun () -> fun (V15) -> begin (V17 = begin (V16 = ('erlang':'get'(V12))), {'Idris.Prelude.Types.Right', V16} end), case V17 of {'Idris.Prelude.Types.Left', E0} -> (fun (V18) -> {'Idris.Prelude.Types.Left', V18} end(E0)); {'Idris.Prelude.Types.Right', E1} -> (fun (V19) -> begin (V20 = (('un--conCases'(V0, V12, V11, V8))(V15))), case V20 of {'Idris.Prelude.Types.Left', E2} -> (fun (V21) -> {'Idris.Prelude.Types.Left', V21} end(E2)); {'Idris.Prelude.Types.Right', E3} -> (fun (V22) -> begin (V23 = (('un--getDef'(V0, V12, V11, V8))(V15))), case V23 of {'Idris.Prelude.Types.Left', E4} -> (fun (V24) -> {'Idris.Prelude.Types.Left', V24} end(E4)); {'Idris.Prelude.Types.Right', E5} -> (fun (V25) -> begin (V26 = {'Idris.Prelude.Types.Nothing'}), (('case--case block in toCExpTree\x{27}-4036'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, 'erased', V11, V12, V13, V26, V19, V22, V25, ('Idris.Idris2.Data.List':'un--isNil'('erased', V22))))(V15)) end end(E5)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end()); {'Idris.Prelude.Types.Just', E6} -> (fun (V27) -> fun (V28) -> {'Idris.Prelude.Types.Right', V27} end end(E6)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--getNewType-3771'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11) -> case V11 of {'Idris.Prelude.Types.Just', E0} -> (fun (V12) -> case V12 of {'Idris.Core.Context.DCon', E1, E2, E3} -> (fun (V13, V14, V15) -> case V15 of {'Idris.Prelude.Types.Just', E4} -> (fun (V16) -> case V16 of {'Idris.Builtin.MkPair', E5, E6} -> (fun (V17, V18) -> begin (V19 = ('nested--10563-3640--in--un--mkSubst'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, 'erased', 0, V7, V18, V0))), fun (V20) -> begin (V21 = (('un--toCExpTree'(('Idris.Idris2.Prelude.Types.List':'un--++'('erased', V0, V1)), V9, V6, V2))(V20))), case V21 of {'Idris.Prelude.Types.Left', E7} -> (fun (V22) -> {'Idris.Prelude.Types.Left', V22} end(E7)); {'Idris.Prelude.Types.Right', E8} -> (fun (V23) -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Just', ('Idris.Idris2.Core.CompileExpr':'un--substs'(V0, V1, V19, V23))}} end(E8)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end(E5, E6)); _ -> fun (V24) -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Nothing'}} end end end(E4)); _ -> fun (V25) -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Nothing'}} end end end(E1, E2, E3)); _ -> fun (V26) -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Nothing'}} end end end(E0)); _ -> fun (V27) -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Nothing'}} end end.
'case--getNewType,mkSubst-3666'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12, V13, V14, V15, V16) -> case V16 of 0 -> {'Idris.Core.CompileExpr.SubstCEnv.::', V14, ('nested--10563-3640--in--un--mkSubst'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, 'erased', ('Idris.Idris2.Prelude.Types':'dn--un--+_Num__Nat'((1 + 0), V15)), V14, V13, V12))}; 1 -> {'Idris.Core.CompileExpr.SubstCEnv.::', {'Idris.Core.CompileExpr.CErased', V8}, ('nested--10563-3640--in--un--mkSubst'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, 'erased', ('Idris.Idris2.Prelude.Types':'dn--un--+_Num__Nat'((1 + 0), V15)), V14, V13, V12))}; _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--case block in case block in case block in conCases-3425'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12, V13, V14, V15, V16, V17) -> case V17 of 0 -> fun (V18) -> {'Idris.Prelude.Types.Right', [{'Idris.Core.CompileExpr.MkConAlt', V12, {'Idris.Prelude.Types.Just', V3}, V13, ('Idris.Idris2.Core.CompileExpr':'un--shrinkCExp'('erased', 'erased', V14, V15))} | V16]} end; 1 -> fun (V19) -> {'Idris.Prelude.Types.Right', [{'Idris.Core.CompileExpr.MkConAlt', V12, {'Idris.Prelude.Types.Nothing'}, V13, ('Idris.Idris2.Core.CompileExpr':'un--shrinkCExp'('erased', 'erased', V14, V15))} | V16]} end; _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--case block in case block in conCases-3377'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12, V13) -> case V13 of {'Idris.Builtin.DPair.MkDPair', E0, E1} -> (fun (V14, V15) -> fun (V16) -> begin (V17 = (('un--toCExpTree'(('Idris.Idris2.Prelude.Types.List':'un--++'('erased', V0, V1)), V7, V6, V2))(V16))), case V17 of {'Idris.Prelude.Types.Left', E2} -> (fun (V18) -> {'Idris.Prelude.Types.Left', V18} end(E2)); {'Idris.Prelude.Types.Right', E3} -> (fun (V19) -> begin (V20 = (('un--conCases'(V1, V7, V6, V5))(V16))), case V20 of {'Idris.Prelude.Types.Left', E4} -> (fun (V21) -> {'Idris.Prelude.Types.Left', V21} end(E4)); {'Idris.Prelude.Types.Right', E5} -> (fun (V22) -> (('case--case block in case block in case block in conCases-3425'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12, V14, V15, V19, V22, ('nested--10557-3260--in--un--dcon'(V0, V1, V2, V3, V4, V5, V6, V7, case V9 of {'Idris.Core.Context.MkGlobalDef', E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22, E23, E24, E25, E26} -> (fun (V23, V24, V25, V26, V27, V28, V29, V30, V31, V32, V33, V34, V35, V36, V37, V38, V39, V40, V41, V42, V43) -> V40 end(E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22, E23, E24, E25, E26)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end))))(V16)) end(E5)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--case block in conCases-3311'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11) -> case V11 of {'Idris.Core.Context.DCon', E23, E24, E25} -> (fun (V12, V13, V14) -> case V14 of {'Idris.Prelude.Types.Just', E49} -> (fun (V15) -> ('un--conCases'(V1, V7, V6, V5)) end(E49)); _ -> fun (V16) -> begin (V17 = (('Idris.Idris2.Core.Context':'un--getFullName'(V7, V4))(V16))), case V17 of {'Idris.Prelude.Types.Left', E26} -> (fun (V18) -> {'Idris.Prelude.Types.Left', V18} end(E26)); {'Idris.Prelude.Types.Right', E27} -> (fun (V19) -> (('case--case block in case block in conCases-3377'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V19, ('un--mkDropSubst'(0, case V9 of {'Idris.Core.Context.MkGlobalDef', E28, E29, E30, E31, E32, E33, E34, E35, E36, E37, E38, E39, E40, E41, E42, E43, E44, E45, E46, E47, E48} -> (fun (V20, V21, V22, V23, V24, V25, V26, V27, V28, V29, V30, V31, V32, V33, V34, V35, V36, V37, V38, V39, V40) -> V23 end(E28, E29, E30, E31, E32, E33, E34, E35, E36, E37, E38, E39, E40, E41, E42, E43, E44, E45, E46, E47, E48)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end, V1, V0))))(V16)) end(E27)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end(E23, E24, E25)); _ -> fun (V41) -> begin (V42 = (('Idris.Idris2.Core.Context':'un--getFullName'(V7, V4))(V41))), case V42 of {'Idris.Prelude.Types.Left', E0} -> (fun (V43) -> {'Idris.Prelude.Types.Left', V43} end(E0)); {'Idris.Prelude.Types.Right', E1} -> (fun (V44) -> (('case--case block in case block in conCases-3377'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V44, ('un--mkDropSubst'(0, case V9 of {'Idris.Core.Context.MkGlobalDef', E2, E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22} -> (fun (V45, V46, V47, V48, V49, V50, V51, V52, V53, V54, V55, V56, V57, V58, V59, V60, V61, V62, V63, V64, V65) -> V48 end(E2, E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end, V1, V0))))(V41)) end(E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end.
'case--conCases-3288'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9) -> case V9 of {'Idris.Prelude.Types.Just', E0} -> (fun (V10) -> begin (V11 = {'Idris.Prelude.Types.Just', V10}), ('case--case block in conCases-3311'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V10, V11, case V10 of {'Idris.Core.Context.MkGlobalDef', E1, E2, E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21} -> (fun (V12, V13, V14, V15, V16, V17, V18, V19, V20, V21, V22, V23, V24, V25, V26, V27, V28, V29, V30, V31, V32) -> V29 end(E1, E2, E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end)) end end(E0)); {'Idris.Prelude.Types.Nothing'} -> (fun () -> fun (V33) -> begin (V34 = (('Idris.Idris2.Core.Context':'un--getFullName'(V7, V4))(V33))), case V34 of {'Idris.Prelude.Types.Left', E22} -> (fun (V35) -> {'Idris.Prelude.Types.Left', V35} end(E22)); {'Idris.Prelude.Types.Right', E23} -> (fun (V36) -> begin (V37 = (('un--toCExpTree'(('Idris.Idris2.Prelude.Types.List':'un--++'('erased', V0, V1)), V7, V6, V2))(V33))), case V37 of {'Idris.Prelude.Types.Left', E24} -> (fun (V38) -> {'Idris.Prelude.Types.Left', V38} end(E24)); {'Idris.Prelude.Types.Right', E25} -> (fun (V39) -> begin (V40 = (('un--conCases'(V1, V7, V6, V5))(V33))), case V40 of {'Idris.Prelude.Types.Left', E26} -> (fun (V41) -> {'Idris.Prelude.Types.Left', V41} end(E26)); {'Idris.Prelude.Types.Right', E27} -> (fun (V42) -> {'Idris.Prelude.Types.Right', [{'Idris.Core.CompileExpr.MkConAlt', V36, {'Idris.Prelude.Types.Nothing'}, V0, V39} | V42]} end(E27)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E25)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E23)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--case block in toCExp-3153'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9) -> case V9 of {'Idris.Compiler.CompileExpr.Arity', E0} -> (fun (V10) -> begin (V11 = ('un--expandToArity'(V0, V10, V8, V6))), fun (V12) -> {'Idris.Prelude.Types.Right', ('un--natHack'('erased', V11))} end end end(E0)); {'Idris.Compiler.CompileExpr.NewTypeBy', E1, E2} -> (fun (V13, V14) -> begin (V15 = ('un--applyNewType'(V0, V13, V14, V8, V6))), fun (V16) -> {'Idris.Prelude.Types.Right', ('un--natHack'('erased', V15))} end end end(E1, E2)); {'Idris.Compiler.CompileExpr.EraseArgs', E3, E4} -> (fun (V17, V18) -> begin (V19 = ('un--eraseConArgs'(V0, V17, V18, V8, V6))), fun (V20) -> {'Idris.Prelude.Types.Right', ('un--natHack'('erased', V19))} end end end(E3, E4)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--toCExp-3103'(V0, V1, V2, V3, V4) -> case V4 of {'Idris.Builtin.MkPair', E0, E1} -> (fun (V5, V6) -> fun (V7) -> begin (V9 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V8) -> ('un--toCExp'(V0, V3, V2, V8)) end, V6, []))(V7))), case V9 of {'Idris.Prelude.Types.Left', E2} -> (fun (V10) -> {'Idris.Prelude.Types.Left', V10} end(E2)); {'Idris.Prelude.Types.Right', E3} -> (fun (V11) -> begin (V13 = begin (V12 = ('erlang':'get'(V3))), {'Idris.Prelude.Types.Right', V12} end), case V13 of {'Idris.Prelude.Types.Left', E4} -> (fun (V14) -> {'Idris.Prelude.Types.Left', V14} end(E4)); {'Idris.Prelude.Types.Right', E5} -> (fun (V15) -> begin (V16 = (('un--toCExpTm'(V0, V3, V2, V5))(V7))), case V16 of {'Idris.Prelude.Types.Left', E6} -> (fun (V17) -> {'Idris.Prelude.Types.Left', V17} end(E6)); {'Idris.Prelude.Types.Right', E7} -> (fun (V18) -> begin (V19 = (('un--numArgs'('erased', V15, V5))(V7))), case V19 of {'Idris.Prelude.Types.Left', E8} -> (fun (V20) -> {'Idris.Prelude.Types.Left', V20} end(E8)); {'Idris.Prelude.Types.Right', E9} -> (fun (V21) -> case V21 of {'Idris.Compiler.CompileExpr.Arity', E10} -> (fun (V22) -> begin (V23 = ('un--expandToArity'(V0, V22, V18, V11))), {'Idris.Prelude.Types.Right', ('un--natHack'('erased', V23))} end end(E10)); {'Idris.Compiler.CompileExpr.NewTypeBy', E11, E12} -> (fun (V24, V25) -> begin (V26 = ('un--applyNewType'(V0, V24, V25, V18, V11))), {'Idris.Prelude.Types.Right', ('un--natHack'('erased', V26))} end end(E11, E12)); {'Idris.Compiler.CompileExpr.EraseArgs', E13, E14} -> (fun (V27, V28) -> begin (V29 = ('un--eraseConArgs'(V0, V27, V28, V18, V11))), {'Idris.Prelude.Types.Right', ('un--natHack'('erased', V29))} end end(E13, E14)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E9)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E7)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E5)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--toCExpTm-3037'(V0, V1, V2, V3, V4, V5, V6) -> case V6 of 0 -> fun (V7) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CPrimVal', V3, V2}} end; 1 -> fun (V8) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CCon', V3, {'Idris.Core.Name.UN', ('Idris.Idris2.Core.TT':'dn--un--show_Show__Constant'(V2))}, {'Idris.Prelude.Types.Nothing'}, []}} end; _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--toCExpTm-2727'(V0, V1, V2, V3, V4, V5, V6, V7) -> case V7 of 0 -> fun (V8) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CPrimVal', V4, {'Idris.Core.TT.I', V2}}} end; 1 -> fun (V9) -> begin (V10 = (('Idris.Idris2.Core.Context':'un--getFullName'(V6, V3))(V9))), case V10 of {'Idris.Prelude.Types.Left', E0} -> (fun (V11) -> {'Idris.Prelude.Types.Left', V11} end(E0)); {'Idris.Prelude.Types.Right', E1} -> (fun (V12) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CCon', V4, V12, {'Idris.Prelude.Types.Just', V2}, []}} end(E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end; _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--boolHackTree-2664'(V0, V1, V2, V3, V4, V5) -> case V5 of {'Idris.Prelude.Types.Just', E0} -> (fun (V6) -> {'Idris.Core.CompileExpr.CConstCase', V4, V3, V6, V1} end(E0)); {'Idris.Prelude.Types.Nothing'} -> (fun () -> {'Idris.Core.CompileExpr.CConCase', V4, V3, V2, V1} end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--natHackTree-2519'(V0, V1, V2, V3, V4, V5) -> case V5 of 0 -> begin (V7 = ('Idris.Idris2.Prelude.Types':'un--maybe'('erased', 'erased', fun () -> {'Idris.Core.CompileExpr.CCrash', V4, <<"Nat case not covered"/utf8>>} end, fun () -> fun (V6) -> V6 end end, V1))), begin (V9 = ('Idris.Idris2.Prelude.Types':'un--maybe'('erased', 'erased', fun () -> V7 end, fun () -> fun (V8) -> V8 end end, ('un--getSBranch'('erased', V3, V2))))), begin (V11 = ('Idris.Idris2.Prelude.Types':'un--maybe'('erased', 'erased', fun () -> V7 end, fun () -> fun (V10) -> V10 end end, ('un--getZBranch'('erased', V2))))), {'Idris.Core.CompileExpr.CConstCase', V4, V3, [{'Idris.Core.CompileExpr.MkConstAlt', {'Idris.Core.TT.BI', 0}, V11} | []], {'Idris.Prelude.Types.Just', V9}} end end end; 1 -> {'Idris.Core.CompileExpr.CConCase', V4, V3, V2, V1}; _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--natHack-2310'(V0, V1, V2, V3, V4) -> case V4 of {'Idris.Data.Vect.::', E0, E1} -> (fun (V5, V6) -> case V6 of {'Idris.Data.Vect.::', E2, E3} -> (fun (V7, V8) -> case V8 of {'Idris.Data.Vect.Nil'} -> (fun () -> {'Idris.Core.CompileExpr.CApp', V1, {'Idris.Core.CompileExpr.CRef', V2, {'Idris.Core.Name.UN', <<"prim__mul_Integer"/utf8>>}}, [V5 | [V7 | []]]} end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2, E3)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--natHack-2278'(V0, V1, V2, V3, V4) -> case V4 of {'Idris.Data.Vect.::', E0, E1} -> (fun (V5, V6) -> case V6 of {'Idris.Data.Vect.::', E2, E3} -> (fun (V7, V8) -> case V8 of {'Idris.Data.Vect.Nil'} -> (fun () -> {'Idris.Core.CompileExpr.CApp', V1, {'Idris.Core.CompileExpr.CRef', V2, {'Idris.Core.Name.UN', <<"prim__add_Integer"/utf8>>}}, [V5 | [V7 | []]]} end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2, E3)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--natHack-2253'(V0, V1, V2, V3, V4) -> case V4 of {'Idris.Data.Vect.::', E0, E1} -> (fun (V5, V6) -> case V6 of {'Idris.Data.Vect.Nil'} -> (fun () -> {'Idris.Core.CompileExpr.CApp', V1, {'Idris.Core.CompileExpr.CRef', V2, {'Idris.Core.Name.NS', ('Idris.Idris2.Core.Name.Namespace':'un--typesNS'()), {'Idris.Core.Name.UN', <<"prim__integerToNat"/utf8>>}}}, [V5 | []]} end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--natHack-2237'(V0, V1, V2, V3, V4) -> case V4 of {'Idris.Data.Vect.::', E0, E1} -> (fun (V5, V6) -> case V6 of {'Idris.Data.Vect.Nil'} -> (fun () -> V5 end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--natHack-2207'(V0, V1, V2, V3) -> case V3 of {'Idris.Data.Vect.::', E0, E1} -> (fun (V4, V5) -> case V5 of {'Idris.Data.Vect.Nil'} -> (fun () -> {'Idris.Core.CompileExpr.CApp', V1, {'Idris.Core.CompileExpr.CRef', V1, {'Idris.Core.Name.UN', <<"prim__add_Integer"/utf8>>}}, [{'Idris.Core.CompileExpr.CPrimVal', V1, {'Idris.Core.TT.BI', 1}} | [V4 | []]]} end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--natHack-2193'(V0, V1, V2, V3) -> case V3 of {'Idris.Data.Vect.Nil'} -> (fun () -> {'Idris.Core.CompileExpr.CPrimVal', V1, {'Idris.Core.TT.BI', 0}} end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--magic,go-1986'(V0, V1, V2, V3, V4, V5, V6) -> case V6 of {'Idris.Prelude.Types.Nothing'} -> (fun () -> ('nested--9160-1904--in--un--go'('erased', V1, V2, V4, V5)) end()); {'Idris.Prelude.Types.Just', E0} -> (fun (V7) -> V7 end(E0)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--case block in mkDropSubst-1831'(V0, V1, V2, V3, V4, V5, V6, V7) -> case V7 of 0 -> {'Idris.Builtin.DPair.MkDPair', V5, {'Idris.Core.TT.DropCons', V6}}; 1 -> {'Idris.Builtin.DPair.MkDPair', [V0 | V5], {'Idris.Core.TT.KeepCons', V6}}; _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--mkDropSubst-1810'(V0, V1, V2, V3, V4, V5) -> case V5 of {'Idris.Builtin.DPair.MkDPair', E0, E1} -> (fun (V6, V7) -> ('case--case block in mkDropSubst-1831'(V0, V1, V2, V3, V4, V6, V7, ('Idris.Idris2.Prelude.Types':'un--elem'('erased', {'Idris.Prelude.EqOrd.dn--un--__mkEq', fun (V8) -> fun (V9) -> ('Idris.Idris2.Prelude.Types':'dn--un--==_Eq__Nat'(V8, V9)) end end, fun (V10) -> fun (V11) -> ('Idris.Idris2.Prelude.Types':'dn--un--/=_Eq__Nat'(V10, V11)) end end}, V4, V3)))) end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--dropPos,drop-1713'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9) -> case V9 of 0 -> ('nested--8927-1699--in--un--drop'('erased', V1, V2, V3, V4, V5, ('Idris.Idris2.Prelude.Types':'dn--un--+_Num__Nat'((1 + 0), V8)), V7)); 1 -> [V6 | ('nested--8927-1699--in--un--drop'('erased', V1, V2, V3, V4, V5, ('Idris.Idris2.Prelude.Types':'dn--un--+_Num__Nat'((1 + 0), V8)), V7))]; _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--applyNewType,keep-1614'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9) -> case V9 of 0 -> V6; 1 -> ('nested--8808-1592--in--un--keep'(V0, V1, V2, V3, V4, 'erased', ('Idris.Idris2.Prelude.Types':'dn--un--+_Num__Nat'((1 + 0), V8)), V7)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'case--case block in numArgs-1206'(V0, V1, V2, V3, V4, V5, V6, V7) -> case V7 of {'Idris.Core.Context.DCon', E0, E1, E2} -> (fun (V8, V9, V10) -> case V10 of {'Idris.Prelude.Types.Nothing'} -> (fun () -> fun (V11) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.EraseArgs', V9, case V5 of {'Idris.Core.Context.MkGlobalDef', E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22, E23} -> (fun (V12, V13, V14, V15, V16, V17, V18, V19, V20, V21, V22, V23, V24, V25, V26, V27, V28, V29, V30, V31, V32) -> V15 end(E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22, E23)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end}} end end()); {'Idris.Prelude.Types.Just', E24} -> (fun (V33) -> case V33 of {'Idris.Builtin.MkPair', E25, E26} -> (fun (V34, V35) -> fun (V36) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.NewTypeBy', V9, V35}} end end(E25, E26)); _ -> fun (V37) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.Arity', 0}} end end end(E24)); _ -> fun (V38) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.Arity', 0}} end end end(E0, E1, E2)); {'Idris.Core.Context.PMDef', E27, E28, E29, E30, E31} -> (fun (V39, V40, V41, V42, V43) -> fun (V44) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.Arity', ('Idris.Idris2.Prelude.Types.List':'un--length'('erased', V40))}} end end(E27, E28, E29, E30, E31)); {'Idris.Core.Context.ExternDef', E32} -> (fun (V45) -> fun (V46) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.Arity', V45}} end end(E32)); {'Idris.Core.Context.ForeignDef', E33, E34} -> (fun (V47, V48) -> fun (V49) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.Arity', V47}} end end(E33, E34)); {'Idris.Core.Context.Builtin', E35, E36} -> (fun (V50, V51) -> fun (V52) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.Arity', V50}} end end(E35, E36)); _ -> fun (V53) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.Arity', 0}} end end.
'case--numArgs-1191'(V0, V1, V2, V3, V4, V5) -> case V5 of {'Idris.Prelude.Types.Just', E0} -> (fun (V6) -> begin (V7 = {'Idris.Prelude.Types.Just', V6}), ('case--case block in numArgs-1206'('erased', V1, V2, V3, V4, V6, V7, case V6 of {'Idris.Core.Context.MkGlobalDef', E1, E2, E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21} -> (fun (V8, V9, V10, V11, V12, V13, V14, V15, V16, V17, V18, V19, V20, V21, V22, V23, V24, V25, V26, V27, V28) -> V25 end(E1, E2, E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end)) end end(E0)); {'Idris.Prelude.Types.Nothing'} -> (fun () -> fun (V29) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.Arity', 0}} end end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'nested--9907-2625--in--un--toBool'(V0, V1, V2, V3, V4, V5) -> case V5 of {'Idris.Core.CompileExpr.MkConAlt', E0, E1, E2, E3} -> (fun (V6, V7, V8, V9) -> case V7 of {'Idris.Prelude.Types.Just', E4} -> (fun (V10) -> case V8 of [] -> ('Idris.Idris2.Prelude.Types':'dn--un-->>=_Monad__Maybe'('erased', 'erased', ('Idris.Idris2.Prelude.Interfaces':'un--guard'('erased', {'Idris.Prelude.Interfaces.dn--un--__mkAlternative', {'Idris.Prelude.Interfaces.dn--un--__mkApplicative', fun (V11) -> fun (V12) -> fun (V13) -> fun (V14) -> ('Idris.Idris2.Prelude.Types':'dn--un--map_Functor__Maybe'('erased', 'erased', V13, V14)) end end end end, fun (V15) -> fun (V16) -> ('Idris.Idris2.Prelude.Types':'dn--un--pure_Applicative__Maybe'('erased', V16)) end end, fun (V17) -> fun (V18) -> fun (V19) -> fun (V20) -> ('Idris.Idris2.Prelude.Types':'dn--un--<*>_Applicative__Maybe'('erased', 'erased', V19, V20)) end end end end}, fun (V21) -> ('Idris.Idris2.Prelude.Types':'dn--un--empty_Alternative__Maybe'('erased')) end, fun (V22) -> fun (V23) -> fun (V24) -> ('Idris.Idris2.Prelude.Types':'dn--un--<|>_Alternative__Maybe'('erased', V23, V24)) end end end}, ('un--isFiniteEnum'(V6)))), fun (V25) -> ('Idris.Idris2.Prelude.Types':'dn--un--pure_Applicative__Maybe'('erased', {'Idris.Core.CompileExpr.MkConstAlt', {'Idris.Core.TT.I', V10}, V9})) end)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E4)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E0, E1, E2, E3)); _ -> {'Idris.Prelude.Types.Nothing'} end.
'nested--13061-5643--in--un--toArgExp'(V0, V1, V2, V3, V4, V5, V6) -> {'Idris.Core.CompileExpr.CLocal', V6, ('Idris.Idris2.Core.FC':'un--emptyFC'())}.
'nested--13061-5512--in--un--toArgExp'(V0, V1, V2, V3, V4, V5) -> {'Idris.Core.CompileExpr.CLocal', V5, ('Idris.Idris2.Core.FC':'un--emptyFC'())}.
'nested--10563-3640--in--un--mkSubst'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, V10, V11, V12, V13, V14) -> case V14 of [] -> {'Idris.Core.CompileExpr.SubstCEnv.Nil'}; [E0 | E1] -> (fun (V15, V16) -> ('case--getNewType,mkSubst-3666'(V0, V1, V2, V3, V4, V5, V6, V7, V8, V9, 'erased', V15, V16, V13, V12, V11, ('Idris.Idris2.Prelude.Types':'dn--un--==_Eq__Nat'(V11, V13)))) end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'nested--8606-1410--in--un--mkLocal'(V0, V1, V2, V3, V4, V5) -> {'Idris.Core.CompileExpr.CLocal', V5, V4}.
'nested--8606-1411--in--un--mkApp'(V0, V1, V2, V3, V4, V5) -> case V5 of [] -> V4; _ -> case V4 of {'Idris.Core.CompileExpr.CApp', E0, E1, E2} -> (fun (V6, V7, V8) -> {'Idris.Core.CompileExpr.CApp', V6, V7, ('Idris.Idris2.Prelude.Types.List':'un--++'('erased', V8, V5))} end(E0, E1, E2)); {'Idris.Core.CompileExpr.CCon', E3, E4, E5, E6} -> (fun (V9, V10, V11, V12) -> {'Idris.Core.CompileExpr.CCon', V9, V10, V11, ('Idris.Idris2.Prelude.Types.List':'un--++'('erased', V12, V5))} end(E3, E4, E5, E6)); {'Idris.Core.CompileExpr.CExtPrim', E7, E8, E9} -> (fun (V13, V14, V15) -> {'Idris.Core.CompileExpr.CExtPrim', V13, V14, ('Idris.Idris2.Prelude.Types.List':'un--++'('erased', V15, V5))} end(E7, E8, E9)); _ -> {'Idris.Core.CompileExpr.CApp', ('Idris.Idris2.Core.CompileExpr':'un--getFC'('erased', V4)), V4, V5} end end.
'nested--8808-1593--in--un--keepArg'(V0, V1, V2, V3, V4, V5, V6) -> case V6 of {'Idris.Core.CompileExpr.CLam', E0, E1, E2} -> (fun (V7, V8, V9) -> {'Idris.Core.CompileExpr.CLam', V7, V8, ('nested--8808-1593--in--un--keepArg'(V0, V1, V2, V3, V4, 'erased', V9))} end(E0, E1, E2)); {'Idris.Core.CompileExpr.CCon', E3, E4, E5, E6} -> (fun (V10, V11, V12, V13) -> ('nested--8808-1592--in--un--keep'(V0, V1, V2, V3, V4, 'erased', 0, V13)) end(E3, E4, E5, E6)); _ -> {'Idris.Core.CompileExpr.CErased', ('Idris.Idris2.Core.CompileExpr':'un--getFC'('erased', V2))} end.
'nested--8808-1592--in--un--keep'(V0, V1, V2, V3, V4, V5, V6, V7) -> case V7 of [] -> {'Idris.Core.CompileExpr.CErased', ('Idris.Idris2.Core.CompileExpr':'un--getFC'('erased', V2))}; [E0 | E1] -> (fun (V8, V9) -> ('case--applyNewType,keep-1614'(V0, V1, V2, V3, V4, 'erased', V8, V9, V6, ('Idris.Idris2.Prelude.Types':'dn--un--==_Eq__Nat'(V6, V3)))) end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'nested--9160-1904--in--un--go'(V0, V1, V2, V3, V4) -> case V3 of [] -> V4; [E0 | E1] -> (fun (V5, V6) -> ('case--magic,go-1986'('erased', V1, V2, V5, V6, V4, ('nested--9160-1903--in--un--fire'('erased', V1, V2, V5, V4)))) end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'nested--13061-5644--in--un--getVars'(V0, V1, V2, V3, V4, V5, V6, V7) -> case V7 of {'Idris.Compiler.CompileExpr.NoArgs'} -> (fun () -> {'Idris.Data.Vect.Nil'} end()); {'Idris.Compiler.CompileExpr.ConsArg', E0, E1} -> (fun (V8, V9) -> {'Idris.Data.Vect.::', 0, ('Idris.Idris2.Data.Vect':'dn--un--map_Functor__(Vect $n)'('erased', 'erased', 'erased', fun (V10) -> ('un--weakenVar'('erased', 'erased', V10)) end, ('nested--13061-5644--in--un--getVars'(V0, V1, V2, V3, V4, 'erased', 'erased', V9))))} end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'nested--13061-5513--in--un--getVars'(V0, V1, V2, V3, V4, V5, V6) -> case V6 of {'Idris.Compiler.CompileExpr.NoArgs'} -> (fun () -> [] end()); {'Idris.Compiler.CompileExpr.ConsArg', E0, E1} -> (fun (V7, V8) -> [0 | ('Idris.Idris2.Prelude.Types':'dn--un--map_Functor__List'('erased', 'erased', fun (V9) -> ('un--weakenVar'('erased', 'erased', V9)) end, ('nested--13061-5513--in--un--getVars'(V0, V1, V2, V3, 'erased', 'erased', V8))))] end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'nested--9160-1903--in--un--fire'(V0, V1, V2, V3, V4) -> case V3 of {'Idris.Compiler.CompileExpr.MagicCCon', E0, E1, E2, E3} -> (fun (V5, V6, V7, V8) -> case V4 of {'Idris.Core.CompileExpr.CCon', E4, E5, E6, E7} -> (fun (V9, V10, V11, V12) -> case V10 of {'Idris.Core.Name.NS', E8, E9} -> (fun (V13, V14) -> case V14 of {'Idris.Core.Name.UN', E10} -> (fun (V15) -> ('Idris.Idris2.Prelude.Types':'dn--un-->>=_Monad__Maybe'('erased', 'erased', ('Idris.Idris2.Prelude.Interfaces':'un--guard'('erased', {'Idris.Prelude.Interfaces.dn--un--__mkAlternative', {'Idris.Prelude.Interfaces.dn--un--__mkApplicative', fun (V16) -> fun (V17) -> fun (V18) -> fun (V19) -> ('Idris.Idris2.Prelude.Types':'dn--un--map_Functor__Maybe'('erased', 'erased', V18, V19)) end end end end, fun (V20) -> fun (V21) -> ('Idris.Idris2.Prelude.Types':'dn--un--pure_Applicative__Maybe'('erased', V21)) end end, fun (V22) -> fun (V23) -> fun (V24) -> fun (V25) -> ('Idris.Idris2.Prelude.Types':'dn--un--<*>_Applicative__Maybe'('erased', 'erased', V24, V25)) end end end end}, fun (V26) -> ('Idris.Idris2.Prelude.Types':'dn--un--empty_Alternative__Maybe'('erased')) end, fun (V27) -> fun (V28) -> fun (V29) -> ('Idris.Idris2.Prelude.Types':'dn--un--<|>_Alternative__Maybe'('erased', V28, V29)) end end end}, ('Idris.Idris2.Prelude.Basics':'un--&&'(('Idris.Idris2.Prelude.EqOrd':'dn--un--==_Eq__String'(V6, V15)), fun () -> ('Idris.Idris2.Core.Name.Namespace':'dn--un--==_Eq__Namespace'(V5, V13)) end)))), fun (V30) -> ('Idris.Idris2.Prelude.Types':'dn--un--map_Functor__Maybe'('erased', 'erased', ((V8(V9))('erased')), ('Idris.Idris2.Data.Vect':'un--toVect'('erased', V7, V12)))) end)) end(E10)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E8, E9)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E4, E5, E6, E7)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E0, E1, E2, E3)); {'Idris.Compiler.CompileExpr.MagicCRef', E11, E12, E13, E14} -> (fun (V31, V32, V33, V34) -> case V4 of {'Idris.Core.CompileExpr.CApp', E15, E16, E17} -> (fun (V35, V36, V37) -> case V36 of {'Idris.Core.CompileExpr.CRef', E18, E19} -> (fun (V38, V39) -> case V39 of {'Idris.Core.Name.NS', E20, E21} -> (fun (V40, V41) -> case V41 of {'Idris.Core.Name.UN', E22} -> (fun (V42) -> ('Idris.Idris2.Prelude.Types':'dn--un-->>=_Monad__Maybe'('erased', 'erased', ('Idris.Idris2.Prelude.Interfaces':'un--guard'('erased', {'Idris.Prelude.Interfaces.dn--un--__mkAlternative', {'Idris.Prelude.Interfaces.dn--un--__mkApplicative', fun (V43) -> fun (V44) -> fun (V45) -> fun (V46) -> ('Idris.Idris2.Prelude.Types':'dn--un--map_Functor__Maybe'('erased', 'erased', V45, V46)) end end end end, fun (V47) -> fun (V48) -> ('Idris.Idris2.Prelude.Types':'dn--un--pure_Applicative__Maybe'('erased', V48)) end end, fun (V49) -> fun (V50) -> fun (V51) -> fun (V52) -> ('Idris.Idris2.Prelude.Types':'dn--un--<*>_Applicative__Maybe'('erased', 'erased', V51, V52)) end end end end}, fun (V53) -> ('Idris.Idris2.Prelude.Types':'dn--un--empty_Alternative__Maybe'('erased')) end, fun (V54) -> fun (V55) -> fun (V56) -> ('Idris.Idris2.Prelude.Types':'dn--un--<|>_Alternative__Maybe'('erased', V55, V56)) end end end}, ('Idris.Idris2.Prelude.Basics':'un--&&'(('Idris.Idris2.Prelude.EqOrd':'dn--un--==_Eq__String'(V32, V42)), fun () -> ('Idris.Idris2.Core.Name.Namespace':'dn--un--==_Eq__Namespace'(V31, V40)) end)))), fun (V57) -> ('Idris.Idris2.Prelude.Types':'dn--un--map_Functor__Maybe'('erased', 'erased', (((V34(V35))(V38))('erased')), ('Idris.Idris2.Data.Vect':'un--toVect'('erased', V33, V37)))) end)) end(E22)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E20, E21)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E18, E19)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E15, E16, E17)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E11, E12, E13, E14)); _ -> {'Idris.Prelude.Types.Nothing'} end.
'nested--8927-1699--in--un--drop'(V0, V1, V2, V3, V4, V5, V6, V7) -> case V7 of [] -> []; [E0 | E1] -> (fun (V8, V9) -> ('case--dropPos,drop-1713'('erased', V1, V2, V3, V4, V5, V8, V9, V6, ('Idris.Idris2.Prelude.Types':'un--elem'('erased', {'Idris.Prelude.EqOrd.dn--un--__mkEq', fun (V10) -> fun (V11) -> ('Idris.Idris2.Prelude.Types':'dn--un--==_Eq__Nat'(V10, V11)) end end, fun (V12) -> fun (V13) -> ('Idris.Idris2.Prelude.Types':'dn--un--/=_Eq__Nat'(V12, V13)) end end}, V6, V5)))) end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'nested--10557-3260--in--un--dcon'(V0, V1, V2, V3, V4, V5, V6, V7, V8) -> case V8 of {'Idris.Core.Context.DCon', E0, E1, E2} -> (fun (V9, V10, V11) -> 0 end(E0, E1, E2)); _ -> 1 end.
'nested--8705-1511--in--un--applyAll'(V0, V1, V2, V3, V4) -> case V4 of [] -> V3; [E0 | E1] -> (fun (V5, V6) -> ('nested--8705-1511--in--un--applyAll'(V0, V1, V2, {'Idris.Core.CompileExpr.CApp', ('Idris.Idris2.Core.CompileExpr':'un--getFC'('erased', V3)), V3, [V5 | []]}, V6)) end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'nested--8705-1533--in--un--addArg'(V0, V1, V2, V3, V4, V5, V6) -> case V5 of {'Idris.Core.CompileExpr.CApp', E0, E1, E2} -> (fun (V7, V8, V9) -> {'Idris.Core.CompileExpr.CApp', V7, V8, ('Idris.Idris2.Prelude.Types.List':'un--++'('erased', V9, [V6 | []]))} end(E0, E1, E2)); {'Idris.Core.CompileExpr.CCon', E3, E4, E5, E6} -> (fun (V10, V11, V12, V13) -> {'Idris.Core.CompileExpr.CCon', V10, V11, V12, ('Idris.Idris2.Prelude.Types.List':'un--++'('erased', V13, [V6 | []]))} end(E3, E4, E5, E6)); {'Idris.Core.CompileExpr.CExtPrim', E7, E8, E9} -> (fun (V14, V15, V16) -> {'Idris.Core.CompileExpr.CExtPrim', V14, V15, ('Idris.Idris2.Prelude.Types.List':'un--++'('erased', V16, [V6 | []]))} end(E7, E8, E9)); _ -> {'Idris.Core.CompileExpr.CApp', ('Idris.Idris2.Core.CompileExpr':'un--getFC'('erased', V5)), V5, [V6 | []]} end.
'un--weakenVar'(V0, V1, V2) -> (1 + V2).
'un--tryZBranch'(V0, V1) -> case V1 of {'Idris.Core.CompileExpr.MkConAlt', E0, E1, E2, E3} -> (fun (V2, V3, V4, V5) -> case V2 of {'Idris.Core.Name.NS', E4, E5} -> (fun (V6, V7) -> case V7 of {'Idris.Core.Name.UN', E6} -> (fun (V8) -> case V4 of [] -> ('Idris.Idris2.Prelude.Types':'dn--un-->>=_Monad__Maybe'('erased', 'erased', ('Idris.Idris2.Prelude.Interfaces':'un--guard'('erased', {'Idris.Prelude.Interfaces.dn--un--__mkAlternative', {'Idris.Prelude.Interfaces.dn--un--__mkApplicative', fun (V9) -> fun (V10) -> fun (V11) -> fun (V12) -> ('Idris.Idris2.Prelude.Types':'dn--un--map_Functor__Maybe'('erased', 'erased', V11, V12)) end end end end, fun (V13) -> fun (V14) -> ('Idris.Idris2.Prelude.Types':'dn--un--pure_Applicative__Maybe'('erased', V14)) end end, fun (V15) -> fun (V16) -> fun (V17) -> fun (V18) -> ('Idris.Idris2.Prelude.Types':'dn--un--<*>_Applicative__Maybe'('erased', 'erased', V17, V18)) end end end end}, fun (V19) -> ('Idris.Idris2.Prelude.Types':'dn--un--empty_Alternative__Maybe'('erased')) end, fun (V20) -> fun (V21) -> fun (V22) -> ('Idris.Idris2.Prelude.Types':'dn--un--<|>_Alternative__Maybe'('erased', V21, V22)) end end end}, ('Idris.Idris2.Prelude.Basics':'un--&&'(('Idris.Idris2.Prelude.EqOrd':'dn--un--==_Eq__String'(V8, <<"Z"/utf8>>)), fun () -> ('Idris.Idris2.Core.Name.Namespace':'dn--un--==_Eq__Namespace'(V6, ('Idris.Idris2.Core.Name.Namespace':'un--typesNS'()))) end)))), fun (V23) -> ('Idris.Idris2.Prelude.Types':'dn--un--pure_Applicative__Maybe'('erased', V5)) end)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E6)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E4, E5)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E0, E1, E2, E3)); _ -> {'Idris.Prelude.Types.Nothing'} end.
'un--trySBranch'(V0, V1, V2) -> case V2 of {'Idris.Core.CompileExpr.MkConAlt', E0, E1, E2, E3} -> (fun (V3, V4, V5, V6) -> case V3 of {'Idris.Core.Name.NS', E4, E5} -> (fun (V7, V8) -> case V8 of {'Idris.Core.Name.UN', E6} -> (fun (V9) -> case V5 of [E7 | E8] -> (fun (V10, V11) -> case V11 of [] -> ('Idris.Idris2.Prelude.Types':'dn--un-->>=_Monad__Maybe'('erased', 'erased', ('Idris.Idris2.Prelude.Interfaces':'un--guard'('erased', {'Idris.Prelude.Interfaces.dn--un--__mkAlternative', {'Idris.Prelude.Interfaces.dn--un--__mkApplicative', fun (V12) -> fun (V13) -> fun (V14) -> fun (V15) -> ('Idris.Idris2.Prelude.Types':'dn--un--map_Functor__Maybe'('erased', 'erased', V14, V15)) end end end end, fun (V16) -> fun (V17) -> ('Idris.Idris2.Prelude.Types':'dn--un--pure_Applicative__Maybe'('erased', V17)) end end, fun (V18) -> fun (V19) -> fun (V20) -> fun (V21) -> ('Idris.Idris2.Prelude.Types':'dn--un--<*>_Applicative__Maybe'('erased', 'erased', V20, V21)) end end end end}, fun (V22) -> ('Idris.Idris2.Prelude.Types':'dn--un--empty_Alternative__Maybe'('erased')) end, fun (V23) -> fun (V24) -> fun (V25) -> ('Idris.Idris2.Prelude.Types':'dn--un--<|>_Alternative__Maybe'('erased', V24, V25)) end end end}, ('Idris.Idris2.Prelude.Basics':'un--&&'(('Idris.Idris2.Prelude.EqOrd':'dn--un--==_Eq__String'(V9, <<"S"/utf8>>)), fun () -> ('Idris.Idris2.Core.Name.Namespace':'dn--un--==_Eq__Namespace'(V7, ('Idris.Idris2.Core.Name.Namespace':'un--typesNS'()))) end)))), fun (V26) -> begin (V27 = ('Idris.Idris2.Core.CompileExpr':'un--getFC'('erased', V1))), ('Idris.Idris2.Prelude.Types':'dn--un--pure_Applicative__Maybe'('erased', {'Idris.Core.CompileExpr.CLet', V27, V10, 0, ('un--natMinus'(V27, V27, 'erased', {'Idris.Data.Vect.::', V1, {'Idris.Data.Vect.::', {'Idris.Core.CompileExpr.CPrimVal', V27, {'Idris.Core.TT.BI', 1}}, {'Idris.Data.Vect.Nil'}}})), V6})) end end)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E7, E8)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E6)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E4, E5)); _ -> {'Idris.Prelude.Types.Nothing'} end end(E0, E1, E2, E3)); _ -> {'Idris.Prelude.Types.Nothing'} end.
'un--toCExpTree\x{27}'(V0, V1, V2, V3) -> case V3 of {'Idris.Core.CaseTree.Case', E0, E1, E2, E3} -> (fun (V4, V5, V6, V7) -> case V7 of [E4 | E5] -> (fun (V8, V9) -> case V8 of {'Idris.Core.CaseTree.ConCase', E6, E7, E8, E9} -> (fun (V10, V11, V12, V13) -> begin (V14 = ('Idris.Idris2.Core.TT':'un--getLoc'('erased', V6))), fun (V15) -> begin (V16 = (('un--getNewType'(V0, V1, V14, {'Idris.Core.CompileExpr.CLocal', V5, V14}, V2, V7))(V15))), case V16 of {'Idris.Prelude.Types.Left', E10} -> (fun (V17) -> {'Idris.Prelude.Types.Left', V17} end(E10)); {'Idris.Prelude.Types.Right', E11} -> (fun (V18) -> begin (V19 = [{'Idris.Core.CaseTree.ConCase', V10, V11, V12, V13} | V9]), case V18 of {'Idris.Prelude.Types.Nothing'} -> (fun () -> begin (V21 = begin (V20 = ('erlang':'get'(V1))), {'Idris.Prelude.Types.Right', V20} end), case V21 of {'Idris.Prelude.Types.Left', E12} -> (fun (V22) -> {'Idris.Prelude.Types.Left', V22} end(E12)); {'Idris.Prelude.Types.Right', E13} -> (fun (V23) -> begin (V24 = (('un--conCases'(V0, V1, V2, V19))(V15))), case V24 of {'Idris.Prelude.Types.Left', E14} -> (fun (V25) -> {'Idris.Prelude.Types.Left', V25} end(E14)); {'Idris.Prelude.Types.Right', E15} -> (fun (V26) -> begin (V27 = (('un--getDef'(V0, V1, V2, V19))(V15))), case V27 of {'Idris.Prelude.Types.Left', E16} -> (fun (V28) -> {'Idris.Prelude.Types.Left', V28} end(E16)); {'Idris.Prelude.Types.Right', E17} -> (fun (V29) -> begin (V30 = {'Idris.Prelude.Types.Nothing'}), (('case--case block in toCExpTree\x{27}-4036'(V0, V4, V5, V9, V10, V11, V12, V13, V19, V6, 'erased', V2, V1, V14, V30, V23, V26, V29, ('Idris.Idris2.Data.List':'un--isNil'('erased', V26))))(V15)) end end(E17)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E15)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E13)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end()); {'Idris.Prelude.Types.Just', E18} -> (fun (V31) -> {'Idris.Prelude.Types.Right', V31} end(E18)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E11)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end(E6, E7, E8, E9)); {'Idris.Core.CaseTree.DelayCase', E19, E20, E21} -> (fun (V32, V33, V34) -> fun (V35) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.InternalError', <<"Unexpected DelayCase"/utf8>>}, V35)) end end(E19, E20, E21)); {'Idris.Core.CaseTree.ConstCase', E22, E23} -> (fun (V36, V37) -> begin (V38 = ('Idris.Idris2.Core.TT':'un--getLoc'('erased', V6))), fun (V39) -> begin (V40 = (('un--constCases'(V0, V1, V2, V7))(V39))), case V40 of {'Idris.Prelude.Types.Left', E24} -> (fun (V41) -> {'Idris.Prelude.Types.Left', V41} end(E24)); {'Idris.Prelude.Types.Right', E25} -> (fun (V42) -> begin (V43 = (('un--getDef'(V0, V1, V2, V7))(V39))), case V43 of {'Idris.Prelude.Types.Left', E26} -> (fun (V44) -> {'Idris.Prelude.Types.Left', V44} end(E26)); {'Idris.Prelude.Types.Right', E27} -> (fun (V45) -> begin (V46 = [{'Idris.Core.CaseTree.ConstCase', V36, V37} | V9]), (('case--toCExpTree\x{27}-4214'(V0, V4, V9, V36, V37, V46, V6, V5, 'erased', V2, V1, V38, V42, V45, ('Idris.Idris2.Data.List':'un--isNil'('erased', V42))))(V39)) end end(E27)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E25)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end(E22, E23)); {'Idris.Core.CaseTree.DefaultCase', E28} -> (fun (V47) -> ('un--toCExpTree'(V0, V1, V2, V47)) end(E28)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E4, E5)); [] -> fun (V48) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CCrash', ('Idris.Idris2.Core.TT':'un--getLoc'('erased', V6)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Missing case tree in "/utf8>>, ('Idris.Idris2.Core.Name':'dn--un--show_Show__Name'(V2))))}} end; _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E0, E1, E2, E3)); {'Idris.Core.CaseTree.STerm', E29, E30} -> (fun (V49, V50) -> ('un--toCExp'(V0, V1, V2, V50)) end(E29, E30)); {'Idris.Core.CaseTree.Unmatched', E31} -> (fun (V51) -> fun (V52) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CCrash', ('Idris.Idris2.Core.FC':'un--emptyFC'()), V51}} end end(E31)); {'Idris.Core.CaseTree.Impossible'} -> (fun () -> fun (V53) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CCrash', ('Idris.Idris2.Core.FC':'un--emptyFC'()), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Impossible case encountered in "/utf8>>, ('Idris.Idris2.Core.Name':'dn--un--show_Show__Name'(V2))))}} end end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'un--toCExpTree'(V0, V1, V2, V3) -> case V3 of {'Idris.Core.CaseTree.Case', E0, E1, E2, E3} -> (fun (V4, V5, V6, V7) -> case V7 of [E4 | E5] -> (fun (V8, V9) -> case V8 of {'Idris.Core.CaseTree.DelayCase', E6, E7, E8} -> (fun (V10, V11, V12) -> begin (V13 = ('Idris.Idris2.Core.TT':'un--getLoc'('erased', V6))), fun (V14) -> begin (V15 = (('un--toCExpTree'([V10 | [V11 | V0]], V1, V2, V12))(V14))), case V15 of {'Idris.Prelude.Types.Left', E9} -> (fun (V16) -> {'Idris.Prelude.Types.Left', V16} end(E9)); {'Idris.Prelude.Types.Right', E10} -> (fun (V17) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CLet', V13, V11, 0, {'Idris.Core.CompileExpr.CForce', V13, {'Idris.Core.CompileExpr.CLocal', V5, ('Idris.Idris2.Core.TT':'un--getLoc'('erased', V6))}}, {'Idris.Core.CompileExpr.CLet', V13, V10, 0, {'Idris.Core.CompileExpr.CErased', V13}, V17}}} end(E10)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end(E6, E7, E8)); _ -> ('un--toCExpTree\x{27}'(V0, V1, V2, V3)) end end(E4, E5)); _ -> ('un--toCExpTree\x{27}'(V0, V1, V2, V3)) end end(E0, E1, E2, E3)); _ -> ('un--toCExpTree\x{27}'(V0, V1, V2, V3)) end.
'un--toCExpTm'(V0, V1, V2, V3) -> case V3 of {'Idris.Core.TT.Local', E0, E1, E2} -> (fun (V4, V5, V6) -> fun (V7) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CLocal', V6, V4}} end end(E0, E1, E2)); {'Idris.Core.TT.Ref', E3, E4, E5} -> (fun (V8, V9, V10) -> case V9 of {'Idris.Core.TT.DataCon', E8, E9} -> (fun (V11, V12) -> ('case--toCExpTm-2727'(V0, V12, V11, V10, V8, V2, V1, ('Idris.Idris2.Prelude.Basics':'un--&&'(('Idris.Idris2.Prelude.Types':'dn--un--==_Eq__Nat'(V12, 0)), fun () -> ('un--isFiniteEnum'(V10)) end)))) end(E8, E9)); {'Idris.Core.TT.TyCon', E10, E11} -> (fun (V13, V14) -> fun (V15) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CCon', V8, V10, {'Idris.Prelude.Types.Nothing'}, []}} end end(E10, E11)); _ -> fun (V16) -> begin (V17 = (('Idris.Idris2.Core.Context':'un--getFullName'(V1, V10))(V16))), case V17 of {'Idris.Prelude.Types.Left', E6} -> (fun (V18) -> {'Idris.Prelude.Types.Left', V18} end(E6)); {'Idris.Prelude.Types.Right', E7} -> (fun (V19) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CApp', V8, {'Idris.Core.CompileExpr.CRef', V8, V19}, []}} end(E7)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end(E3, E4, E5)); {'Idris.Core.TT.Meta', E12, E13, E14, E15} -> (fun (V20, V21, V22, V23) -> fun (V24) -> begin (V26 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V25) -> ('un--toCExp'(V0, V1, V2, V25)) end, V23, []))(V24))), case V26 of {'Idris.Prelude.Types.Left', E16} -> (fun (V27) -> {'Idris.Prelude.Types.Left', V27} end(E16)); {'Idris.Prelude.Types.Right', E17} -> (fun (V28) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CApp', V20, {'Idris.Core.CompileExpr.CRef', V20, V21}, V28}} end(E17)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E12, E13, E14, E15)); {'Idris.Core.TT.Bind', E18, E19, E20, E21} -> (fun (V29, V30, V31, V32) -> case V31 of {'Idris.Core.TT.Lam', E22, E23, E24, E25} -> (fun (V33, V34, V35, V36) -> fun (V37) -> begin (V38 = (('un--toCExp'([V30 | V0], V1, V2, V32))(V37))), case V38 of {'Idris.Prelude.Types.Left', E26} -> (fun (V39) -> {'Idris.Prelude.Types.Left', V39} end(E26)); {'Idris.Prelude.Types.Right', E27} -> (fun (V40) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CLam', V29, V30, V40}} end(E27)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E22, E23, E24, E25)); {'Idris.Core.TT.Let', E28, E29, E30, E31} -> (fun (V41, V42, V43, V44) -> fun (V45) -> begin (V46 = (('un--toCExp'([V30 | V0], V1, V2, V32))(V45))), case V46 of {'Idris.Prelude.Types.Left', E32} -> (fun (V47) -> {'Idris.Prelude.Types.Left', V47} end(E32)); {'Idris.Prelude.Types.Right', E33} -> (fun (V48) -> begin (V49 = (('un--toCExp'(V0, V1, V2, V43))(V45))), case V49 of {'Idris.Prelude.Types.Left', E34} -> (fun (V50) -> {'Idris.Prelude.Types.Left', V50} end(E34)); {'Idris.Prelude.Types.Right', E35} -> (fun (V51) -> {'Idris.Prelude.Types.Right', ('Idris.Idris2.Algebra.Semiring':'un--branchZero'('erased', 'erased', {'Idris.Builtin.MkPair', {'Idris.Algebra.Semiring.dn--un--__mkSemiring', fun (V52) -> fun (V53) -> ('Idris.Idris2.Algebra.ZeroOneOmega':'dn--un--|+|_Semiring__ZeroOneOmega'(V52, V53)) end end, ('Idris.Idris2.Algebra.ZeroOneOmega':'dn--un--plusNeutral_Semiring__ZeroOneOmega'()), fun (V54) -> fun (V55) -> ('Idris.Idris2.Algebra.ZeroOneOmega':'dn--un--|*|_Semiring__ZeroOneOmega'(V54, V55)) end end, ('Idris.Idris2.Algebra.ZeroOneOmega':'dn--un--timesNeutral_Semiring__ZeroOneOmega'())}, {'Idris.Prelude.EqOrd.dn--un--__mkEq', fun (V56) -> fun (V57) -> ('Idris.Idris2.Algebra.ZeroOneOmega':'dn--un--==_Eq__ZeroOneOmega'(V56, V57)) end end, fun (V58) -> fun (V59) -> ('Idris.Idris2.Algebra.ZeroOneOmega':'dn--un--/=_Eq__ZeroOneOmega'(V58, V59)) end end}}, fun () -> ('Idris.Idris2.Core.CompileExpr':'un--shrinkCExp'('erased', 'erased', {'Idris.Core.TT.DropCons', {'Idris.Core.TT.SubRefl'}}, V48)) end, fun () -> {'Idris.Core.CompileExpr.CLet', V29, V30, 0, V51, V48} end, V42))} end(E35)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E33)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E28, E29, E30, E31)); {'Idris.Core.TT.Pi', E36, E37, E38, E39} -> (fun (V60, V61, V62, V63) -> fun (V64) -> begin (V65 = (('un--toCExp'(V0, V1, V2, V63))(V64))), case V65 of {'Idris.Prelude.Types.Left', E40} -> (fun (V66) -> {'Idris.Prelude.Types.Left', V66} end(E40)); {'Idris.Prelude.Types.Right', E41} -> (fun (V67) -> begin (V68 = (('un--toCExp'([V30 | V0], V1, V2, V32))(V64))), case V68 of {'Idris.Prelude.Types.Left', E42} -> (fun (V69) -> {'Idris.Prelude.Types.Left', V69} end(E42)); {'Idris.Prelude.Types.Right', E43} -> (fun (V70) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CCon', V29, {'Idris.Core.Name.UN', <<"->"/utf8>>}, {'Idris.Prelude.Types.Nothing'}, [V67 | [{'Idris.Core.CompileExpr.CLam', V29, V30, V70} | []]]}} end(E43)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E41)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E36, E37, E38, E39)); _ -> fun (V71) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CErased', V29}} end end end(E18, E19, E20, E21)); {'Idris.Core.TT.App', E44, E45, E46} -> (fun (V72, V73, V74) -> fun (V75) -> begin (V76 = (('un--toCExp'(V0, V1, V2, V73))(V75))), case V76 of {'Idris.Prelude.Types.Left', E47} -> (fun (V77) -> {'Idris.Prelude.Types.Left', V77} end(E47)); {'Idris.Prelude.Types.Right', E48} -> (fun (V78) -> begin (V79 = (('un--toCExp'(V0, V1, V2, V74))(V75))), case V79 of {'Idris.Prelude.Types.Left', E49} -> (fun (V80) -> {'Idris.Prelude.Types.Left', V80} end(E49)); {'Idris.Prelude.Types.Right', E50} -> (fun (V81) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CApp', V72, V78, [V81 | []]}} end(E50)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E48)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E44, E45, E46)); {'Idris.Core.TT.As', E51, E52, E53, E54} -> (fun (V82, V83, V84, V85) -> ('un--toCExpTm'(V0, V1, V2, V85)) end(E51, E52, E53, E54)); {'Idris.Core.TT.TDelayed', E55, E56, E57} -> (fun (V86, V87, V88) -> fun (V89) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CErased', V86}} end end(E55, E56, E57)); {'Idris.Core.TT.TDelay', E58, E59, E60, E61} -> (fun (V90, V91, V92, V93) -> fun (V94) -> begin (V95 = (('un--toCExp'(V0, V1, V2, V93))(V94))), case V95 of {'Idris.Prelude.Types.Left', E62} -> (fun (V96) -> {'Idris.Prelude.Types.Left', V96} end(E62)); {'Idris.Prelude.Types.Right', E63} -> (fun (V97) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CDelay', V90, V97}} end(E63)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E58, E59, E60, E61)); {'Idris.Core.TT.TForce', E64, E65, E66} -> (fun (V98, V99, V100) -> fun (V101) -> begin (V102 = (('un--toCExp'(V0, V1, V2, V100))(V101))), case V102 of {'Idris.Prelude.Types.Left', E67} -> (fun (V103) -> {'Idris.Prelude.Types.Left', V103} end(E67)); {'Idris.Prelude.Types.Right', E68} -> (fun (V104) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CForce', V98, V104}} end(E68)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E64, E65, E66)); {'Idris.Core.TT.PrimVal', E69, E70} -> (fun (V105, V106) -> begin (V107 = ('Idris.Idris2.Core.TT':'un--constTag'(V106))), ('case--toCExpTm-3037'(V0, V1, V106, V105, V2, V107, ('Idris.Idris2.Prelude.EqOrd':'dn--un--==_Eq__Int'(V107, 0)))) end end(E69, E70)); {'Idris.Core.TT.Erased', E71, E72} -> (fun (V108, V109) -> fun (V110) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CErased', V108}} end end(E71, E72)); {'Idris.Core.TT.TType', E73} -> (fun (V111) -> fun (V112) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CCon', V111, {'Idris.Core.Name.UN', <<"Type"/utf8>>}, {'Idris.Prelude.Types.Nothing'}, []}} end end(E73)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'un--toCExp'(V0, V1, V2, V3) -> ('case--toCExp-3103'(V0, V3, V2, V1, ('Idris.Idris2.Core.TT':'un--getFnArgs'('erased', V3)))).
'un--toCDef'(V0, V1, V2, V3) -> case V3 of {'Idris.Core.Context.None'} -> (fun () -> fun (V4) -> begin (V5 = (('Idris.Idris2.Core.Context':'un--getFullName'(V0, V1))(V4))), case V5 of {'Idris.Prelude.Types.Left', E2} -> (fun (V6) -> {'Idris.Prelude.Types.Left', V6} end(E2)); {'Idris.Prelude.Types.Right', E3} -> (fun (V7) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.MkError', {'Idris.Core.CompileExpr.CCrash', ('Idris.Idris2.Core.FC':'un--emptyFC'()), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Encountered undefined name "/utf8>>, ('Idris.Idris2.Core.Name':'dn--un--show_Show__Name'(V7))))}}} end(E3)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end()); {'Idris.Core.Context.PMDef', E4, E5, E6, E7, E8} -> (fun (V8, V9, V10, V11, V12) -> fun (V13) -> begin (V14 = (('un--toCExpTree'(V9, V0, V1, V11))(V13))), case V14 of {'Idris.Prelude.Types.Left', E9} -> (fun (V15) -> {'Idris.Prelude.Types.Left', V15} end(E9)); {'Idris.Prelude.Types.Right', E10} -> (fun (V16) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.MkFun', V9, V16}} end(E10)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E4, E5, E6, E7, E8)); {'Idris.Core.Context.ExternDef', E11} -> (fun (V17) -> ('case--toCDef-5562'(V17, V2, V1, V0, ('un--mkArgList'(0, V17)))) end(E11)); {'Idris.Core.Context.ForeignDef', E12, E13} -> (fun (V18, V19) -> fun (V20) -> begin (V22 = begin (V21 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V21} end), case V22 of {'Idris.Prelude.Types.Left', E14} -> (fun (V23) -> {'Idris.Prelude.Types.Left', V23} end(E14)); {'Idris.Prelude.Types.Right', E15} -> (fun (V24) -> begin (V28 = begin (V25 = (('Idris.Idris2.Core.Normalise':'un--nf'(V0, [], V24, {'Idris.Core.Env.Nil'}, V2))(V20))), case V25 of {'Idris.Prelude.Types.Left', E16} -> (fun (V26) -> {'Idris.Prelude.Types.Left', V26} end(E16)); {'Idris.Prelude.Types.Right', E17} -> (fun (V27) -> (('un--getCFTypes'(V0, [], V27))(V20)) end(E17)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end), case V28 of {'Idris.Prelude.Types.Left', E18} -> (fun (V29) -> {'Idris.Prelude.Types.Left', V29} end(E18)); {'Idris.Prelude.Types.Right', E19} -> (fun (V30) -> case V30 of {'Idris.Builtin.MkPair', E20, E21} -> (fun (V31, V32) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.MkForeign', V19, V31, V32}} end(E20, E21)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E19)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E15)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E12, E13)); {'Idris.Core.Context.Builtin', E22, E23} -> (fun (V33, V34) -> ('case--toCDef-5695'(V33, V34, V2, V1, V0, ('un--mkArgList'(0, V33)))) end(E22, E23)); {'Idris.Core.Context.DCon', E24, E25, E26} -> (fun (V35, V36, V37) -> begin (V39 = ('Idris.Idris2.Prelude.Types':'un--maybe'('erased', 'erased', fun () -> {'Idris.Prelude.Types.Nothing'} end, fun () -> fun (V38) -> {'Idris.Prelude.Types.Just', ('Idris.Idris2.Builtin':'un--snd'('erased', 'erased', V38))} end end, V37))), fun (V40) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.MkCon', {'Idris.Prelude.Types.Just', V35}, V36, V39}} end end end(E24, E25, E26)); {'Idris.Core.Context.TCon', E27, E28, E29, E30, E31, E32, E33, E34} -> (fun (V41, V42, V43, V44, V45, V46, V47, V48) -> fun (V49) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.MkCon', {'Idris.Prelude.Types.Nothing'}, V42, {'Idris.Prelude.Types.Nothing'}}} end end(E27, E28, E29, E30, E31, E32, E33, E34)); {'Idris.Core.Context.Hole', E35, E36} -> (fun (V50, V51) -> fun (V52) -> begin (V53 = (('Idris.Idris2.Core.Context':'un--getFullName'(V0, V1))(V52))), case V53 of {'Idris.Prelude.Types.Left', E37} -> (fun (V54) -> {'Idris.Prelude.Types.Left', V54} end(E37)); {'Idris.Prelude.Types.Right', E38} -> (fun (V55) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.MkError', {'Idris.Core.CompileExpr.CCrash', ('Idris.Idris2.Core.FC':'un--emptyFC'()), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Encountered unimplemented hole "/utf8>>, ('Idris.Idris2.Core.Name':'dn--un--show_Show__Name'(V55))))}}} end(E38)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E35, E36)); {'Idris.Core.Context.Guess', E39, E40, E41} -> (fun (V56, V57, V58) -> fun (V59) -> begin (V60 = (('Idris.Idris2.Core.Context':'un--getFullName'(V0, V1))(V59))), case V60 of {'Idris.Prelude.Types.Left', E42} -> (fun (V61) -> {'Idris.Prelude.Types.Left', V61} end(E42)); {'Idris.Prelude.Types.Right', E43} -> (fun (V62) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.MkError', {'Idris.Core.CompileExpr.CCrash', ('Idris.Idris2.Core.FC':'un--emptyFC'()), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Encountered constrained hole "/utf8>>, ('Idris.Idris2.Core.Name':'dn--un--show_Show__Name'(V62))))}}} end(E43)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E39, E40, E41)); {'Idris.Core.Context.BySearch', E44, E45, E46} -> (fun (V63, V64, V65) -> fun (V66) -> begin (V67 = (('Idris.Idris2.Core.Context':'un--getFullName'(V0, V1))(V66))), case V67 of {'Idris.Prelude.Types.Left', E47} -> (fun (V68) -> {'Idris.Prelude.Types.Left', V68} end(E47)); {'Idris.Prelude.Types.Right', E48} -> (fun (V69) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.MkError', {'Idris.Core.CompileExpr.CCrash', ('Idris.Idris2.Core.FC':'un--emptyFC'()), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Encountered incomplete proof search "/utf8>>, ('Idris.Idris2.Core.Name':'dn--un--show_Show__Name'(V69))))}}} end(E48)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E44, E45, E46)); _ -> fun (V70) -> begin (V71 = (('Idris.Idris2.Core.Context':'un--getFullName'(V0, V1))(V70))), case V71 of {'Idris.Prelude.Types.Left', E0} -> (fun (V72) -> {'Idris.Prelude.Types.Left', V72} end(E0)); {'Idris.Prelude.Types.Right', E1} -> (fun (V73) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.MkError', {'Idris.Core.CompileExpr.CCrash', ('Idris.Idris2.Core.FC':'un--emptyFC'()), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Encountered uncompilable name "/utf8>>, ('Idris.Idris2.Prelude.Show':'dn--un--show_Show__(|((Builtin.Pair $a) $b),((Builtin.MkPair $a) $b)|)'('erased', 'erased', {'Idris.Builtin.MkPair', {'Idris.Prelude.Show.dn--un--__mkShow', fun (V74) -> ('Idris.Idris2.Core.Name':'dn--un--show_Show__Name'(V74)) end, fun (V75) -> fun (V76) -> ('Idris.Idris2.Core.Name':'dn--un--showPrec_Show__Name'(V75, V76)) end end}, {'Idris.Prelude.Show.dn--un--__mkShow', fun (V77) -> ('Idris.Idris2.Core.Context':'dn--un--show_Show__Def'(V77)) end, fun (V78) -> fun (V79) -> ('Idris.Idris2.Core.Context':'dn--un--showPrec_Show__Def'(V78, V79)) end end}}, {'Idris.Builtin.MkPair', V73, V3}))))}}} end(E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end.
'un--numArgs'(V0, V1, V2) -> case V2 of {'Idris.Core.TT.Ref', E0, E1, E2} -> (fun (V3, V4, V5) -> case V4 of {'Idris.Core.TT.TyCon', E53, E54} -> (fun (V6, V7) -> fun (V8) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.Arity', V7}} end end(E53, E54)); _ -> fun (V9) -> begin (V36 = (('Idris.Idris2.Core.Context':'un--lookupCtxtExact'(V5, case V1 of {'Idris.Core.Context.MkDefs', E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22, E23, E24, E25, E26, E27, E28} -> (fun (V10, V11, V12, V13, V14, V15, V16, V17, V18, V19, V20, V21, V22, V23, V24, V25, V26, V27, V28, V29, V30, V31, V32, V33, V34, V35) -> V10 end(E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22, E23, E24, E25, E26, E27, E28)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end))(V9))), case V36 of {'Idris.Prelude.Types.Left', E29} -> (fun (V37) -> {'Idris.Prelude.Types.Left', V37} end(E29)); {'Idris.Prelude.Types.Right', E30} -> (fun (V38) -> case V38 of {'Idris.Prelude.Types.Just', E31} -> (fun (V39) -> begin (V40 = {'Idris.Prelude.Types.Just', V39}), (('case--case block in numArgs-1206'('erased', V3, V4, V5, V1, V39, V40, case V39 of {'Idris.Core.Context.MkGlobalDef', E32, E33, E34, E35, E36, E37, E38, E39, E40, E41, E42, E43, E44, E45, E46, E47, E48, E49, E50, E51, E52} -> (fun (V41, V42, V43, V44, V45, V46, V47, V48, V49, V50, V51, V52, V53, V54, V55, V56, V57, V58, V59, V60, V61) -> V58 end(E32, E33, E34, E35, E36, E37, E38, E39, E40, E41, E42, E43, E44, E45, E46, E47, E48, E49, E50, E51, E52)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end))(V9)) end end(E31)); {'Idris.Prelude.Types.Nothing'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.Arity', 0}} end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E30)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end(E0, E1, E2)); _ -> fun (V62) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.Arity', 0}} end end.
'un--nfToCFType'(V0, V1, V2, V3) -> case V3 of {'Idris.Core.Value.NPrimVal', E1854, E1855} -> (fun (V4, V5) -> case V5 of {'Idris.Core.TT.IntType'} -> (fun () -> fun (V6) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFInt'}} end end()); {'Idris.Core.TT.Bits8Type'} -> (fun () -> fun (V7) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnsigned8'}} end end()); {'Idris.Core.TT.Bits16Type'} -> (fun () -> fun (V8) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnsigned16'}} end end()); {'Idris.Core.TT.Bits32Type'} -> (fun () -> fun (V9) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnsigned32'}} end end()); {'Idris.Core.TT.Bits64Type'} -> (fun () -> fun (V10) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnsigned64'}} end end()); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NPrimVal', E2596, E2597} -> (fun (V11, V12) -> case V12 of {'Idris.Core.TT.StringType'} -> (fun () -> fun (V13) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFString'}} end end()); _ -> case V3 of {'Idris.Core.Value.NPrimVal', E2782, E2783} -> (fun (V14, V15) -> case V15 of {'Idris.Core.TT.DoubleType'} -> (fun () -> fun (V16) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFDouble'}} end end()); {'Idris.Core.TT.CharType'} -> (fun () -> fun (V17) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFChar'}} end end()); {'Idris.Core.TT.WorldType'} -> (fun () -> fun (V18) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFWorld'}} end end()); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E2866, E2867, E2868, E2869} -> (fun (V19, V20, V21, V22) -> case V21 of {'Idris.Core.TT.Pi', E2911, E2912, E2913, E2914} -> (fun (V23, V24, V25, V26) -> fun (V27) -> begin (V29 = begin (V28 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V28} end), case V29 of {'Idris.Prelude.Types.Left', E2915} -> (fun (V30) -> {'Idris.Prelude.Types.Left', V30} end(E2915)); {'Idris.Prelude.Types.Right', E2916} -> (fun (V31) -> begin (V32 = (('un--nfToCFType'(V0, V19, 1, V26))(V27))), case V32 of {'Idris.Prelude.Types.Left', E2917} -> (fun (V33) -> {'Idris.Prelude.Types.Left', V33} end(E2917)); {'Idris.Prelude.Types.Right', E2918} -> (fun (V34) -> begin (V35 = (((V22(V31))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V19, 1}))))(V27))), case V35 of {'Idris.Prelude.Types.Left', E2919} -> (fun (V36) -> {'Idris.Prelude.Types.Left', V36} end(E2919)); {'Idris.Prelude.Types.Right', E2920} -> (fun (V37) -> begin (V38 = (('un--nfToCFType'(V0, V19, 1, V37))(V27))), case V38 of {'Idris.Prelude.Types.Left', E2921} -> (fun (V39) -> {'Idris.Prelude.Types.Left', V39} end(E2921)); {'Idris.Prelude.Types.Right', E2922} -> (fun (V40) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V34, V40}} end(E2922)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2920)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2918)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2916)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2911, E2912, E2913, E2914)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2876, E2877, E2878, E2879, E2880} -> (fun (V41, V42, V43, V44, V45) -> fun (V46) -> begin (V48 = begin (V47 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V47} end), case V48 of {'Idris.Prelude.Types.Left', E2881} -> (fun (V49) -> {'Idris.Prelude.Types.Left', V49} end(E2881)); {'Idris.Prelude.Types.Right', E2882} -> (fun (V50) -> begin (V55 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V51) -> fun (V52) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V51, V52)) end end, fun (V53) -> fun (V54) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V53, V54)) end end}, V42, V46))), case V55 of {'Idris.Prelude.Types.Left', E2883} -> (fun (V56) -> {'Idris.Prelude.Types.Left', V56} end(E2883)); {'Idris.Prelude.Types.Right', E2884} -> (fun (V57) -> begin (V58 = (('un--getNArgs'(V0, V50, V57, V45))(V46))), case V58 of {'Idris.Prelude.Types.Left', E2885} -> (fun (V59) -> {'Idris.Prelude.Types.Left', V59} end(E2885)); {'Idris.Prelude.Types.Right', E2886} -> (fun (V60) -> case V60 of {'Idris.Compiler.CompileExpr.User', E2887, E2888} -> (fun (V61, V62) -> begin (V64 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V63) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V50, V63)) end, V62, []))(V46))), case V64 of {'Idris.Prelude.Types.Left', E2889} -> (fun (V65) -> {'Idris.Prelude.Types.Left', V65} end(E2889)); {'Idris.Prelude.Types.Right', E2890} -> (fun (V66) -> begin (V68 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V67) -> ('un--nfToCFType'(V0, V41, V2, V67)) end, V66, []))(V46))), case V68 of {'Idris.Prelude.Types.Left', E2891} -> (fun (V69) -> {'Idris.Prelude.Types.Left', V69} end(E2891)); {'Idris.Prelude.Types.Right', E2892} -> (fun (V70) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V57, V70}} end(E2892)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2890)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2887, E2888)); {'Idris.Compiler.CompileExpr.Struct', E2893, E2894} -> (fun (V71, V72) -> begin (V83 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V73) -> case V73 of {'Idris.Builtin.MkPair', E2895, E2896} -> (fun (V74, V75) -> fun (V76) -> begin (V77 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V50, V75))(V76))), case V77 of {'Idris.Prelude.Types.Left', E2897} -> (fun (V78) -> {'Idris.Prelude.Types.Left', V78} end(E2897)); {'Idris.Prelude.Types.Right', E2898} -> (fun (V79) -> begin (V80 = (('un--nfToCFType'(V0, V41, 0, V79))(V76))), case V80 of {'Idris.Prelude.Types.Left', E2899} -> (fun (V81) -> {'Idris.Prelude.Types.Left', V81} end(E2899)); {'Idris.Prelude.Types.Right', E2900} -> (fun (V82) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V74, V82}} end(E2900)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2898)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2895, E2896)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V72, []))(V46))), case V83 of {'Idris.Prelude.Types.Left', E2901} -> (fun (V84) -> {'Idris.Prelude.Types.Left', V84} end(E2901)); {'Idris.Prelude.Types.Right', E2902} -> (fun (V85) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V71, V85}} end(E2902)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2893, E2894)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2903} -> (fun (V86) -> begin (V87 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V50, V86))(V46))), case V87 of {'Idris.Prelude.Types.Left', E2904} -> (fun (V88) -> {'Idris.Prelude.Types.Left', V88} end(E2904)); {'Idris.Prelude.Types.Right', E2905} -> (fun (V89) -> begin (V90 = (('un--nfToCFType'(V0, V41, V2, V89))(V46))), case V90 of {'Idris.Prelude.Types.Left', E2906} -> (fun (V91) -> {'Idris.Prelude.Types.Left', V91} end(E2906)); {'Idris.Prelude.Types.Right', E2907} -> (fun (V92) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V92}} end(E2907)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2905)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2903)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2886)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2884)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2882)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2876, E2877, E2878, E2879, E2880)); {'Idris.Core.Value.NType', E2908} -> (fun (V93) -> fun (V94) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2908)); {'Idris.Core.Value.NErased', E2909, E2910} -> (fun (V95, V96) -> fun (V97) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2909, E2910)); _ -> fun (V98) -> begin (V100 = begin (V99 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V99} end), case V100 of {'Idris.Prelude.Types.Left', E2870} -> (fun (V101) -> {'Idris.Prelude.Types.Left', V101} end(E2870)); {'Idris.Prelude.Types.Right', E2871} -> (fun (V102) -> begin (V103 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V102, {'Idris.Core.Env.Nil'}, V3, V98))), case V103 of {'Idris.Prelude.Types.Left', E2872} -> (fun (V104) -> {'Idris.Prelude.Types.Left', V104} end(E2872)); {'Idris.Prelude.Types.Right', E2873} -> (fun (V105) -> begin (V110 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V106) -> fun (V107) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V106, V107)) end end, fun (V108) -> fun (V109) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V108, V109)) end end}, V105, V98))), case V110 of {'Idris.Prelude.Types.Left', E2874} -> (fun (V111) -> {'Idris.Prelude.Types.Left', V111} end(E2874)); {'Idris.Prelude.Types.Right', E2875} -> (fun (V112) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V112))))}, V98)) end(E2875)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2873)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2871)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E2866, E2867, E2868, E2869)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2831, E2832, E2833, E2834, E2835} -> (fun (V113, V114, V115, V116, V117) -> fun (V118) -> begin (V120 = begin (V119 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V119} end), case V120 of {'Idris.Prelude.Types.Left', E2836} -> (fun (V121) -> {'Idris.Prelude.Types.Left', V121} end(E2836)); {'Idris.Prelude.Types.Right', E2837} -> (fun (V122) -> begin (V127 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V123) -> fun (V124) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V123, V124)) end end, fun (V125) -> fun (V126) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V125, V126)) end end}, V114, V118))), case V127 of {'Idris.Prelude.Types.Left', E2838} -> (fun (V128) -> {'Idris.Prelude.Types.Left', V128} end(E2838)); {'Idris.Prelude.Types.Right', E2839} -> (fun (V129) -> begin (V130 = (('un--getNArgs'(V0, V122, V129, V117))(V118))), case V130 of {'Idris.Prelude.Types.Left', E2840} -> (fun (V131) -> {'Idris.Prelude.Types.Left', V131} end(E2840)); {'Idris.Prelude.Types.Right', E2841} -> (fun (V132) -> case V132 of {'Idris.Compiler.CompileExpr.User', E2842, E2843} -> (fun (V133, V134) -> begin (V136 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V135) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V122, V135)) end, V134, []))(V118))), case V136 of {'Idris.Prelude.Types.Left', E2844} -> (fun (V137) -> {'Idris.Prelude.Types.Left', V137} end(E2844)); {'Idris.Prelude.Types.Right', E2845} -> (fun (V138) -> begin (V140 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V139) -> ('un--nfToCFType'(V0, V113, V2, V139)) end, V138, []))(V118))), case V140 of {'Idris.Prelude.Types.Left', E2846} -> (fun (V141) -> {'Idris.Prelude.Types.Left', V141} end(E2846)); {'Idris.Prelude.Types.Right', E2847} -> (fun (V142) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V129, V142}} end(E2847)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2845)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2842, E2843)); {'Idris.Compiler.CompileExpr.Struct', E2848, E2849} -> (fun (V143, V144) -> begin (V155 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V145) -> case V145 of {'Idris.Builtin.MkPair', E2850, E2851} -> (fun (V146, V147) -> fun (V148) -> begin (V149 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V122, V147))(V148))), case V149 of {'Idris.Prelude.Types.Left', E2852} -> (fun (V150) -> {'Idris.Prelude.Types.Left', V150} end(E2852)); {'Idris.Prelude.Types.Right', E2853} -> (fun (V151) -> begin (V152 = (('un--nfToCFType'(V0, V113, 0, V151))(V148))), case V152 of {'Idris.Prelude.Types.Left', E2854} -> (fun (V153) -> {'Idris.Prelude.Types.Left', V153} end(E2854)); {'Idris.Prelude.Types.Right', E2855} -> (fun (V154) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V146, V154}} end(E2855)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2853)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2850, E2851)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V144, []))(V118))), case V155 of {'Idris.Prelude.Types.Left', E2856} -> (fun (V156) -> {'Idris.Prelude.Types.Left', V156} end(E2856)); {'Idris.Prelude.Types.Right', E2857} -> (fun (V157) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V143, V157}} end(E2857)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2848, E2849)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2858} -> (fun (V158) -> begin (V159 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V122, V158))(V118))), case V159 of {'Idris.Prelude.Types.Left', E2859} -> (fun (V160) -> {'Idris.Prelude.Types.Left', V160} end(E2859)); {'Idris.Prelude.Types.Right', E2860} -> (fun (V161) -> begin (V162 = (('un--nfToCFType'(V0, V113, V2, V161))(V118))), case V162 of {'Idris.Prelude.Types.Left', E2861} -> (fun (V163) -> {'Idris.Prelude.Types.Left', V163} end(E2861)); {'Idris.Prelude.Types.Right', E2862} -> (fun (V164) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V164}} end(E2862)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2860)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2858)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2841)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2839)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2837)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2831, E2832, E2833, E2834, E2835)); {'Idris.Core.Value.NType', E2863} -> (fun (V165) -> fun (V166) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2863)); {'Idris.Core.Value.NErased', E2864, E2865} -> (fun (V167, V168) -> fun (V169) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2864, E2865)); _ -> fun (V170) -> begin (V172 = begin (V171 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V171} end), case V172 of {'Idris.Prelude.Types.Left', E2825} -> (fun (V173) -> {'Idris.Prelude.Types.Left', V173} end(E2825)); {'Idris.Prelude.Types.Right', E2826} -> (fun (V174) -> begin (V175 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V174, {'Idris.Core.Env.Nil'}, V3, V170))), case V175 of {'Idris.Prelude.Types.Left', E2827} -> (fun (V176) -> {'Idris.Prelude.Types.Left', V176} end(E2827)); {'Idris.Prelude.Types.Right', E2828} -> (fun (V177) -> begin (V182 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V178) -> fun (V179) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V178, V179)) end end, fun (V180) -> fun (V181) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V180, V181)) end end}, V177, V170))), case V182 of {'Idris.Prelude.Types.Left', E2829} -> (fun (V183) -> {'Idris.Prelude.Types.Left', V183} end(E2829)); {'Idris.Prelude.Types.Right', E2830} -> (fun (V184) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V184))))}, V170)) end(E2830)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2828)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2826)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E2964, E2965, E2966, E2967} -> (fun (V185, V186, V187, V188) -> fun (V189) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V185, <<"Function types not allowed in a foreign struct"/utf8>>}, V189)) end end(E2964, E2965, E2966, E2967)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2929, E2930, E2931, E2932, E2933} -> (fun (V190, V191, V192, V193, V194) -> fun (V195) -> begin (V197 = begin (V196 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V196} end), case V197 of {'Idris.Prelude.Types.Left', E2934} -> (fun (V198) -> {'Idris.Prelude.Types.Left', V198} end(E2934)); {'Idris.Prelude.Types.Right', E2935} -> (fun (V199) -> begin (V204 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V200) -> fun (V201) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V200, V201)) end end, fun (V202) -> fun (V203) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V202, V203)) end end}, V191, V195))), case V204 of {'Idris.Prelude.Types.Left', E2936} -> (fun (V205) -> {'Idris.Prelude.Types.Left', V205} end(E2936)); {'Idris.Prelude.Types.Right', E2937} -> (fun (V206) -> begin (V207 = (('un--getNArgs'(V0, V199, V206, V194))(V195))), case V207 of {'Idris.Prelude.Types.Left', E2938} -> (fun (V208) -> {'Idris.Prelude.Types.Left', V208} end(E2938)); {'Idris.Prelude.Types.Right', E2939} -> (fun (V209) -> case V209 of {'Idris.Compiler.CompileExpr.User', E2940, E2941} -> (fun (V210, V211) -> begin (V213 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V212) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V199, V212)) end, V211, []))(V195))), case V213 of {'Idris.Prelude.Types.Left', E2942} -> (fun (V214) -> {'Idris.Prelude.Types.Left', V214} end(E2942)); {'Idris.Prelude.Types.Right', E2943} -> (fun (V215) -> begin (V217 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V216) -> ('un--nfToCFType'(V0, V190, V2, V216)) end, V215, []))(V195))), case V217 of {'Idris.Prelude.Types.Left', E2944} -> (fun (V218) -> {'Idris.Prelude.Types.Left', V218} end(E2944)); {'Idris.Prelude.Types.Right', E2945} -> (fun (V219) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V206, V219}} end(E2945)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2943)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2940, E2941)); {'Idris.Compiler.CompileExpr.Struct', E2946, E2947} -> (fun (V220, V221) -> begin (V232 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V222) -> case V222 of {'Idris.Builtin.MkPair', E2948, E2949} -> (fun (V223, V224) -> fun (V225) -> begin (V226 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V199, V224))(V225))), case V226 of {'Idris.Prelude.Types.Left', E2950} -> (fun (V227) -> {'Idris.Prelude.Types.Left', V227} end(E2950)); {'Idris.Prelude.Types.Right', E2951} -> (fun (V228) -> begin (V229 = (('un--nfToCFType'(V0, V190, 0, V228))(V225))), case V229 of {'Idris.Prelude.Types.Left', E2952} -> (fun (V230) -> {'Idris.Prelude.Types.Left', V230} end(E2952)); {'Idris.Prelude.Types.Right', E2953} -> (fun (V231) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V223, V231}} end(E2953)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2951)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2948, E2949)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V221, []))(V195))), case V232 of {'Idris.Prelude.Types.Left', E2954} -> (fun (V233) -> {'Idris.Prelude.Types.Left', V233} end(E2954)); {'Idris.Prelude.Types.Right', E2955} -> (fun (V234) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V220, V234}} end(E2955)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2946, E2947)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2956} -> (fun (V235) -> begin (V236 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V199, V235))(V195))), case V236 of {'Idris.Prelude.Types.Left', E2957} -> (fun (V237) -> {'Idris.Prelude.Types.Left', V237} end(E2957)); {'Idris.Prelude.Types.Right', E2958} -> (fun (V238) -> begin (V239 = (('un--nfToCFType'(V0, V190, V2, V238))(V195))), case V239 of {'Idris.Prelude.Types.Left', E2959} -> (fun (V240) -> {'Idris.Prelude.Types.Left', V240} end(E2959)); {'Idris.Prelude.Types.Right', E2960} -> (fun (V241) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V241}} end(E2960)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2958)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2956)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2939)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2937)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2935)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2929, E2930, E2931, E2932, E2933)); {'Idris.Core.Value.NType', E2961} -> (fun (V242) -> fun (V243) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2961)); {'Idris.Core.Value.NErased', E2962, E2963} -> (fun (V244, V245) -> fun (V246) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2962, E2963)); _ -> fun (V247) -> begin (V249 = begin (V248 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V248} end), case V249 of {'Idris.Prelude.Types.Left', E2923} -> (fun (V250) -> {'Idris.Prelude.Types.Left', V250} end(E2923)); {'Idris.Prelude.Types.Right', E2924} -> (fun (V251) -> begin (V252 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V251, {'Idris.Core.Env.Nil'}, V3, V247))), case V252 of {'Idris.Prelude.Types.Left', E2925} -> (fun (V253) -> {'Idris.Prelude.Types.Left', V253} end(E2925)); {'Idris.Prelude.Types.Right', E2926} -> (fun (V254) -> begin (V259 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V255) -> fun (V256) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V255, V256)) end end, fun (V257) -> fun (V258) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V257, V258)) end end}, V254, V247))), case V259 of {'Idris.Prelude.Types.Left', E2927} -> (fun (V260) -> {'Idris.Prelude.Types.Left', V260} end(E2927)); {'Idris.Prelude.Types.Right', E2928} -> (fun (V261) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V261))))}, V247)) end(E2928)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2926)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2924)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E2790, E2791, E2792, E2793, E2794} -> (fun (V262, V263, V264, V265, V266) -> fun (V267) -> begin (V269 = begin (V268 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V268} end), case V269 of {'Idris.Prelude.Types.Left', E2795} -> (fun (V270) -> {'Idris.Prelude.Types.Left', V270} end(E2795)); {'Idris.Prelude.Types.Right', E2796} -> (fun (V271) -> begin (V276 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V272) -> fun (V273) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V272, V273)) end end, fun (V274) -> fun (V275) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V274, V275)) end end}, V263, V267))), case V276 of {'Idris.Prelude.Types.Left', E2797} -> (fun (V277) -> {'Idris.Prelude.Types.Left', V277} end(E2797)); {'Idris.Prelude.Types.Right', E2798} -> (fun (V278) -> begin (V279 = (('un--getNArgs'(V0, V271, V278, V266))(V267))), case V279 of {'Idris.Prelude.Types.Left', E2799} -> (fun (V280) -> {'Idris.Prelude.Types.Left', V280} end(E2799)); {'Idris.Prelude.Types.Right', E2800} -> (fun (V281) -> case V281 of {'Idris.Compiler.CompileExpr.User', E2801, E2802} -> (fun (V282, V283) -> begin (V285 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V284) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V271, V284)) end, V283, []))(V267))), case V285 of {'Idris.Prelude.Types.Left', E2803} -> (fun (V286) -> {'Idris.Prelude.Types.Left', V286} end(E2803)); {'Idris.Prelude.Types.Right', E2804} -> (fun (V287) -> begin (V289 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V288) -> ('un--nfToCFType'(V0, V262, V2, V288)) end, V287, []))(V267))), case V289 of {'Idris.Prelude.Types.Left', E2805} -> (fun (V290) -> {'Idris.Prelude.Types.Left', V290} end(E2805)); {'Idris.Prelude.Types.Right', E2806} -> (fun (V291) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V278, V291}} end(E2806)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2804)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2801, E2802)); {'Idris.Compiler.CompileExpr.Struct', E2807, E2808} -> (fun (V292, V293) -> begin (V304 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V294) -> case V294 of {'Idris.Builtin.MkPair', E2809, E2810} -> (fun (V295, V296) -> fun (V297) -> begin (V298 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V271, V296))(V297))), case V298 of {'Idris.Prelude.Types.Left', E2811} -> (fun (V299) -> {'Idris.Prelude.Types.Left', V299} end(E2811)); {'Idris.Prelude.Types.Right', E2812} -> (fun (V300) -> begin (V301 = (('un--nfToCFType'(V0, V262, 0, V300))(V297))), case V301 of {'Idris.Prelude.Types.Left', E2813} -> (fun (V302) -> {'Idris.Prelude.Types.Left', V302} end(E2813)); {'Idris.Prelude.Types.Right', E2814} -> (fun (V303) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V295, V303}} end(E2814)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2812)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2809, E2810)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V293, []))(V267))), case V304 of {'Idris.Prelude.Types.Left', E2815} -> (fun (V305) -> {'Idris.Prelude.Types.Left', V305} end(E2815)); {'Idris.Prelude.Types.Right', E2816} -> (fun (V306) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V292, V306}} end(E2816)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2807, E2808)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2817} -> (fun (V307) -> begin (V308 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V271, V307))(V267))), case V308 of {'Idris.Prelude.Types.Left', E2818} -> (fun (V309) -> {'Idris.Prelude.Types.Left', V309} end(E2818)); {'Idris.Prelude.Types.Right', E2819} -> (fun (V310) -> begin (V311 = (('un--nfToCFType'(V0, V262, V2, V310))(V267))), case V311 of {'Idris.Prelude.Types.Left', E2820} -> (fun (V312) -> {'Idris.Prelude.Types.Left', V312} end(E2820)); {'Idris.Prelude.Types.Right', E2821} -> (fun (V313) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V313}} end(E2821)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2819)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2817)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2800)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2798)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2796)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2790, E2791, E2792, E2793, E2794)); {'Idris.Core.Value.NType', E2822} -> (fun (V314) -> fun (V315) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2822)); {'Idris.Core.Value.NErased', E2823, E2824} -> (fun (V316, V317) -> fun (V318) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2823, E2824)); _ -> fun (V319) -> begin (V321 = begin (V320 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V320} end), case V321 of {'Idris.Prelude.Types.Left', E2784} -> (fun (V322) -> {'Idris.Prelude.Types.Left', V322} end(E2784)); {'Idris.Prelude.Types.Right', E2785} -> (fun (V323) -> begin (V324 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V323, {'Idris.Core.Env.Nil'}, V3, V319))), case V324 of {'Idris.Prelude.Types.Left', E2786} -> (fun (V325) -> {'Idris.Prelude.Types.Left', V325} end(E2786)); {'Idris.Prelude.Types.Right', E2787} -> (fun (V326) -> begin (V331 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V327) -> fun (V328) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V327, V328)) end end, fun (V329) -> fun (V330) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V329, V330)) end end}, V326, V319))), case V331 of {'Idris.Prelude.Types.Left', E2788} -> (fun (V332) -> {'Idris.Prelude.Types.Left', V332} end(E2788)); {'Idris.Prelude.Types.Right', E2789} -> (fun (V333) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V333))))}, V319)) end(E2789)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2787)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2785)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end(E2782, E2783)); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E2680, E2681, E2682, E2683} -> (fun (V334, V335, V336, V337) -> case V336 of {'Idris.Core.TT.Pi', E2725, E2726, E2727, E2728} -> (fun (V338, V339, V340, V341) -> fun (V342) -> begin (V344 = begin (V343 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V343} end), case V344 of {'Idris.Prelude.Types.Left', E2729} -> (fun (V345) -> {'Idris.Prelude.Types.Left', V345} end(E2729)); {'Idris.Prelude.Types.Right', E2730} -> (fun (V346) -> begin (V347 = (('un--nfToCFType'(V0, V334, 1, V341))(V342))), case V347 of {'Idris.Prelude.Types.Left', E2731} -> (fun (V348) -> {'Idris.Prelude.Types.Left', V348} end(E2731)); {'Idris.Prelude.Types.Right', E2732} -> (fun (V349) -> begin (V350 = (((V337(V346))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V334, 1}))))(V342))), case V350 of {'Idris.Prelude.Types.Left', E2733} -> (fun (V351) -> {'Idris.Prelude.Types.Left', V351} end(E2733)); {'Idris.Prelude.Types.Right', E2734} -> (fun (V352) -> begin (V353 = (('un--nfToCFType'(V0, V334, 1, V352))(V342))), case V353 of {'Idris.Prelude.Types.Left', E2735} -> (fun (V354) -> {'Idris.Prelude.Types.Left', V354} end(E2735)); {'Idris.Prelude.Types.Right', E2736} -> (fun (V355) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V349, V355}} end(E2736)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2734)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2732)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2730)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2725, E2726, E2727, E2728)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2690, E2691, E2692, E2693, E2694} -> (fun (V356, V357, V358, V359, V360) -> fun (V361) -> begin (V363 = begin (V362 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V362} end), case V363 of {'Idris.Prelude.Types.Left', E2695} -> (fun (V364) -> {'Idris.Prelude.Types.Left', V364} end(E2695)); {'Idris.Prelude.Types.Right', E2696} -> (fun (V365) -> begin (V370 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V366) -> fun (V367) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V366, V367)) end end, fun (V368) -> fun (V369) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V368, V369)) end end}, V357, V361))), case V370 of {'Idris.Prelude.Types.Left', E2697} -> (fun (V371) -> {'Idris.Prelude.Types.Left', V371} end(E2697)); {'Idris.Prelude.Types.Right', E2698} -> (fun (V372) -> begin (V373 = (('un--getNArgs'(V0, V365, V372, V360))(V361))), case V373 of {'Idris.Prelude.Types.Left', E2699} -> (fun (V374) -> {'Idris.Prelude.Types.Left', V374} end(E2699)); {'Idris.Prelude.Types.Right', E2700} -> (fun (V375) -> case V375 of {'Idris.Compiler.CompileExpr.User', E2701, E2702} -> (fun (V376, V377) -> begin (V379 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V378) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V365, V378)) end, V377, []))(V361))), case V379 of {'Idris.Prelude.Types.Left', E2703} -> (fun (V380) -> {'Idris.Prelude.Types.Left', V380} end(E2703)); {'Idris.Prelude.Types.Right', E2704} -> (fun (V381) -> begin (V383 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V382) -> ('un--nfToCFType'(V0, V356, V2, V382)) end, V381, []))(V361))), case V383 of {'Idris.Prelude.Types.Left', E2705} -> (fun (V384) -> {'Idris.Prelude.Types.Left', V384} end(E2705)); {'Idris.Prelude.Types.Right', E2706} -> (fun (V385) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V372, V385}} end(E2706)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2704)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2701, E2702)); {'Idris.Compiler.CompileExpr.Struct', E2707, E2708} -> (fun (V386, V387) -> begin (V398 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V388) -> case V388 of {'Idris.Builtin.MkPair', E2709, E2710} -> (fun (V389, V390) -> fun (V391) -> begin (V392 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V365, V390))(V391))), case V392 of {'Idris.Prelude.Types.Left', E2711} -> (fun (V393) -> {'Idris.Prelude.Types.Left', V393} end(E2711)); {'Idris.Prelude.Types.Right', E2712} -> (fun (V394) -> begin (V395 = (('un--nfToCFType'(V0, V356, 0, V394))(V391))), case V395 of {'Idris.Prelude.Types.Left', E2713} -> (fun (V396) -> {'Idris.Prelude.Types.Left', V396} end(E2713)); {'Idris.Prelude.Types.Right', E2714} -> (fun (V397) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V389, V397}} end(E2714)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2712)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2709, E2710)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V387, []))(V361))), case V398 of {'Idris.Prelude.Types.Left', E2715} -> (fun (V399) -> {'Idris.Prelude.Types.Left', V399} end(E2715)); {'Idris.Prelude.Types.Right', E2716} -> (fun (V400) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V386, V400}} end(E2716)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2707, E2708)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2717} -> (fun (V401) -> begin (V402 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V365, V401))(V361))), case V402 of {'Idris.Prelude.Types.Left', E2718} -> (fun (V403) -> {'Idris.Prelude.Types.Left', V403} end(E2718)); {'Idris.Prelude.Types.Right', E2719} -> (fun (V404) -> begin (V405 = (('un--nfToCFType'(V0, V356, V2, V404))(V361))), case V405 of {'Idris.Prelude.Types.Left', E2720} -> (fun (V406) -> {'Idris.Prelude.Types.Left', V406} end(E2720)); {'Idris.Prelude.Types.Right', E2721} -> (fun (V407) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V407}} end(E2721)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2719)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2717)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2700)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2698)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2696)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2690, E2691, E2692, E2693, E2694)); {'Idris.Core.Value.NType', E2722} -> (fun (V408) -> fun (V409) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2722)); {'Idris.Core.Value.NErased', E2723, E2724} -> (fun (V410, V411) -> fun (V412) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2723, E2724)); _ -> fun (V413) -> begin (V415 = begin (V414 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V414} end), case V415 of {'Idris.Prelude.Types.Left', E2684} -> (fun (V416) -> {'Idris.Prelude.Types.Left', V416} end(E2684)); {'Idris.Prelude.Types.Right', E2685} -> (fun (V417) -> begin (V418 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V417, {'Idris.Core.Env.Nil'}, V3, V413))), case V418 of {'Idris.Prelude.Types.Left', E2686} -> (fun (V419) -> {'Idris.Prelude.Types.Left', V419} end(E2686)); {'Idris.Prelude.Types.Right', E2687} -> (fun (V420) -> begin (V425 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V421) -> fun (V422) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V421, V422)) end end, fun (V423) -> fun (V424) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V423, V424)) end end}, V420, V413))), case V425 of {'Idris.Prelude.Types.Left', E2688} -> (fun (V426) -> {'Idris.Prelude.Types.Left', V426} end(E2688)); {'Idris.Prelude.Types.Right', E2689} -> (fun (V427) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V427))))}, V413)) end(E2689)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2687)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2685)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E2680, E2681, E2682, E2683)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2645, E2646, E2647, E2648, E2649} -> (fun (V428, V429, V430, V431, V432) -> fun (V433) -> begin (V435 = begin (V434 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V434} end), case V435 of {'Idris.Prelude.Types.Left', E2650} -> (fun (V436) -> {'Idris.Prelude.Types.Left', V436} end(E2650)); {'Idris.Prelude.Types.Right', E2651} -> (fun (V437) -> begin (V442 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V438) -> fun (V439) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V438, V439)) end end, fun (V440) -> fun (V441) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V440, V441)) end end}, V429, V433))), case V442 of {'Idris.Prelude.Types.Left', E2652} -> (fun (V443) -> {'Idris.Prelude.Types.Left', V443} end(E2652)); {'Idris.Prelude.Types.Right', E2653} -> (fun (V444) -> begin (V445 = (('un--getNArgs'(V0, V437, V444, V432))(V433))), case V445 of {'Idris.Prelude.Types.Left', E2654} -> (fun (V446) -> {'Idris.Prelude.Types.Left', V446} end(E2654)); {'Idris.Prelude.Types.Right', E2655} -> (fun (V447) -> case V447 of {'Idris.Compiler.CompileExpr.User', E2656, E2657} -> (fun (V448, V449) -> begin (V451 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V450) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V437, V450)) end, V449, []))(V433))), case V451 of {'Idris.Prelude.Types.Left', E2658} -> (fun (V452) -> {'Idris.Prelude.Types.Left', V452} end(E2658)); {'Idris.Prelude.Types.Right', E2659} -> (fun (V453) -> begin (V455 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V454) -> ('un--nfToCFType'(V0, V428, V2, V454)) end, V453, []))(V433))), case V455 of {'Idris.Prelude.Types.Left', E2660} -> (fun (V456) -> {'Idris.Prelude.Types.Left', V456} end(E2660)); {'Idris.Prelude.Types.Right', E2661} -> (fun (V457) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V444, V457}} end(E2661)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2659)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2656, E2657)); {'Idris.Compiler.CompileExpr.Struct', E2662, E2663} -> (fun (V458, V459) -> begin (V470 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V460) -> case V460 of {'Idris.Builtin.MkPair', E2664, E2665} -> (fun (V461, V462) -> fun (V463) -> begin (V464 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V437, V462))(V463))), case V464 of {'Idris.Prelude.Types.Left', E2666} -> (fun (V465) -> {'Idris.Prelude.Types.Left', V465} end(E2666)); {'Idris.Prelude.Types.Right', E2667} -> (fun (V466) -> begin (V467 = (('un--nfToCFType'(V0, V428, 0, V466))(V463))), case V467 of {'Idris.Prelude.Types.Left', E2668} -> (fun (V468) -> {'Idris.Prelude.Types.Left', V468} end(E2668)); {'Idris.Prelude.Types.Right', E2669} -> (fun (V469) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V461, V469}} end(E2669)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2667)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2664, E2665)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V459, []))(V433))), case V470 of {'Idris.Prelude.Types.Left', E2670} -> (fun (V471) -> {'Idris.Prelude.Types.Left', V471} end(E2670)); {'Idris.Prelude.Types.Right', E2671} -> (fun (V472) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V458, V472}} end(E2671)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2662, E2663)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2672} -> (fun (V473) -> begin (V474 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V437, V473))(V433))), case V474 of {'Idris.Prelude.Types.Left', E2673} -> (fun (V475) -> {'Idris.Prelude.Types.Left', V475} end(E2673)); {'Idris.Prelude.Types.Right', E2674} -> (fun (V476) -> begin (V477 = (('un--nfToCFType'(V0, V428, V2, V476))(V433))), case V477 of {'Idris.Prelude.Types.Left', E2675} -> (fun (V478) -> {'Idris.Prelude.Types.Left', V478} end(E2675)); {'Idris.Prelude.Types.Right', E2676} -> (fun (V479) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V479}} end(E2676)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2674)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2672)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2655)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2653)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2651)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2645, E2646, E2647, E2648, E2649)); {'Idris.Core.Value.NType', E2677} -> (fun (V480) -> fun (V481) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2677)); {'Idris.Core.Value.NErased', E2678, E2679} -> (fun (V482, V483) -> fun (V484) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2678, E2679)); _ -> fun (V485) -> begin (V487 = begin (V486 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V486} end), case V487 of {'Idris.Prelude.Types.Left', E2639} -> (fun (V488) -> {'Idris.Prelude.Types.Left', V488} end(E2639)); {'Idris.Prelude.Types.Right', E2640} -> (fun (V489) -> begin (V490 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V489, {'Idris.Core.Env.Nil'}, V3, V485))), case V490 of {'Idris.Prelude.Types.Left', E2641} -> (fun (V491) -> {'Idris.Prelude.Types.Left', V491} end(E2641)); {'Idris.Prelude.Types.Right', E2642} -> (fun (V492) -> begin (V497 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V493) -> fun (V494) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V493, V494)) end end, fun (V495) -> fun (V496) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V495, V496)) end end}, V492, V485))), case V497 of {'Idris.Prelude.Types.Left', E2643} -> (fun (V498) -> {'Idris.Prelude.Types.Left', V498} end(E2643)); {'Idris.Prelude.Types.Right', E2644} -> (fun (V499) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V499))))}, V485)) end(E2644)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2642)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2640)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E2778, E2779, E2780, E2781} -> (fun (V500, V501, V502, V503) -> fun (V504) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V500, <<"Function types not allowed in a foreign struct"/utf8>>}, V504)) end end(E2778, E2779, E2780, E2781)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2743, E2744, E2745, E2746, E2747} -> (fun (V505, V506, V507, V508, V509) -> fun (V510) -> begin (V512 = begin (V511 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V511} end), case V512 of {'Idris.Prelude.Types.Left', E2748} -> (fun (V513) -> {'Idris.Prelude.Types.Left', V513} end(E2748)); {'Idris.Prelude.Types.Right', E2749} -> (fun (V514) -> begin (V519 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V515) -> fun (V516) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V515, V516)) end end, fun (V517) -> fun (V518) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V517, V518)) end end}, V506, V510))), case V519 of {'Idris.Prelude.Types.Left', E2750} -> (fun (V520) -> {'Idris.Prelude.Types.Left', V520} end(E2750)); {'Idris.Prelude.Types.Right', E2751} -> (fun (V521) -> begin (V522 = (('un--getNArgs'(V0, V514, V521, V509))(V510))), case V522 of {'Idris.Prelude.Types.Left', E2752} -> (fun (V523) -> {'Idris.Prelude.Types.Left', V523} end(E2752)); {'Idris.Prelude.Types.Right', E2753} -> (fun (V524) -> case V524 of {'Idris.Compiler.CompileExpr.User', E2754, E2755} -> (fun (V525, V526) -> begin (V528 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V527) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V514, V527)) end, V526, []))(V510))), case V528 of {'Idris.Prelude.Types.Left', E2756} -> (fun (V529) -> {'Idris.Prelude.Types.Left', V529} end(E2756)); {'Idris.Prelude.Types.Right', E2757} -> (fun (V530) -> begin (V532 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V531) -> ('un--nfToCFType'(V0, V505, V2, V531)) end, V530, []))(V510))), case V532 of {'Idris.Prelude.Types.Left', E2758} -> (fun (V533) -> {'Idris.Prelude.Types.Left', V533} end(E2758)); {'Idris.Prelude.Types.Right', E2759} -> (fun (V534) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V521, V534}} end(E2759)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2757)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2754, E2755)); {'Idris.Compiler.CompileExpr.Struct', E2760, E2761} -> (fun (V535, V536) -> begin (V547 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V537) -> case V537 of {'Idris.Builtin.MkPair', E2762, E2763} -> (fun (V538, V539) -> fun (V540) -> begin (V541 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V514, V539))(V540))), case V541 of {'Idris.Prelude.Types.Left', E2764} -> (fun (V542) -> {'Idris.Prelude.Types.Left', V542} end(E2764)); {'Idris.Prelude.Types.Right', E2765} -> (fun (V543) -> begin (V544 = (('un--nfToCFType'(V0, V505, 0, V543))(V540))), case V544 of {'Idris.Prelude.Types.Left', E2766} -> (fun (V545) -> {'Idris.Prelude.Types.Left', V545} end(E2766)); {'Idris.Prelude.Types.Right', E2767} -> (fun (V546) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V538, V546}} end(E2767)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2765)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2762, E2763)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V536, []))(V510))), case V547 of {'Idris.Prelude.Types.Left', E2768} -> (fun (V548) -> {'Idris.Prelude.Types.Left', V548} end(E2768)); {'Idris.Prelude.Types.Right', E2769} -> (fun (V549) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V535, V549}} end(E2769)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2760, E2761)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2770} -> (fun (V550) -> begin (V551 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V514, V550))(V510))), case V551 of {'Idris.Prelude.Types.Left', E2771} -> (fun (V552) -> {'Idris.Prelude.Types.Left', V552} end(E2771)); {'Idris.Prelude.Types.Right', E2772} -> (fun (V553) -> begin (V554 = (('un--nfToCFType'(V0, V505, V2, V553))(V510))), case V554 of {'Idris.Prelude.Types.Left', E2773} -> (fun (V555) -> {'Idris.Prelude.Types.Left', V555} end(E2773)); {'Idris.Prelude.Types.Right', E2774} -> (fun (V556) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V556}} end(E2774)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2772)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2770)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2753)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2751)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2749)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2743, E2744, E2745, E2746, E2747)); {'Idris.Core.Value.NType', E2775} -> (fun (V557) -> fun (V558) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2775)); {'Idris.Core.Value.NErased', E2776, E2777} -> (fun (V559, V560) -> fun (V561) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2776, E2777)); _ -> fun (V562) -> begin (V564 = begin (V563 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V563} end), case V564 of {'Idris.Prelude.Types.Left', E2737} -> (fun (V565) -> {'Idris.Prelude.Types.Left', V565} end(E2737)); {'Idris.Prelude.Types.Right', E2738} -> (fun (V566) -> begin (V567 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V566, {'Idris.Core.Env.Nil'}, V3, V562))), case V567 of {'Idris.Prelude.Types.Left', E2739} -> (fun (V568) -> {'Idris.Prelude.Types.Left', V568} end(E2739)); {'Idris.Prelude.Types.Right', E2740} -> (fun (V569) -> begin (V574 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V570) -> fun (V571) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V570, V571)) end end, fun (V572) -> fun (V573) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V572, V573)) end end}, V569, V562))), case V574 of {'Idris.Prelude.Types.Left', E2741} -> (fun (V575) -> {'Idris.Prelude.Types.Left', V575} end(E2741)); {'Idris.Prelude.Types.Right', E2742} -> (fun (V576) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V576))))}, V562)) end(E2742)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2740)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2738)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E2604, E2605, E2606, E2607, E2608} -> (fun (V577, V578, V579, V580, V581) -> fun (V582) -> begin (V584 = begin (V583 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V583} end), case V584 of {'Idris.Prelude.Types.Left', E2609} -> (fun (V585) -> {'Idris.Prelude.Types.Left', V585} end(E2609)); {'Idris.Prelude.Types.Right', E2610} -> (fun (V586) -> begin (V591 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V587) -> fun (V588) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V587, V588)) end end, fun (V589) -> fun (V590) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V589, V590)) end end}, V578, V582))), case V591 of {'Idris.Prelude.Types.Left', E2611} -> (fun (V592) -> {'Idris.Prelude.Types.Left', V592} end(E2611)); {'Idris.Prelude.Types.Right', E2612} -> (fun (V593) -> begin (V594 = (('un--getNArgs'(V0, V586, V593, V581))(V582))), case V594 of {'Idris.Prelude.Types.Left', E2613} -> (fun (V595) -> {'Idris.Prelude.Types.Left', V595} end(E2613)); {'Idris.Prelude.Types.Right', E2614} -> (fun (V596) -> case V596 of {'Idris.Compiler.CompileExpr.User', E2615, E2616} -> (fun (V597, V598) -> begin (V600 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V599) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V586, V599)) end, V598, []))(V582))), case V600 of {'Idris.Prelude.Types.Left', E2617} -> (fun (V601) -> {'Idris.Prelude.Types.Left', V601} end(E2617)); {'Idris.Prelude.Types.Right', E2618} -> (fun (V602) -> begin (V604 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V603) -> ('un--nfToCFType'(V0, V577, V2, V603)) end, V602, []))(V582))), case V604 of {'Idris.Prelude.Types.Left', E2619} -> (fun (V605) -> {'Idris.Prelude.Types.Left', V605} end(E2619)); {'Idris.Prelude.Types.Right', E2620} -> (fun (V606) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V593, V606}} end(E2620)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2618)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2615, E2616)); {'Idris.Compiler.CompileExpr.Struct', E2621, E2622} -> (fun (V607, V608) -> begin (V619 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V609) -> case V609 of {'Idris.Builtin.MkPair', E2623, E2624} -> (fun (V610, V611) -> fun (V612) -> begin (V613 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V586, V611))(V612))), case V613 of {'Idris.Prelude.Types.Left', E2625} -> (fun (V614) -> {'Idris.Prelude.Types.Left', V614} end(E2625)); {'Idris.Prelude.Types.Right', E2626} -> (fun (V615) -> begin (V616 = (('un--nfToCFType'(V0, V577, 0, V615))(V612))), case V616 of {'Idris.Prelude.Types.Left', E2627} -> (fun (V617) -> {'Idris.Prelude.Types.Left', V617} end(E2627)); {'Idris.Prelude.Types.Right', E2628} -> (fun (V618) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V610, V618}} end(E2628)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2626)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2623, E2624)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V608, []))(V582))), case V619 of {'Idris.Prelude.Types.Left', E2629} -> (fun (V620) -> {'Idris.Prelude.Types.Left', V620} end(E2629)); {'Idris.Prelude.Types.Right', E2630} -> (fun (V621) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V607, V621}} end(E2630)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2621, E2622)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2631} -> (fun (V622) -> begin (V623 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V586, V622))(V582))), case V623 of {'Idris.Prelude.Types.Left', E2632} -> (fun (V624) -> {'Idris.Prelude.Types.Left', V624} end(E2632)); {'Idris.Prelude.Types.Right', E2633} -> (fun (V625) -> begin (V626 = (('un--nfToCFType'(V0, V577, V2, V625))(V582))), case V626 of {'Idris.Prelude.Types.Left', E2634} -> (fun (V627) -> {'Idris.Prelude.Types.Left', V627} end(E2634)); {'Idris.Prelude.Types.Right', E2635} -> (fun (V628) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V628}} end(E2635)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2633)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2631)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2614)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2612)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2610)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2604, E2605, E2606, E2607, E2608)); {'Idris.Core.Value.NType', E2636} -> (fun (V629) -> fun (V630) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2636)); {'Idris.Core.Value.NErased', E2637, E2638} -> (fun (V631, V632) -> fun (V633) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2637, E2638)); _ -> fun (V634) -> begin (V636 = begin (V635 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V635} end), case V636 of {'Idris.Prelude.Types.Left', E2598} -> (fun (V637) -> {'Idris.Prelude.Types.Left', V637} end(E2598)); {'Idris.Prelude.Types.Right', E2599} -> (fun (V638) -> begin (V639 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V638, {'Idris.Core.Env.Nil'}, V3, V634))), case V639 of {'Idris.Prelude.Types.Left', E2600} -> (fun (V640) -> {'Idris.Prelude.Types.Left', V640} end(E2600)); {'Idris.Prelude.Types.Right', E2601} -> (fun (V641) -> begin (V646 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V642) -> fun (V643) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V642, V643)) end end, fun (V644) -> fun (V645) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V644, V645)) end end}, V641, V634))), case V646 of {'Idris.Prelude.Types.Left', E2602} -> (fun (V647) -> {'Idris.Prelude.Types.Left', V647} end(E2602)); {'Idris.Prelude.Types.Right', E2603} -> (fun (V648) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V648))))}, V634)) end(E2603)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2601)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2599)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end end(E2596, E2597)); _ -> case V3 of {'Idris.Core.Value.NPrimVal', E2410, E2411} -> (fun (V649, V650) -> case V650 of {'Idris.Core.TT.DoubleType'} -> (fun () -> fun (V651) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFDouble'}} end end()); {'Idris.Core.TT.CharType'} -> (fun () -> fun (V652) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFChar'}} end end()); {'Idris.Core.TT.WorldType'} -> (fun () -> fun (V653) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFWorld'}} end end()); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E2494, E2495, E2496, E2497} -> (fun (V654, V655, V656, V657) -> case V656 of {'Idris.Core.TT.Pi', E2539, E2540, E2541, E2542} -> (fun (V658, V659, V660, V661) -> fun (V662) -> begin (V664 = begin (V663 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V663} end), case V664 of {'Idris.Prelude.Types.Left', E2543} -> (fun (V665) -> {'Idris.Prelude.Types.Left', V665} end(E2543)); {'Idris.Prelude.Types.Right', E2544} -> (fun (V666) -> begin (V667 = (('un--nfToCFType'(V0, V654, 1, V661))(V662))), case V667 of {'Idris.Prelude.Types.Left', E2545} -> (fun (V668) -> {'Idris.Prelude.Types.Left', V668} end(E2545)); {'Idris.Prelude.Types.Right', E2546} -> (fun (V669) -> begin (V670 = (((V657(V666))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V654, 1}))))(V662))), case V670 of {'Idris.Prelude.Types.Left', E2547} -> (fun (V671) -> {'Idris.Prelude.Types.Left', V671} end(E2547)); {'Idris.Prelude.Types.Right', E2548} -> (fun (V672) -> begin (V673 = (('un--nfToCFType'(V0, V654, 1, V672))(V662))), case V673 of {'Idris.Prelude.Types.Left', E2549} -> (fun (V674) -> {'Idris.Prelude.Types.Left', V674} end(E2549)); {'Idris.Prelude.Types.Right', E2550} -> (fun (V675) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V669, V675}} end(E2550)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2548)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2546)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2544)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2539, E2540, E2541, E2542)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2504, E2505, E2506, E2507, E2508} -> (fun (V676, V677, V678, V679, V680) -> fun (V681) -> begin (V683 = begin (V682 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V682} end), case V683 of {'Idris.Prelude.Types.Left', E2509} -> (fun (V684) -> {'Idris.Prelude.Types.Left', V684} end(E2509)); {'Idris.Prelude.Types.Right', E2510} -> (fun (V685) -> begin (V690 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V686) -> fun (V687) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V686, V687)) end end, fun (V688) -> fun (V689) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V688, V689)) end end}, V677, V681))), case V690 of {'Idris.Prelude.Types.Left', E2511} -> (fun (V691) -> {'Idris.Prelude.Types.Left', V691} end(E2511)); {'Idris.Prelude.Types.Right', E2512} -> (fun (V692) -> begin (V693 = (('un--getNArgs'(V0, V685, V692, V680))(V681))), case V693 of {'Idris.Prelude.Types.Left', E2513} -> (fun (V694) -> {'Idris.Prelude.Types.Left', V694} end(E2513)); {'Idris.Prelude.Types.Right', E2514} -> (fun (V695) -> case V695 of {'Idris.Compiler.CompileExpr.User', E2515, E2516} -> (fun (V696, V697) -> begin (V699 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V698) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V685, V698)) end, V697, []))(V681))), case V699 of {'Idris.Prelude.Types.Left', E2517} -> (fun (V700) -> {'Idris.Prelude.Types.Left', V700} end(E2517)); {'Idris.Prelude.Types.Right', E2518} -> (fun (V701) -> begin (V703 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V702) -> ('un--nfToCFType'(V0, V676, V2, V702)) end, V701, []))(V681))), case V703 of {'Idris.Prelude.Types.Left', E2519} -> (fun (V704) -> {'Idris.Prelude.Types.Left', V704} end(E2519)); {'Idris.Prelude.Types.Right', E2520} -> (fun (V705) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V692, V705}} end(E2520)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2518)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2515, E2516)); {'Idris.Compiler.CompileExpr.Struct', E2521, E2522} -> (fun (V706, V707) -> begin (V718 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V708) -> case V708 of {'Idris.Builtin.MkPair', E2523, E2524} -> (fun (V709, V710) -> fun (V711) -> begin (V712 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V685, V710))(V711))), case V712 of {'Idris.Prelude.Types.Left', E2525} -> (fun (V713) -> {'Idris.Prelude.Types.Left', V713} end(E2525)); {'Idris.Prelude.Types.Right', E2526} -> (fun (V714) -> begin (V715 = (('un--nfToCFType'(V0, V676, 0, V714))(V711))), case V715 of {'Idris.Prelude.Types.Left', E2527} -> (fun (V716) -> {'Idris.Prelude.Types.Left', V716} end(E2527)); {'Idris.Prelude.Types.Right', E2528} -> (fun (V717) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V709, V717}} end(E2528)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2526)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2523, E2524)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V707, []))(V681))), case V718 of {'Idris.Prelude.Types.Left', E2529} -> (fun (V719) -> {'Idris.Prelude.Types.Left', V719} end(E2529)); {'Idris.Prelude.Types.Right', E2530} -> (fun (V720) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V706, V720}} end(E2530)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2521, E2522)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2531} -> (fun (V721) -> begin (V722 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V685, V721))(V681))), case V722 of {'Idris.Prelude.Types.Left', E2532} -> (fun (V723) -> {'Idris.Prelude.Types.Left', V723} end(E2532)); {'Idris.Prelude.Types.Right', E2533} -> (fun (V724) -> begin (V725 = (('un--nfToCFType'(V0, V676, V2, V724))(V681))), case V725 of {'Idris.Prelude.Types.Left', E2534} -> (fun (V726) -> {'Idris.Prelude.Types.Left', V726} end(E2534)); {'Idris.Prelude.Types.Right', E2535} -> (fun (V727) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V727}} end(E2535)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2533)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2531)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2514)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2512)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2510)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2504, E2505, E2506, E2507, E2508)); {'Idris.Core.Value.NType', E2536} -> (fun (V728) -> fun (V729) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2536)); {'Idris.Core.Value.NErased', E2537, E2538} -> (fun (V730, V731) -> fun (V732) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2537, E2538)); _ -> fun (V733) -> begin (V735 = begin (V734 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V734} end), case V735 of {'Idris.Prelude.Types.Left', E2498} -> (fun (V736) -> {'Idris.Prelude.Types.Left', V736} end(E2498)); {'Idris.Prelude.Types.Right', E2499} -> (fun (V737) -> begin (V738 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V737, {'Idris.Core.Env.Nil'}, V3, V733))), case V738 of {'Idris.Prelude.Types.Left', E2500} -> (fun (V739) -> {'Idris.Prelude.Types.Left', V739} end(E2500)); {'Idris.Prelude.Types.Right', E2501} -> (fun (V740) -> begin (V745 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V741) -> fun (V742) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V741, V742)) end end, fun (V743) -> fun (V744) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V743, V744)) end end}, V740, V733))), case V745 of {'Idris.Prelude.Types.Left', E2502} -> (fun (V746) -> {'Idris.Prelude.Types.Left', V746} end(E2502)); {'Idris.Prelude.Types.Right', E2503} -> (fun (V747) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V747))))}, V733)) end(E2503)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2501)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2499)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E2494, E2495, E2496, E2497)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2459, E2460, E2461, E2462, E2463} -> (fun (V748, V749, V750, V751, V752) -> fun (V753) -> begin (V755 = begin (V754 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V754} end), case V755 of {'Idris.Prelude.Types.Left', E2464} -> (fun (V756) -> {'Idris.Prelude.Types.Left', V756} end(E2464)); {'Idris.Prelude.Types.Right', E2465} -> (fun (V757) -> begin (V762 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V758) -> fun (V759) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V758, V759)) end end, fun (V760) -> fun (V761) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V760, V761)) end end}, V749, V753))), case V762 of {'Idris.Prelude.Types.Left', E2466} -> (fun (V763) -> {'Idris.Prelude.Types.Left', V763} end(E2466)); {'Idris.Prelude.Types.Right', E2467} -> (fun (V764) -> begin (V765 = (('un--getNArgs'(V0, V757, V764, V752))(V753))), case V765 of {'Idris.Prelude.Types.Left', E2468} -> (fun (V766) -> {'Idris.Prelude.Types.Left', V766} end(E2468)); {'Idris.Prelude.Types.Right', E2469} -> (fun (V767) -> case V767 of {'Idris.Compiler.CompileExpr.User', E2470, E2471} -> (fun (V768, V769) -> begin (V771 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V770) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V757, V770)) end, V769, []))(V753))), case V771 of {'Idris.Prelude.Types.Left', E2472} -> (fun (V772) -> {'Idris.Prelude.Types.Left', V772} end(E2472)); {'Idris.Prelude.Types.Right', E2473} -> (fun (V773) -> begin (V775 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V774) -> ('un--nfToCFType'(V0, V748, V2, V774)) end, V773, []))(V753))), case V775 of {'Idris.Prelude.Types.Left', E2474} -> (fun (V776) -> {'Idris.Prelude.Types.Left', V776} end(E2474)); {'Idris.Prelude.Types.Right', E2475} -> (fun (V777) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V764, V777}} end(E2475)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2473)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2470, E2471)); {'Idris.Compiler.CompileExpr.Struct', E2476, E2477} -> (fun (V778, V779) -> begin (V790 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V780) -> case V780 of {'Idris.Builtin.MkPair', E2478, E2479} -> (fun (V781, V782) -> fun (V783) -> begin (V784 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V757, V782))(V783))), case V784 of {'Idris.Prelude.Types.Left', E2480} -> (fun (V785) -> {'Idris.Prelude.Types.Left', V785} end(E2480)); {'Idris.Prelude.Types.Right', E2481} -> (fun (V786) -> begin (V787 = (('un--nfToCFType'(V0, V748, 0, V786))(V783))), case V787 of {'Idris.Prelude.Types.Left', E2482} -> (fun (V788) -> {'Idris.Prelude.Types.Left', V788} end(E2482)); {'Idris.Prelude.Types.Right', E2483} -> (fun (V789) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V781, V789}} end(E2483)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2481)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2478, E2479)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V779, []))(V753))), case V790 of {'Idris.Prelude.Types.Left', E2484} -> (fun (V791) -> {'Idris.Prelude.Types.Left', V791} end(E2484)); {'Idris.Prelude.Types.Right', E2485} -> (fun (V792) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V778, V792}} end(E2485)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2476, E2477)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2486} -> (fun (V793) -> begin (V794 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V757, V793))(V753))), case V794 of {'Idris.Prelude.Types.Left', E2487} -> (fun (V795) -> {'Idris.Prelude.Types.Left', V795} end(E2487)); {'Idris.Prelude.Types.Right', E2488} -> (fun (V796) -> begin (V797 = (('un--nfToCFType'(V0, V748, V2, V796))(V753))), case V797 of {'Idris.Prelude.Types.Left', E2489} -> (fun (V798) -> {'Idris.Prelude.Types.Left', V798} end(E2489)); {'Idris.Prelude.Types.Right', E2490} -> (fun (V799) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V799}} end(E2490)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2488)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2486)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2469)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2467)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2465)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2459, E2460, E2461, E2462, E2463)); {'Idris.Core.Value.NType', E2491} -> (fun (V800) -> fun (V801) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2491)); {'Idris.Core.Value.NErased', E2492, E2493} -> (fun (V802, V803) -> fun (V804) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2492, E2493)); _ -> fun (V805) -> begin (V807 = begin (V806 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V806} end), case V807 of {'Idris.Prelude.Types.Left', E2453} -> (fun (V808) -> {'Idris.Prelude.Types.Left', V808} end(E2453)); {'Idris.Prelude.Types.Right', E2454} -> (fun (V809) -> begin (V810 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V809, {'Idris.Core.Env.Nil'}, V3, V805))), case V810 of {'Idris.Prelude.Types.Left', E2455} -> (fun (V811) -> {'Idris.Prelude.Types.Left', V811} end(E2455)); {'Idris.Prelude.Types.Right', E2456} -> (fun (V812) -> begin (V817 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V813) -> fun (V814) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V813, V814)) end end, fun (V815) -> fun (V816) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V815, V816)) end end}, V812, V805))), case V817 of {'Idris.Prelude.Types.Left', E2457} -> (fun (V818) -> {'Idris.Prelude.Types.Left', V818} end(E2457)); {'Idris.Prelude.Types.Right', E2458} -> (fun (V819) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V819))))}, V805)) end(E2458)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2456)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2454)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E2592, E2593, E2594, E2595} -> (fun (V820, V821, V822, V823) -> fun (V824) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V820, <<"Function types not allowed in a foreign struct"/utf8>>}, V824)) end end(E2592, E2593, E2594, E2595)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2557, E2558, E2559, E2560, E2561} -> (fun (V825, V826, V827, V828, V829) -> fun (V830) -> begin (V832 = begin (V831 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V831} end), case V832 of {'Idris.Prelude.Types.Left', E2562} -> (fun (V833) -> {'Idris.Prelude.Types.Left', V833} end(E2562)); {'Idris.Prelude.Types.Right', E2563} -> (fun (V834) -> begin (V839 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V835) -> fun (V836) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V835, V836)) end end, fun (V837) -> fun (V838) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V837, V838)) end end}, V826, V830))), case V839 of {'Idris.Prelude.Types.Left', E2564} -> (fun (V840) -> {'Idris.Prelude.Types.Left', V840} end(E2564)); {'Idris.Prelude.Types.Right', E2565} -> (fun (V841) -> begin (V842 = (('un--getNArgs'(V0, V834, V841, V829))(V830))), case V842 of {'Idris.Prelude.Types.Left', E2566} -> (fun (V843) -> {'Idris.Prelude.Types.Left', V843} end(E2566)); {'Idris.Prelude.Types.Right', E2567} -> (fun (V844) -> case V844 of {'Idris.Compiler.CompileExpr.User', E2568, E2569} -> (fun (V845, V846) -> begin (V848 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V847) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V834, V847)) end, V846, []))(V830))), case V848 of {'Idris.Prelude.Types.Left', E2570} -> (fun (V849) -> {'Idris.Prelude.Types.Left', V849} end(E2570)); {'Idris.Prelude.Types.Right', E2571} -> (fun (V850) -> begin (V852 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V851) -> ('un--nfToCFType'(V0, V825, V2, V851)) end, V850, []))(V830))), case V852 of {'Idris.Prelude.Types.Left', E2572} -> (fun (V853) -> {'Idris.Prelude.Types.Left', V853} end(E2572)); {'Idris.Prelude.Types.Right', E2573} -> (fun (V854) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V841, V854}} end(E2573)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2571)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2568, E2569)); {'Idris.Compiler.CompileExpr.Struct', E2574, E2575} -> (fun (V855, V856) -> begin (V867 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V857) -> case V857 of {'Idris.Builtin.MkPair', E2576, E2577} -> (fun (V858, V859) -> fun (V860) -> begin (V861 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V834, V859))(V860))), case V861 of {'Idris.Prelude.Types.Left', E2578} -> (fun (V862) -> {'Idris.Prelude.Types.Left', V862} end(E2578)); {'Idris.Prelude.Types.Right', E2579} -> (fun (V863) -> begin (V864 = (('un--nfToCFType'(V0, V825, 0, V863))(V860))), case V864 of {'Idris.Prelude.Types.Left', E2580} -> (fun (V865) -> {'Idris.Prelude.Types.Left', V865} end(E2580)); {'Idris.Prelude.Types.Right', E2581} -> (fun (V866) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V858, V866}} end(E2581)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2579)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2576, E2577)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V856, []))(V830))), case V867 of {'Idris.Prelude.Types.Left', E2582} -> (fun (V868) -> {'Idris.Prelude.Types.Left', V868} end(E2582)); {'Idris.Prelude.Types.Right', E2583} -> (fun (V869) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V855, V869}} end(E2583)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2574, E2575)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2584} -> (fun (V870) -> begin (V871 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V834, V870))(V830))), case V871 of {'Idris.Prelude.Types.Left', E2585} -> (fun (V872) -> {'Idris.Prelude.Types.Left', V872} end(E2585)); {'Idris.Prelude.Types.Right', E2586} -> (fun (V873) -> begin (V874 = (('un--nfToCFType'(V0, V825, V2, V873))(V830))), case V874 of {'Idris.Prelude.Types.Left', E2587} -> (fun (V875) -> {'Idris.Prelude.Types.Left', V875} end(E2587)); {'Idris.Prelude.Types.Right', E2588} -> (fun (V876) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V876}} end(E2588)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2586)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2584)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2567)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2565)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2563)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2557, E2558, E2559, E2560, E2561)); {'Idris.Core.Value.NType', E2589} -> (fun (V877) -> fun (V878) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2589)); {'Idris.Core.Value.NErased', E2590, E2591} -> (fun (V879, V880) -> fun (V881) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2590, E2591)); _ -> fun (V882) -> begin (V884 = begin (V883 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V883} end), case V884 of {'Idris.Prelude.Types.Left', E2551} -> (fun (V885) -> {'Idris.Prelude.Types.Left', V885} end(E2551)); {'Idris.Prelude.Types.Right', E2552} -> (fun (V886) -> begin (V887 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V886, {'Idris.Core.Env.Nil'}, V3, V882))), case V887 of {'Idris.Prelude.Types.Left', E2553} -> (fun (V888) -> {'Idris.Prelude.Types.Left', V888} end(E2553)); {'Idris.Prelude.Types.Right', E2554} -> (fun (V889) -> begin (V894 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V890) -> fun (V891) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V890, V891)) end end, fun (V892) -> fun (V893) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V892, V893)) end end}, V889, V882))), case V894 of {'Idris.Prelude.Types.Left', E2555} -> (fun (V895) -> {'Idris.Prelude.Types.Left', V895} end(E2555)); {'Idris.Prelude.Types.Right', E2556} -> (fun (V896) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V896))))}, V882)) end(E2556)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2554)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2552)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E2418, E2419, E2420, E2421, E2422} -> (fun (V897, V898, V899, V900, V901) -> fun (V902) -> begin (V904 = begin (V903 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V903} end), case V904 of {'Idris.Prelude.Types.Left', E2423} -> (fun (V905) -> {'Idris.Prelude.Types.Left', V905} end(E2423)); {'Idris.Prelude.Types.Right', E2424} -> (fun (V906) -> begin (V911 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V907) -> fun (V908) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V907, V908)) end end, fun (V909) -> fun (V910) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V909, V910)) end end}, V898, V902))), case V911 of {'Idris.Prelude.Types.Left', E2425} -> (fun (V912) -> {'Idris.Prelude.Types.Left', V912} end(E2425)); {'Idris.Prelude.Types.Right', E2426} -> (fun (V913) -> begin (V914 = (('un--getNArgs'(V0, V906, V913, V901))(V902))), case V914 of {'Idris.Prelude.Types.Left', E2427} -> (fun (V915) -> {'Idris.Prelude.Types.Left', V915} end(E2427)); {'Idris.Prelude.Types.Right', E2428} -> (fun (V916) -> case V916 of {'Idris.Compiler.CompileExpr.User', E2429, E2430} -> (fun (V917, V918) -> begin (V920 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V919) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V906, V919)) end, V918, []))(V902))), case V920 of {'Idris.Prelude.Types.Left', E2431} -> (fun (V921) -> {'Idris.Prelude.Types.Left', V921} end(E2431)); {'Idris.Prelude.Types.Right', E2432} -> (fun (V922) -> begin (V924 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V923) -> ('un--nfToCFType'(V0, V897, V2, V923)) end, V922, []))(V902))), case V924 of {'Idris.Prelude.Types.Left', E2433} -> (fun (V925) -> {'Idris.Prelude.Types.Left', V925} end(E2433)); {'Idris.Prelude.Types.Right', E2434} -> (fun (V926) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V913, V926}} end(E2434)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2432)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2429, E2430)); {'Idris.Compiler.CompileExpr.Struct', E2435, E2436} -> (fun (V927, V928) -> begin (V939 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V929) -> case V929 of {'Idris.Builtin.MkPair', E2437, E2438} -> (fun (V930, V931) -> fun (V932) -> begin (V933 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V906, V931))(V932))), case V933 of {'Idris.Prelude.Types.Left', E2439} -> (fun (V934) -> {'Idris.Prelude.Types.Left', V934} end(E2439)); {'Idris.Prelude.Types.Right', E2440} -> (fun (V935) -> begin (V936 = (('un--nfToCFType'(V0, V897, 0, V935))(V932))), case V936 of {'Idris.Prelude.Types.Left', E2441} -> (fun (V937) -> {'Idris.Prelude.Types.Left', V937} end(E2441)); {'Idris.Prelude.Types.Right', E2442} -> (fun (V938) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V930, V938}} end(E2442)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2440)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2437, E2438)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V928, []))(V902))), case V939 of {'Idris.Prelude.Types.Left', E2443} -> (fun (V940) -> {'Idris.Prelude.Types.Left', V940} end(E2443)); {'Idris.Prelude.Types.Right', E2444} -> (fun (V941) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V927, V941}} end(E2444)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2435, E2436)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2445} -> (fun (V942) -> begin (V943 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V906, V942))(V902))), case V943 of {'Idris.Prelude.Types.Left', E2446} -> (fun (V944) -> {'Idris.Prelude.Types.Left', V944} end(E2446)); {'Idris.Prelude.Types.Right', E2447} -> (fun (V945) -> begin (V946 = (('un--nfToCFType'(V0, V897, V2, V945))(V902))), case V946 of {'Idris.Prelude.Types.Left', E2448} -> (fun (V947) -> {'Idris.Prelude.Types.Left', V947} end(E2448)); {'Idris.Prelude.Types.Right', E2449} -> (fun (V948) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V948}} end(E2449)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2447)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2445)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2428)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2426)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2424)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2418, E2419, E2420, E2421, E2422)); {'Idris.Core.Value.NType', E2450} -> (fun (V949) -> fun (V950) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2450)); {'Idris.Core.Value.NErased', E2451, E2452} -> (fun (V951, V952) -> fun (V953) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2451, E2452)); _ -> fun (V954) -> begin (V956 = begin (V955 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V955} end), case V956 of {'Idris.Prelude.Types.Left', E2412} -> (fun (V957) -> {'Idris.Prelude.Types.Left', V957} end(E2412)); {'Idris.Prelude.Types.Right', E2413} -> (fun (V958) -> begin (V959 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V958, {'Idris.Core.Env.Nil'}, V3, V954))), case V959 of {'Idris.Prelude.Types.Left', E2414} -> (fun (V960) -> {'Idris.Prelude.Types.Left', V960} end(E2414)); {'Idris.Prelude.Types.Right', E2415} -> (fun (V961) -> begin (V966 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V962) -> fun (V963) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V962, V963)) end end, fun (V964) -> fun (V965) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V964, V965)) end end}, V961, V954))), case V966 of {'Idris.Prelude.Types.Left', E2416} -> (fun (V967) -> {'Idris.Prelude.Types.Left', V967} end(E2416)); {'Idris.Prelude.Types.Right', E2417} -> (fun (V968) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V968))))}, V954)) end(E2417)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2415)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2413)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end(E2410, E2411)); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E2308, E2309, E2310, E2311} -> (fun (V969, V970, V971, V972) -> case V971 of {'Idris.Core.TT.Pi', E2353, E2354, E2355, E2356} -> (fun (V973, V974, V975, V976) -> fun (V977) -> begin (V979 = begin (V978 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V978} end), case V979 of {'Idris.Prelude.Types.Left', E2357} -> (fun (V980) -> {'Idris.Prelude.Types.Left', V980} end(E2357)); {'Idris.Prelude.Types.Right', E2358} -> (fun (V981) -> begin (V982 = (('un--nfToCFType'(V0, V969, 1, V976))(V977))), case V982 of {'Idris.Prelude.Types.Left', E2359} -> (fun (V983) -> {'Idris.Prelude.Types.Left', V983} end(E2359)); {'Idris.Prelude.Types.Right', E2360} -> (fun (V984) -> begin (V985 = (((V972(V981))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V969, 1}))))(V977))), case V985 of {'Idris.Prelude.Types.Left', E2361} -> (fun (V986) -> {'Idris.Prelude.Types.Left', V986} end(E2361)); {'Idris.Prelude.Types.Right', E2362} -> (fun (V987) -> begin (V988 = (('un--nfToCFType'(V0, V969, 1, V987))(V977))), case V988 of {'Idris.Prelude.Types.Left', E2363} -> (fun (V989) -> {'Idris.Prelude.Types.Left', V989} end(E2363)); {'Idris.Prelude.Types.Right', E2364} -> (fun (V990) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V984, V990}} end(E2364)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2362)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2360)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2358)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2353, E2354, E2355, E2356)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2318, E2319, E2320, E2321, E2322} -> (fun (V991, V992, V993, V994, V995) -> fun (V996) -> begin (V998 = begin (V997 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V997} end), case V998 of {'Idris.Prelude.Types.Left', E2323} -> (fun (V999) -> {'Idris.Prelude.Types.Left', V999} end(E2323)); {'Idris.Prelude.Types.Right', E2324} -> (fun (V1000) -> begin (V1005 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1001) -> fun (V1002) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V1001, V1002)) end end, fun (V1003) -> fun (V1004) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V1003, V1004)) end end}, V992, V996))), case V1005 of {'Idris.Prelude.Types.Left', E2325} -> (fun (V1006) -> {'Idris.Prelude.Types.Left', V1006} end(E2325)); {'Idris.Prelude.Types.Right', E2326} -> (fun (V1007) -> begin (V1008 = (('un--getNArgs'(V0, V1000, V1007, V995))(V996))), case V1008 of {'Idris.Prelude.Types.Left', E2327} -> (fun (V1009) -> {'Idris.Prelude.Types.Left', V1009} end(E2327)); {'Idris.Prelude.Types.Right', E2328} -> (fun (V1010) -> case V1010 of {'Idris.Compiler.CompileExpr.User', E2329, E2330} -> (fun (V1011, V1012) -> begin (V1014 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1013) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1000, V1013)) end, V1012, []))(V996))), case V1014 of {'Idris.Prelude.Types.Left', E2331} -> (fun (V1015) -> {'Idris.Prelude.Types.Left', V1015} end(E2331)); {'Idris.Prelude.Types.Right', E2332} -> (fun (V1016) -> begin (V1018 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1017) -> ('un--nfToCFType'(V0, V991, V2, V1017)) end, V1016, []))(V996))), case V1018 of {'Idris.Prelude.Types.Left', E2333} -> (fun (V1019) -> {'Idris.Prelude.Types.Left', V1019} end(E2333)); {'Idris.Prelude.Types.Right', E2334} -> (fun (V1020) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V1007, V1020}} end(E2334)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2332)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2329, E2330)); {'Idris.Compiler.CompileExpr.Struct', E2335, E2336} -> (fun (V1021, V1022) -> begin (V1033 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1023) -> case V1023 of {'Idris.Builtin.MkPair', E2337, E2338} -> (fun (V1024, V1025) -> fun (V1026) -> begin (V1027 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1000, V1025))(V1026))), case V1027 of {'Idris.Prelude.Types.Left', E2339} -> (fun (V1028) -> {'Idris.Prelude.Types.Left', V1028} end(E2339)); {'Idris.Prelude.Types.Right', E2340} -> (fun (V1029) -> begin (V1030 = (('un--nfToCFType'(V0, V991, 0, V1029))(V1026))), case V1030 of {'Idris.Prelude.Types.Left', E2341} -> (fun (V1031) -> {'Idris.Prelude.Types.Left', V1031} end(E2341)); {'Idris.Prelude.Types.Right', E2342} -> (fun (V1032) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V1024, V1032}} end(E2342)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2340)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2337, E2338)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V1022, []))(V996))), case V1033 of {'Idris.Prelude.Types.Left', E2343} -> (fun (V1034) -> {'Idris.Prelude.Types.Left', V1034} end(E2343)); {'Idris.Prelude.Types.Right', E2344} -> (fun (V1035) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V1021, V1035}} end(E2344)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2335, E2336)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2345} -> (fun (V1036) -> begin (V1037 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1000, V1036))(V996))), case V1037 of {'Idris.Prelude.Types.Left', E2346} -> (fun (V1038) -> {'Idris.Prelude.Types.Left', V1038} end(E2346)); {'Idris.Prelude.Types.Right', E2347} -> (fun (V1039) -> begin (V1040 = (('un--nfToCFType'(V0, V991, V2, V1039))(V996))), case V1040 of {'Idris.Prelude.Types.Left', E2348} -> (fun (V1041) -> {'Idris.Prelude.Types.Left', V1041} end(E2348)); {'Idris.Prelude.Types.Right', E2349} -> (fun (V1042) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V1042}} end(E2349)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2347)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2345)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2328)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2326)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2324)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2318, E2319, E2320, E2321, E2322)); {'Idris.Core.Value.NType', E2350} -> (fun (V1043) -> fun (V1044) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2350)); {'Idris.Core.Value.NErased', E2351, E2352} -> (fun (V1045, V1046) -> fun (V1047) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2351, E2352)); _ -> fun (V1048) -> begin (V1050 = begin (V1049 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1049} end), case V1050 of {'Idris.Prelude.Types.Left', E2312} -> (fun (V1051) -> {'Idris.Prelude.Types.Left', V1051} end(E2312)); {'Idris.Prelude.Types.Right', E2313} -> (fun (V1052) -> begin (V1053 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V1052, {'Idris.Core.Env.Nil'}, V3, V1048))), case V1053 of {'Idris.Prelude.Types.Left', E2314} -> (fun (V1054) -> {'Idris.Prelude.Types.Left', V1054} end(E2314)); {'Idris.Prelude.Types.Right', E2315} -> (fun (V1055) -> begin (V1060 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1056) -> fun (V1057) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V1056, V1057)) end end, fun (V1058) -> fun (V1059) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V1058, V1059)) end end}, V1055, V1048))), case V1060 of {'Idris.Prelude.Types.Left', E2316} -> (fun (V1061) -> {'Idris.Prelude.Types.Left', V1061} end(E2316)); {'Idris.Prelude.Types.Right', E2317} -> (fun (V1062) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V1062))))}, V1048)) end(E2317)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2315)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2313)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E2308, E2309, E2310, E2311)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2273, E2274, E2275, E2276, E2277} -> (fun (V1063, V1064, V1065, V1066, V1067) -> fun (V1068) -> begin (V1070 = begin (V1069 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1069} end), case V1070 of {'Idris.Prelude.Types.Left', E2278} -> (fun (V1071) -> {'Idris.Prelude.Types.Left', V1071} end(E2278)); {'Idris.Prelude.Types.Right', E2279} -> (fun (V1072) -> begin (V1077 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1073) -> fun (V1074) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V1073, V1074)) end end, fun (V1075) -> fun (V1076) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V1075, V1076)) end end}, V1064, V1068))), case V1077 of {'Idris.Prelude.Types.Left', E2280} -> (fun (V1078) -> {'Idris.Prelude.Types.Left', V1078} end(E2280)); {'Idris.Prelude.Types.Right', E2281} -> (fun (V1079) -> begin (V1080 = (('un--getNArgs'(V0, V1072, V1079, V1067))(V1068))), case V1080 of {'Idris.Prelude.Types.Left', E2282} -> (fun (V1081) -> {'Idris.Prelude.Types.Left', V1081} end(E2282)); {'Idris.Prelude.Types.Right', E2283} -> (fun (V1082) -> case V1082 of {'Idris.Compiler.CompileExpr.User', E2284, E2285} -> (fun (V1083, V1084) -> begin (V1086 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1085) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1072, V1085)) end, V1084, []))(V1068))), case V1086 of {'Idris.Prelude.Types.Left', E2286} -> (fun (V1087) -> {'Idris.Prelude.Types.Left', V1087} end(E2286)); {'Idris.Prelude.Types.Right', E2287} -> (fun (V1088) -> begin (V1090 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1089) -> ('un--nfToCFType'(V0, V1063, V2, V1089)) end, V1088, []))(V1068))), case V1090 of {'Idris.Prelude.Types.Left', E2288} -> (fun (V1091) -> {'Idris.Prelude.Types.Left', V1091} end(E2288)); {'Idris.Prelude.Types.Right', E2289} -> (fun (V1092) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V1079, V1092}} end(E2289)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2287)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2284, E2285)); {'Idris.Compiler.CompileExpr.Struct', E2290, E2291} -> (fun (V1093, V1094) -> begin (V1105 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1095) -> case V1095 of {'Idris.Builtin.MkPair', E2292, E2293} -> (fun (V1096, V1097) -> fun (V1098) -> begin (V1099 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1072, V1097))(V1098))), case V1099 of {'Idris.Prelude.Types.Left', E2294} -> (fun (V1100) -> {'Idris.Prelude.Types.Left', V1100} end(E2294)); {'Idris.Prelude.Types.Right', E2295} -> (fun (V1101) -> begin (V1102 = (('un--nfToCFType'(V0, V1063, 0, V1101))(V1098))), case V1102 of {'Idris.Prelude.Types.Left', E2296} -> (fun (V1103) -> {'Idris.Prelude.Types.Left', V1103} end(E2296)); {'Idris.Prelude.Types.Right', E2297} -> (fun (V1104) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V1096, V1104}} end(E2297)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2295)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2292, E2293)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V1094, []))(V1068))), case V1105 of {'Idris.Prelude.Types.Left', E2298} -> (fun (V1106) -> {'Idris.Prelude.Types.Left', V1106} end(E2298)); {'Idris.Prelude.Types.Right', E2299} -> (fun (V1107) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V1093, V1107}} end(E2299)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2290, E2291)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2300} -> (fun (V1108) -> begin (V1109 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1072, V1108))(V1068))), case V1109 of {'Idris.Prelude.Types.Left', E2301} -> (fun (V1110) -> {'Idris.Prelude.Types.Left', V1110} end(E2301)); {'Idris.Prelude.Types.Right', E2302} -> (fun (V1111) -> begin (V1112 = (('un--nfToCFType'(V0, V1063, V2, V1111))(V1068))), case V1112 of {'Idris.Prelude.Types.Left', E2303} -> (fun (V1113) -> {'Idris.Prelude.Types.Left', V1113} end(E2303)); {'Idris.Prelude.Types.Right', E2304} -> (fun (V1114) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V1114}} end(E2304)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2302)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2300)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2283)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2281)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2279)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2273, E2274, E2275, E2276, E2277)); {'Idris.Core.Value.NType', E2305} -> (fun (V1115) -> fun (V1116) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2305)); {'Idris.Core.Value.NErased', E2306, E2307} -> (fun (V1117, V1118) -> fun (V1119) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2306, E2307)); _ -> fun (V1120) -> begin (V1122 = begin (V1121 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1121} end), case V1122 of {'Idris.Prelude.Types.Left', E2267} -> (fun (V1123) -> {'Idris.Prelude.Types.Left', V1123} end(E2267)); {'Idris.Prelude.Types.Right', E2268} -> (fun (V1124) -> begin (V1125 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V1124, {'Idris.Core.Env.Nil'}, V3, V1120))), case V1125 of {'Idris.Prelude.Types.Left', E2269} -> (fun (V1126) -> {'Idris.Prelude.Types.Left', V1126} end(E2269)); {'Idris.Prelude.Types.Right', E2270} -> (fun (V1127) -> begin (V1132 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1128) -> fun (V1129) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V1128, V1129)) end end, fun (V1130) -> fun (V1131) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V1130, V1131)) end end}, V1127, V1120))), case V1132 of {'Idris.Prelude.Types.Left', E2271} -> (fun (V1133) -> {'Idris.Prelude.Types.Left', V1133} end(E2271)); {'Idris.Prelude.Types.Right', E2272} -> (fun (V1134) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V1134))))}, V1120)) end(E2272)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2270)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2268)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E2406, E2407, E2408, E2409} -> (fun (V1135, V1136, V1137, V1138) -> fun (V1139) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V1135, <<"Function types not allowed in a foreign struct"/utf8>>}, V1139)) end end(E2406, E2407, E2408, E2409)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2371, E2372, E2373, E2374, E2375} -> (fun (V1140, V1141, V1142, V1143, V1144) -> fun (V1145) -> begin (V1147 = begin (V1146 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1146} end), case V1147 of {'Idris.Prelude.Types.Left', E2376} -> (fun (V1148) -> {'Idris.Prelude.Types.Left', V1148} end(E2376)); {'Idris.Prelude.Types.Right', E2377} -> (fun (V1149) -> begin (V1154 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1150) -> fun (V1151) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V1150, V1151)) end end, fun (V1152) -> fun (V1153) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V1152, V1153)) end end}, V1141, V1145))), case V1154 of {'Idris.Prelude.Types.Left', E2378} -> (fun (V1155) -> {'Idris.Prelude.Types.Left', V1155} end(E2378)); {'Idris.Prelude.Types.Right', E2379} -> (fun (V1156) -> begin (V1157 = (('un--getNArgs'(V0, V1149, V1156, V1144))(V1145))), case V1157 of {'Idris.Prelude.Types.Left', E2380} -> (fun (V1158) -> {'Idris.Prelude.Types.Left', V1158} end(E2380)); {'Idris.Prelude.Types.Right', E2381} -> (fun (V1159) -> case V1159 of {'Idris.Compiler.CompileExpr.User', E2382, E2383} -> (fun (V1160, V1161) -> begin (V1163 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1162) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1149, V1162)) end, V1161, []))(V1145))), case V1163 of {'Idris.Prelude.Types.Left', E2384} -> (fun (V1164) -> {'Idris.Prelude.Types.Left', V1164} end(E2384)); {'Idris.Prelude.Types.Right', E2385} -> (fun (V1165) -> begin (V1167 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1166) -> ('un--nfToCFType'(V0, V1140, V2, V1166)) end, V1165, []))(V1145))), case V1167 of {'Idris.Prelude.Types.Left', E2386} -> (fun (V1168) -> {'Idris.Prelude.Types.Left', V1168} end(E2386)); {'Idris.Prelude.Types.Right', E2387} -> (fun (V1169) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V1156, V1169}} end(E2387)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2385)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2382, E2383)); {'Idris.Compiler.CompileExpr.Struct', E2388, E2389} -> (fun (V1170, V1171) -> begin (V1182 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1172) -> case V1172 of {'Idris.Builtin.MkPair', E2390, E2391} -> (fun (V1173, V1174) -> fun (V1175) -> begin (V1176 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1149, V1174))(V1175))), case V1176 of {'Idris.Prelude.Types.Left', E2392} -> (fun (V1177) -> {'Idris.Prelude.Types.Left', V1177} end(E2392)); {'Idris.Prelude.Types.Right', E2393} -> (fun (V1178) -> begin (V1179 = (('un--nfToCFType'(V0, V1140, 0, V1178))(V1175))), case V1179 of {'Idris.Prelude.Types.Left', E2394} -> (fun (V1180) -> {'Idris.Prelude.Types.Left', V1180} end(E2394)); {'Idris.Prelude.Types.Right', E2395} -> (fun (V1181) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V1173, V1181}} end(E2395)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2393)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2390, E2391)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V1171, []))(V1145))), case V1182 of {'Idris.Prelude.Types.Left', E2396} -> (fun (V1183) -> {'Idris.Prelude.Types.Left', V1183} end(E2396)); {'Idris.Prelude.Types.Right', E2397} -> (fun (V1184) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V1170, V1184}} end(E2397)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2388, E2389)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2398} -> (fun (V1185) -> begin (V1186 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1149, V1185))(V1145))), case V1186 of {'Idris.Prelude.Types.Left', E2399} -> (fun (V1187) -> {'Idris.Prelude.Types.Left', V1187} end(E2399)); {'Idris.Prelude.Types.Right', E2400} -> (fun (V1188) -> begin (V1189 = (('un--nfToCFType'(V0, V1140, V2, V1188))(V1145))), case V1189 of {'Idris.Prelude.Types.Left', E2401} -> (fun (V1190) -> {'Idris.Prelude.Types.Left', V1190} end(E2401)); {'Idris.Prelude.Types.Right', E2402} -> (fun (V1191) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V1191}} end(E2402)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2400)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2398)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2381)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2379)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2377)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2371, E2372, E2373, E2374, E2375)); {'Idris.Core.Value.NType', E2403} -> (fun (V1192) -> fun (V1193) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2403)); {'Idris.Core.Value.NErased', E2404, E2405} -> (fun (V1194, V1195) -> fun (V1196) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2404, E2405)); _ -> fun (V1197) -> begin (V1199 = begin (V1198 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1198} end), case V1199 of {'Idris.Prelude.Types.Left', E2365} -> (fun (V1200) -> {'Idris.Prelude.Types.Left', V1200} end(E2365)); {'Idris.Prelude.Types.Right', E2366} -> (fun (V1201) -> begin (V1202 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V1201, {'Idris.Core.Env.Nil'}, V3, V1197))), case V1202 of {'Idris.Prelude.Types.Left', E2367} -> (fun (V1203) -> {'Idris.Prelude.Types.Left', V1203} end(E2367)); {'Idris.Prelude.Types.Right', E2368} -> (fun (V1204) -> begin (V1209 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1205) -> fun (V1206) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V1205, V1206)) end end, fun (V1207) -> fun (V1208) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V1207, V1208)) end end}, V1204, V1197))), case V1209 of {'Idris.Prelude.Types.Left', E2369} -> (fun (V1210) -> {'Idris.Prelude.Types.Left', V1210} end(E2369)); {'Idris.Prelude.Types.Right', E2370} -> (fun (V1211) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V1211))))}, V1197)) end(E2370)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2368)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2366)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E2232, E2233, E2234, E2235, E2236} -> (fun (V1212, V1213, V1214, V1215, V1216) -> fun (V1217) -> begin (V1219 = begin (V1218 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1218} end), case V1219 of {'Idris.Prelude.Types.Left', E2237} -> (fun (V1220) -> {'Idris.Prelude.Types.Left', V1220} end(E2237)); {'Idris.Prelude.Types.Right', E2238} -> (fun (V1221) -> begin (V1226 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1222) -> fun (V1223) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V1222, V1223)) end end, fun (V1224) -> fun (V1225) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V1224, V1225)) end end}, V1213, V1217))), case V1226 of {'Idris.Prelude.Types.Left', E2239} -> (fun (V1227) -> {'Idris.Prelude.Types.Left', V1227} end(E2239)); {'Idris.Prelude.Types.Right', E2240} -> (fun (V1228) -> begin (V1229 = (('un--getNArgs'(V0, V1221, V1228, V1216))(V1217))), case V1229 of {'Idris.Prelude.Types.Left', E2241} -> (fun (V1230) -> {'Idris.Prelude.Types.Left', V1230} end(E2241)); {'Idris.Prelude.Types.Right', E2242} -> (fun (V1231) -> case V1231 of {'Idris.Compiler.CompileExpr.User', E2243, E2244} -> (fun (V1232, V1233) -> begin (V1235 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1234) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1221, V1234)) end, V1233, []))(V1217))), case V1235 of {'Idris.Prelude.Types.Left', E2245} -> (fun (V1236) -> {'Idris.Prelude.Types.Left', V1236} end(E2245)); {'Idris.Prelude.Types.Right', E2246} -> (fun (V1237) -> begin (V1239 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1238) -> ('un--nfToCFType'(V0, V1212, V2, V1238)) end, V1237, []))(V1217))), case V1239 of {'Idris.Prelude.Types.Left', E2247} -> (fun (V1240) -> {'Idris.Prelude.Types.Left', V1240} end(E2247)); {'Idris.Prelude.Types.Right', E2248} -> (fun (V1241) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V1228, V1241}} end(E2248)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2246)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2243, E2244)); {'Idris.Compiler.CompileExpr.Struct', E2249, E2250} -> (fun (V1242, V1243) -> begin (V1254 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1244) -> case V1244 of {'Idris.Builtin.MkPair', E2251, E2252} -> (fun (V1245, V1246) -> fun (V1247) -> begin (V1248 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1221, V1246))(V1247))), case V1248 of {'Idris.Prelude.Types.Left', E2253} -> (fun (V1249) -> {'Idris.Prelude.Types.Left', V1249} end(E2253)); {'Idris.Prelude.Types.Right', E2254} -> (fun (V1250) -> begin (V1251 = (('un--nfToCFType'(V0, V1212, 0, V1250))(V1247))), case V1251 of {'Idris.Prelude.Types.Left', E2255} -> (fun (V1252) -> {'Idris.Prelude.Types.Left', V1252} end(E2255)); {'Idris.Prelude.Types.Right', E2256} -> (fun (V1253) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V1245, V1253}} end(E2256)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2254)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2251, E2252)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V1243, []))(V1217))), case V1254 of {'Idris.Prelude.Types.Left', E2257} -> (fun (V1255) -> {'Idris.Prelude.Types.Left', V1255} end(E2257)); {'Idris.Prelude.Types.Right', E2258} -> (fun (V1256) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V1242, V1256}} end(E2258)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2249, E2250)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2259} -> (fun (V1257) -> begin (V1258 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1221, V1257))(V1217))), case V1258 of {'Idris.Prelude.Types.Left', E2260} -> (fun (V1259) -> {'Idris.Prelude.Types.Left', V1259} end(E2260)); {'Idris.Prelude.Types.Right', E2261} -> (fun (V1260) -> begin (V1261 = (('un--nfToCFType'(V0, V1212, V2, V1260))(V1217))), case V1261 of {'Idris.Prelude.Types.Left', E2262} -> (fun (V1262) -> {'Idris.Prelude.Types.Left', V1262} end(E2262)); {'Idris.Prelude.Types.Right', E2263} -> (fun (V1263) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V1263}} end(E2263)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2261)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2259)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2242)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2240)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2238)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2232, E2233, E2234, E2235, E2236)); {'Idris.Core.Value.NType', E2264} -> (fun (V1264) -> fun (V1265) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2264)); {'Idris.Core.Value.NErased', E2265, E2266} -> (fun (V1266, V1267) -> fun (V1268) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2265, E2266)); _ -> fun (V1269) -> begin (V1271 = begin (V1270 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1270} end), case V1271 of {'Idris.Prelude.Types.Left', E2226} -> (fun (V1272) -> {'Idris.Prelude.Types.Left', V1272} end(E2226)); {'Idris.Prelude.Types.Right', E2227} -> (fun (V1273) -> begin (V1274 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V1273, {'Idris.Core.Env.Nil'}, V3, V1269))), case V1274 of {'Idris.Prelude.Types.Left', E2228} -> (fun (V1275) -> {'Idris.Prelude.Types.Left', V1275} end(E2228)); {'Idris.Prelude.Types.Right', E2229} -> (fun (V1276) -> begin (V1281 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1277) -> fun (V1278) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V1277, V1278)) end end, fun (V1279) -> fun (V1280) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V1279, V1280)) end end}, V1276, V1269))), case V1281 of {'Idris.Prelude.Types.Left', E2230} -> (fun (V1282) -> {'Idris.Prelude.Types.Left', V1282} end(E2230)); {'Idris.Prelude.Types.Right', E2231} -> (fun (V1283) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V1283))))}, V1269)) end(E2231)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2229)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2227)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end; 0 -> case V3 of {'Idris.Core.Value.NPrimVal', E3338, E3339} -> (fun (V1284, V1285) -> case V1285 of {'Idris.Core.TT.StringType'} -> (fun () -> fun (V1286) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V1, <<"String not allowed in a foreign struct"/utf8>>}, V1286)) end end()); _ -> case V3 of {'Idris.Core.Value.NPrimVal', E3524, E3525} -> (fun (V1287, V1288) -> case V1288 of {'Idris.Core.TT.DoubleType'} -> (fun () -> fun (V1289) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFDouble'}} end end()); {'Idris.Core.TT.CharType'} -> (fun () -> fun (V1290) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFChar'}} end end()); {'Idris.Core.TT.WorldType'} -> (fun () -> fun (V1291) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFWorld'}} end end()); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E3608, E3609, E3610, E3611} -> (fun (V1292, V1293, V1294, V1295) -> case V1294 of {'Idris.Core.TT.Pi', E3653, E3654, E3655, E3656} -> (fun (V1296, V1297, V1298, V1299) -> fun (V1300) -> begin (V1302 = begin (V1301 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1301} end), case V1302 of {'Idris.Prelude.Types.Left', E3657} -> (fun (V1303) -> {'Idris.Prelude.Types.Left', V1303} end(E3657)); {'Idris.Prelude.Types.Right', E3658} -> (fun (V1304) -> begin (V1305 = (('un--nfToCFType'(V0, V1292, 1, V1299))(V1300))), case V1305 of {'Idris.Prelude.Types.Left', E3659} -> (fun (V1306) -> {'Idris.Prelude.Types.Left', V1306} end(E3659)); {'Idris.Prelude.Types.Right', E3660} -> (fun (V1307) -> begin (V1308 = (((V1295(V1304))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V1292, 1}))))(V1300))), case V1308 of {'Idris.Prelude.Types.Left', E3661} -> (fun (V1309) -> {'Idris.Prelude.Types.Left', V1309} end(E3661)); {'Idris.Prelude.Types.Right', E3662} -> (fun (V1310) -> begin (V1311 = (('un--nfToCFType'(V0, V1292, 1, V1310))(V1300))), case V1311 of {'Idris.Prelude.Types.Left', E3663} -> (fun (V1312) -> {'Idris.Prelude.Types.Left', V1312} end(E3663)); {'Idris.Prelude.Types.Right', E3664} -> (fun (V1313) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V1307, V1313}} end(E3664)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3662)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3660)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3658)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3653, E3654, E3655, E3656)); _ -> case V3 of {'Idris.Core.Value.NTCon', E3618, E3619, E3620, E3621, E3622} -> (fun (V1314, V1315, V1316, V1317, V1318) -> fun (V1319) -> begin (V1321 = begin (V1320 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1320} end), case V1321 of {'Idris.Prelude.Types.Left', E3623} -> (fun (V1322) -> {'Idris.Prelude.Types.Left', V1322} end(E3623)); {'Idris.Prelude.Types.Right', E3624} -> (fun (V1323) -> begin (V1328 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1324) -> fun (V1325) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V1324, V1325)) end end, fun (V1326) -> fun (V1327) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V1326, V1327)) end end}, V1315, V1319))), case V1328 of {'Idris.Prelude.Types.Left', E3625} -> (fun (V1329) -> {'Idris.Prelude.Types.Left', V1329} end(E3625)); {'Idris.Prelude.Types.Right', E3626} -> (fun (V1330) -> begin (V1331 = (('un--getNArgs'(V0, V1323, V1330, V1318))(V1319))), case V1331 of {'Idris.Prelude.Types.Left', E3627} -> (fun (V1332) -> {'Idris.Prelude.Types.Left', V1332} end(E3627)); {'Idris.Prelude.Types.Right', E3628} -> (fun (V1333) -> case V1333 of {'Idris.Compiler.CompileExpr.User', E3629, E3630} -> (fun (V1334, V1335) -> begin (V1337 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1336) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1323, V1336)) end, V1335, []))(V1319))), case V1337 of {'Idris.Prelude.Types.Left', E3631} -> (fun (V1338) -> {'Idris.Prelude.Types.Left', V1338} end(E3631)); {'Idris.Prelude.Types.Right', E3632} -> (fun (V1339) -> begin (V1341 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1340) -> ('un--nfToCFType'(V0, V1314, V2, V1340)) end, V1339, []))(V1319))), case V1341 of {'Idris.Prelude.Types.Left', E3633} -> (fun (V1342) -> {'Idris.Prelude.Types.Left', V1342} end(E3633)); {'Idris.Prelude.Types.Right', E3634} -> (fun (V1343) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V1330, V1343}} end(E3634)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3632)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3629, E3630)); {'Idris.Compiler.CompileExpr.Struct', E3635, E3636} -> (fun (V1344, V1345) -> begin (V1356 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1346) -> case V1346 of {'Idris.Builtin.MkPair', E3637, E3638} -> (fun (V1347, V1348) -> fun (V1349) -> begin (V1350 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1323, V1348))(V1349))), case V1350 of {'Idris.Prelude.Types.Left', E3639} -> (fun (V1351) -> {'Idris.Prelude.Types.Left', V1351} end(E3639)); {'Idris.Prelude.Types.Right', E3640} -> (fun (V1352) -> begin (V1353 = (('un--nfToCFType'(V0, V1314, 0, V1352))(V1349))), case V1353 of {'Idris.Prelude.Types.Left', E3641} -> (fun (V1354) -> {'Idris.Prelude.Types.Left', V1354} end(E3641)); {'Idris.Prelude.Types.Right', E3642} -> (fun (V1355) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V1347, V1355}} end(E3642)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3640)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3637, E3638)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V1345, []))(V1319))), case V1356 of {'Idris.Prelude.Types.Left', E3643} -> (fun (V1357) -> {'Idris.Prelude.Types.Left', V1357} end(E3643)); {'Idris.Prelude.Types.Right', E3644} -> (fun (V1358) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V1344, V1358}} end(E3644)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3635, E3636)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3645} -> (fun (V1359) -> begin (V1360 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1323, V1359))(V1319))), case V1360 of {'Idris.Prelude.Types.Left', E3646} -> (fun (V1361) -> {'Idris.Prelude.Types.Left', V1361} end(E3646)); {'Idris.Prelude.Types.Right', E3647} -> (fun (V1362) -> begin (V1363 = (('un--nfToCFType'(V0, V1314, V2, V1362))(V1319))), case V1363 of {'Idris.Prelude.Types.Left', E3648} -> (fun (V1364) -> {'Idris.Prelude.Types.Left', V1364} end(E3648)); {'Idris.Prelude.Types.Right', E3649} -> (fun (V1365) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V1365}} end(E3649)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3647)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3645)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3628)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3626)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3624)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3618, E3619, E3620, E3621, E3622)); {'Idris.Core.Value.NType', E3650} -> (fun (V1366) -> fun (V1367) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3650)); {'Idris.Core.Value.NErased', E3651, E3652} -> (fun (V1368, V1369) -> fun (V1370) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3651, E3652)); _ -> fun (V1371) -> begin (V1373 = begin (V1372 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1372} end), case V1373 of {'Idris.Prelude.Types.Left', E3612} -> (fun (V1374) -> {'Idris.Prelude.Types.Left', V1374} end(E3612)); {'Idris.Prelude.Types.Right', E3613} -> (fun (V1375) -> begin (V1376 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V1375, {'Idris.Core.Env.Nil'}, V3, V1371))), case V1376 of {'Idris.Prelude.Types.Left', E3614} -> (fun (V1377) -> {'Idris.Prelude.Types.Left', V1377} end(E3614)); {'Idris.Prelude.Types.Right', E3615} -> (fun (V1378) -> begin (V1383 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1379) -> fun (V1380) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V1379, V1380)) end end, fun (V1381) -> fun (V1382) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V1381, V1382)) end end}, V1378, V1371))), case V1383 of {'Idris.Prelude.Types.Left', E3616} -> (fun (V1384) -> {'Idris.Prelude.Types.Left', V1384} end(E3616)); {'Idris.Prelude.Types.Right', E3617} -> (fun (V1385) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V1385))))}, V1371)) end(E3617)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3615)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3613)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E3608, E3609, E3610, E3611)); _ -> case V3 of {'Idris.Core.Value.NTCon', E3573, E3574, E3575, E3576, E3577} -> (fun (V1386, V1387, V1388, V1389, V1390) -> fun (V1391) -> begin (V1393 = begin (V1392 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1392} end), case V1393 of {'Idris.Prelude.Types.Left', E3578} -> (fun (V1394) -> {'Idris.Prelude.Types.Left', V1394} end(E3578)); {'Idris.Prelude.Types.Right', E3579} -> (fun (V1395) -> begin (V1400 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1396) -> fun (V1397) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V1396, V1397)) end end, fun (V1398) -> fun (V1399) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V1398, V1399)) end end}, V1387, V1391))), case V1400 of {'Idris.Prelude.Types.Left', E3580} -> (fun (V1401) -> {'Idris.Prelude.Types.Left', V1401} end(E3580)); {'Idris.Prelude.Types.Right', E3581} -> (fun (V1402) -> begin (V1403 = (('un--getNArgs'(V0, V1395, V1402, V1390))(V1391))), case V1403 of {'Idris.Prelude.Types.Left', E3582} -> (fun (V1404) -> {'Idris.Prelude.Types.Left', V1404} end(E3582)); {'Idris.Prelude.Types.Right', E3583} -> (fun (V1405) -> case V1405 of {'Idris.Compiler.CompileExpr.User', E3584, E3585} -> (fun (V1406, V1407) -> begin (V1409 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1408) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1395, V1408)) end, V1407, []))(V1391))), case V1409 of {'Idris.Prelude.Types.Left', E3586} -> (fun (V1410) -> {'Idris.Prelude.Types.Left', V1410} end(E3586)); {'Idris.Prelude.Types.Right', E3587} -> (fun (V1411) -> begin (V1413 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1412) -> ('un--nfToCFType'(V0, V1386, V2, V1412)) end, V1411, []))(V1391))), case V1413 of {'Idris.Prelude.Types.Left', E3588} -> (fun (V1414) -> {'Idris.Prelude.Types.Left', V1414} end(E3588)); {'Idris.Prelude.Types.Right', E3589} -> (fun (V1415) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V1402, V1415}} end(E3589)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3587)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3584, E3585)); {'Idris.Compiler.CompileExpr.Struct', E3590, E3591} -> (fun (V1416, V1417) -> begin (V1428 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1418) -> case V1418 of {'Idris.Builtin.MkPair', E3592, E3593} -> (fun (V1419, V1420) -> fun (V1421) -> begin (V1422 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1395, V1420))(V1421))), case V1422 of {'Idris.Prelude.Types.Left', E3594} -> (fun (V1423) -> {'Idris.Prelude.Types.Left', V1423} end(E3594)); {'Idris.Prelude.Types.Right', E3595} -> (fun (V1424) -> begin (V1425 = (('un--nfToCFType'(V0, V1386, 0, V1424))(V1421))), case V1425 of {'Idris.Prelude.Types.Left', E3596} -> (fun (V1426) -> {'Idris.Prelude.Types.Left', V1426} end(E3596)); {'Idris.Prelude.Types.Right', E3597} -> (fun (V1427) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V1419, V1427}} end(E3597)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3595)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3592, E3593)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V1417, []))(V1391))), case V1428 of {'Idris.Prelude.Types.Left', E3598} -> (fun (V1429) -> {'Idris.Prelude.Types.Left', V1429} end(E3598)); {'Idris.Prelude.Types.Right', E3599} -> (fun (V1430) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V1416, V1430}} end(E3599)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3590, E3591)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3600} -> (fun (V1431) -> begin (V1432 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1395, V1431))(V1391))), case V1432 of {'Idris.Prelude.Types.Left', E3601} -> (fun (V1433) -> {'Idris.Prelude.Types.Left', V1433} end(E3601)); {'Idris.Prelude.Types.Right', E3602} -> (fun (V1434) -> begin (V1435 = (('un--nfToCFType'(V0, V1386, V2, V1434))(V1391))), case V1435 of {'Idris.Prelude.Types.Left', E3603} -> (fun (V1436) -> {'Idris.Prelude.Types.Left', V1436} end(E3603)); {'Idris.Prelude.Types.Right', E3604} -> (fun (V1437) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V1437}} end(E3604)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3602)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3600)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3583)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3581)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3579)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3573, E3574, E3575, E3576, E3577)); {'Idris.Core.Value.NType', E3605} -> (fun (V1438) -> fun (V1439) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3605)); {'Idris.Core.Value.NErased', E3606, E3607} -> (fun (V1440, V1441) -> fun (V1442) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3606, E3607)); _ -> fun (V1443) -> begin (V1445 = begin (V1444 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1444} end), case V1445 of {'Idris.Prelude.Types.Left', E3567} -> (fun (V1446) -> {'Idris.Prelude.Types.Left', V1446} end(E3567)); {'Idris.Prelude.Types.Right', E3568} -> (fun (V1447) -> begin (V1448 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V1447, {'Idris.Core.Env.Nil'}, V3, V1443))), case V1448 of {'Idris.Prelude.Types.Left', E3569} -> (fun (V1449) -> {'Idris.Prelude.Types.Left', V1449} end(E3569)); {'Idris.Prelude.Types.Right', E3570} -> (fun (V1450) -> begin (V1455 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1451) -> fun (V1452) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V1451, V1452)) end end, fun (V1453) -> fun (V1454) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V1453, V1454)) end end}, V1450, V1443))), case V1455 of {'Idris.Prelude.Types.Left', E3571} -> (fun (V1456) -> {'Idris.Prelude.Types.Left', V1456} end(E3571)); {'Idris.Prelude.Types.Right', E3572} -> (fun (V1457) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V1457))))}, V1443)) end(E3572)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3570)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3568)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E3706, E3707, E3708, E3709} -> (fun (V1458, V1459, V1460, V1461) -> fun (V1462) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V1458, <<"Function types not allowed in a foreign struct"/utf8>>}, V1462)) end end(E3706, E3707, E3708, E3709)); _ -> case V3 of {'Idris.Core.Value.NTCon', E3671, E3672, E3673, E3674, E3675} -> (fun (V1463, V1464, V1465, V1466, V1467) -> fun (V1468) -> begin (V1470 = begin (V1469 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1469} end), case V1470 of {'Idris.Prelude.Types.Left', E3676} -> (fun (V1471) -> {'Idris.Prelude.Types.Left', V1471} end(E3676)); {'Idris.Prelude.Types.Right', E3677} -> (fun (V1472) -> begin (V1477 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1473) -> fun (V1474) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V1473, V1474)) end end, fun (V1475) -> fun (V1476) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V1475, V1476)) end end}, V1464, V1468))), case V1477 of {'Idris.Prelude.Types.Left', E3678} -> (fun (V1478) -> {'Idris.Prelude.Types.Left', V1478} end(E3678)); {'Idris.Prelude.Types.Right', E3679} -> (fun (V1479) -> begin (V1480 = (('un--getNArgs'(V0, V1472, V1479, V1467))(V1468))), case V1480 of {'Idris.Prelude.Types.Left', E3680} -> (fun (V1481) -> {'Idris.Prelude.Types.Left', V1481} end(E3680)); {'Idris.Prelude.Types.Right', E3681} -> (fun (V1482) -> case V1482 of {'Idris.Compiler.CompileExpr.User', E3682, E3683} -> (fun (V1483, V1484) -> begin (V1486 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1485) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1472, V1485)) end, V1484, []))(V1468))), case V1486 of {'Idris.Prelude.Types.Left', E3684} -> (fun (V1487) -> {'Idris.Prelude.Types.Left', V1487} end(E3684)); {'Idris.Prelude.Types.Right', E3685} -> (fun (V1488) -> begin (V1490 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1489) -> ('un--nfToCFType'(V0, V1463, V2, V1489)) end, V1488, []))(V1468))), case V1490 of {'Idris.Prelude.Types.Left', E3686} -> (fun (V1491) -> {'Idris.Prelude.Types.Left', V1491} end(E3686)); {'Idris.Prelude.Types.Right', E3687} -> (fun (V1492) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V1479, V1492}} end(E3687)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3685)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3682, E3683)); {'Idris.Compiler.CompileExpr.Struct', E3688, E3689} -> (fun (V1493, V1494) -> begin (V1505 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1495) -> case V1495 of {'Idris.Builtin.MkPair', E3690, E3691} -> (fun (V1496, V1497) -> fun (V1498) -> begin (V1499 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1472, V1497))(V1498))), case V1499 of {'Idris.Prelude.Types.Left', E3692} -> (fun (V1500) -> {'Idris.Prelude.Types.Left', V1500} end(E3692)); {'Idris.Prelude.Types.Right', E3693} -> (fun (V1501) -> begin (V1502 = (('un--nfToCFType'(V0, V1463, 0, V1501))(V1498))), case V1502 of {'Idris.Prelude.Types.Left', E3694} -> (fun (V1503) -> {'Idris.Prelude.Types.Left', V1503} end(E3694)); {'Idris.Prelude.Types.Right', E3695} -> (fun (V1504) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V1496, V1504}} end(E3695)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3693)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3690, E3691)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V1494, []))(V1468))), case V1505 of {'Idris.Prelude.Types.Left', E3696} -> (fun (V1506) -> {'Idris.Prelude.Types.Left', V1506} end(E3696)); {'Idris.Prelude.Types.Right', E3697} -> (fun (V1507) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V1493, V1507}} end(E3697)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3688, E3689)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3698} -> (fun (V1508) -> begin (V1509 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1472, V1508))(V1468))), case V1509 of {'Idris.Prelude.Types.Left', E3699} -> (fun (V1510) -> {'Idris.Prelude.Types.Left', V1510} end(E3699)); {'Idris.Prelude.Types.Right', E3700} -> (fun (V1511) -> begin (V1512 = (('un--nfToCFType'(V0, V1463, V2, V1511))(V1468))), case V1512 of {'Idris.Prelude.Types.Left', E3701} -> (fun (V1513) -> {'Idris.Prelude.Types.Left', V1513} end(E3701)); {'Idris.Prelude.Types.Right', E3702} -> (fun (V1514) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V1514}} end(E3702)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3700)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3698)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3681)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3679)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3677)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3671, E3672, E3673, E3674, E3675)); {'Idris.Core.Value.NType', E3703} -> (fun (V1515) -> fun (V1516) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3703)); {'Idris.Core.Value.NErased', E3704, E3705} -> (fun (V1517, V1518) -> fun (V1519) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3704, E3705)); _ -> fun (V1520) -> begin (V1522 = begin (V1521 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1521} end), case V1522 of {'Idris.Prelude.Types.Left', E3665} -> (fun (V1523) -> {'Idris.Prelude.Types.Left', V1523} end(E3665)); {'Idris.Prelude.Types.Right', E3666} -> (fun (V1524) -> begin (V1525 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V1524, {'Idris.Core.Env.Nil'}, V3, V1520))), case V1525 of {'Idris.Prelude.Types.Left', E3667} -> (fun (V1526) -> {'Idris.Prelude.Types.Left', V1526} end(E3667)); {'Idris.Prelude.Types.Right', E3668} -> (fun (V1527) -> begin (V1532 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1528) -> fun (V1529) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V1528, V1529)) end end, fun (V1530) -> fun (V1531) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V1530, V1531)) end end}, V1527, V1520))), case V1532 of {'Idris.Prelude.Types.Left', E3669} -> (fun (V1533) -> {'Idris.Prelude.Types.Left', V1533} end(E3669)); {'Idris.Prelude.Types.Right', E3670} -> (fun (V1534) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V1534))))}, V1520)) end(E3670)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3668)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3666)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E3532, E3533, E3534, E3535, E3536} -> (fun (V1535, V1536, V1537, V1538, V1539) -> fun (V1540) -> begin (V1542 = begin (V1541 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1541} end), case V1542 of {'Idris.Prelude.Types.Left', E3537} -> (fun (V1543) -> {'Idris.Prelude.Types.Left', V1543} end(E3537)); {'Idris.Prelude.Types.Right', E3538} -> (fun (V1544) -> begin (V1549 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1545) -> fun (V1546) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V1545, V1546)) end end, fun (V1547) -> fun (V1548) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V1547, V1548)) end end}, V1536, V1540))), case V1549 of {'Idris.Prelude.Types.Left', E3539} -> (fun (V1550) -> {'Idris.Prelude.Types.Left', V1550} end(E3539)); {'Idris.Prelude.Types.Right', E3540} -> (fun (V1551) -> begin (V1552 = (('un--getNArgs'(V0, V1544, V1551, V1539))(V1540))), case V1552 of {'Idris.Prelude.Types.Left', E3541} -> (fun (V1553) -> {'Idris.Prelude.Types.Left', V1553} end(E3541)); {'Idris.Prelude.Types.Right', E3542} -> (fun (V1554) -> case V1554 of {'Idris.Compiler.CompileExpr.User', E3543, E3544} -> (fun (V1555, V1556) -> begin (V1558 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1557) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1544, V1557)) end, V1556, []))(V1540))), case V1558 of {'Idris.Prelude.Types.Left', E3545} -> (fun (V1559) -> {'Idris.Prelude.Types.Left', V1559} end(E3545)); {'Idris.Prelude.Types.Right', E3546} -> (fun (V1560) -> begin (V1562 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1561) -> ('un--nfToCFType'(V0, V1535, V2, V1561)) end, V1560, []))(V1540))), case V1562 of {'Idris.Prelude.Types.Left', E3547} -> (fun (V1563) -> {'Idris.Prelude.Types.Left', V1563} end(E3547)); {'Idris.Prelude.Types.Right', E3548} -> (fun (V1564) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V1551, V1564}} end(E3548)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3546)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3543, E3544)); {'Idris.Compiler.CompileExpr.Struct', E3549, E3550} -> (fun (V1565, V1566) -> begin (V1577 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1567) -> case V1567 of {'Idris.Builtin.MkPair', E3551, E3552} -> (fun (V1568, V1569) -> fun (V1570) -> begin (V1571 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1544, V1569))(V1570))), case V1571 of {'Idris.Prelude.Types.Left', E3553} -> (fun (V1572) -> {'Idris.Prelude.Types.Left', V1572} end(E3553)); {'Idris.Prelude.Types.Right', E3554} -> (fun (V1573) -> begin (V1574 = (('un--nfToCFType'(V0, V1535, 0, V1573))(V1570))), case V1574 of {'Idris.Prelude.Types.Left', E3555} -> (fun (V1575) -> {'Idris.Prelude.Types.Left', V1575} end(E3555)); {'Idris.Prelude.Types.Right', E3556} -> (fun (V1576) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V1568, V1576}} end(E3556)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3554)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3551, E3552)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V1566, []))(V1540))), case V1577 of {'Idris.Prelude.Types.Left', E3557} -> (fun (V1578) -> {'Idris.Prelude.Types.Left', V1578} end(E3557)); {'Idris.Prelude.Types.Right', E3558} -> (fun (V1579) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V1565, V1579}} end(E3558)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3549, E3550)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3559} -> (fun (V1580) -> begin (V1581 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1544, V1580))(V1540))), case V1581 of {'Idris.Prelude.Types.Left', E3560} -> (fun (V1582) -> {'Idris.Prelude.Types.Left', V1582} end(E3560)); {'Idris.Prelude.Types.Right', E3561} -> (fun (V1583) -> begin (V1584 = (('un--nfToCFType'(V0, V1535, V2, V1583))(V1540))), case V1584 of {'Idris.Prelude.Types.Left', E3562} -> (fun (V1585) -> {'Idris.Prelude.Types.Left', V1585} end(E3562)); {'Idris.Prelude.Types.Right', E3563} -> (fun (V1586) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V1586}} end(E3563)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3561)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3559)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3542)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3540)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3538)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3532, E3533, E3534, E3535, E3536)); {'Idris.Core.Value.NType', E3564} -> (fun (V1587) -> fun (V1588) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3564)); {'Idris.Core.Value.NErased', E3565, E3566} -> (fun (V1589, V1590) -> fun (V1591) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3565, E3566)); _ -> fun (V1592) -> begin (V1594 = begin (V1593 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1593} end), case V1594 of {'Idris.Prelude.Types.Left', E3526} -> (fun (V1595) -> {'Idris.Prelude.Types.Left', V1595} end(E3526)); {'Idris.Prelude.Types.Right', E3527} -> (fun (V1596) -> begin (V1597 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V1596, {'Idris.Core.Env.Nil'}, V3, V1592))), case V1597 of {'Idris.Prelude.Types.Left', E3528} -> (fun (V1598) -> {'Idris.Prelude.Types.Left', V1598} end(E3528)); {'Idris.Prelude.Types.Right', E3529} -> (fun (V1599) -> begin (V1604 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1600) -> fun (V1601) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V1600, V1601)) end end, fun (V1602) -> fun (V1603) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V1602, V1603)) end end}, V1599, V1592))), case V1604 of {'Idris.Prelude.Types.Left', E3530} -> (fun (V1605) -> {'Idris.Prelude.Types.Left', V1605} end(E3530)); {'Idris.Prelude.Types.Right', E3531} -> (fun (V1606) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V1606))))}, V1592)) end(E3531)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3529)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3527)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end(E3524, E3525)); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E3422, E3423, E3424, E3425} -> (fun (V1607, V1608, V1609, V1610) -> case V1609 of {'Idris.Core.TT.Pi', E3467, E3468, E3469, E3470} -> (fun (V1611, V1612, V1613, V1614) -> fun (V1615) -> begin (V1617 = begin (V1616 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1616} end), case V1617 of {'Idris.Prelude.Types.Left', E3471} -> (fun (V1618) -> {'Idris.Prelude.Types.Left', V1618} end(E3471)); {'Idris.Prelude.Types.Right', E3472} -> (fun (V1619) -> begin (V1620 = (('un--nfToCFType'(V0, V1607, 1, V1614))(V1615))), case V1620 of {'Idris.Prelude.Types.Left', E3473} -> (fun (V1621) -> {'Idris.Prelude.Types.Left', V1621} end(E3473)); {'Idris.Prelude.Types.Right', E3474} -> (fun (V1622) -> begin (V1623 = (((V1610(V1619))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V1607, 1}))))(V1615))), case V1623 of {'Idris.Prelude.Types.Left', E3475} -> (fun (V1624) -> {'Idris.Prelude.Types.Left', V1624} end(E3475)); {'Idris.Prelude.Types.Right', E3476} -> (fun (V1625) -> begin (V1626 = (('un--nfToCFType'(V0, V1607, 1, V1625))(V1615))), case V1626 of {'Idris.Prelude.Types.Left', E3477} -> (fun (V1627) -> {'Idris.Prelude.Types.Left', V1627} end(E3477)); {'Idris.Prelude.Types.Right', E3478} -> (fun (V1628) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V1622, V1628}} end(E3478)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3476)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3474)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3472)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3467, E3468, E3469, E3470)); _ -> case V3 of {'Idris.Core.Value.NTCon', E3432, E3433, E3434, E3435, E3436} -> (fun (V1629, V1630, V1631, V1632, V1633) -> fun (V1634) -> begin (V1636 = begin (V1635 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1635} end), case V1636 of {'Idris.Prelude.Types.Left', E3437} -> (fun (V1637) -> {'Idris.Prelude.Types.Left', V1637} end(E3437)); {'Idris.Prelude.Types.Right', E3438} -> (fun (V1638) -> begin (V1643 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1639) -> fun (V1640) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V1639, V1640)) end end, fun (V1641) -> fun (V1642) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V1641, V1642)) end end}, V1630, V1634))), case V1643 of {'Idris.Prelude.Types.Left', E3439} -> (fun (V1644) -> {'Idris.Prelude.Types.Left', V1644} end(E3439)); {'Idris.Prelude.Types.Right', E3440} -> (fun (V1645) -> begin (V1646 = (('un--getNArgs'(V0, V1638, V1645, V1633))(V1634))), case V1646 of {'Idris.Prelude.Types.Left', E3441} -> (fun (V1647) -> {'Idris.Prelude.Types.Left', V1647} end(E3441)); {'Idris.Prelude.Types.Right', E3442} -> (fun (V1648) -> case V1648 of {'Idris.Compiler.CompileExpr.User', E3443, E3444} -> (fun (V1649, V1650) -> begin (V1652 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1651) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1638, V1651)) end, V1650, []))(V1634))), case V1652 of {'Idris.Prelude.Types.Left', E3445} -> (fun (V1653) -> {'Idris.Prelude.Types.Left', V1653} end(E3445)); {'Idris.Prelude.Types.Right', E3446} -> (fun (V1654) -> begin (V1656 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1655) -> ('un--nfToCFType'(V0, V1629, V2, V1655)) end, V1654, []))(V1634))), case V1656 of {'Idris.Prelude.Types.Left', E3447} -> (fun (V1657) -> {'Idris.Prelude.Types.Left', V1657} end(E3447)); {'Idris.Prelude.Types.Right', E3448} -> (fun (V1658) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V1645, V1658}} end(E3448)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3446)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3443, E3444)); {'Idris.Compiler.CompileExpr.Struct', E3449, E3450} -> (fun (V1659, V1660) -> begin (V1671 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1661) -> case V1661 of {'Idris.Builtin.MkPair', E3451, E3452} -> (fun (V1662, V1663) -> fun (V1664) -> begin (V1665 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1638, V1663))(V1664))), case V1665 of {'Idris.Prelude.Types.Left', E3453} -> (fun (V1666) -> {'Idris.Prelude.Types.Left', V1666} end(E3453)); {'Idris.Prelude.Types.Right', E3454} -> (fun (V1667) -> begin (V1668 = (('un--nfToCFType'(V0, V1629, 0, V1667))(V1664))), case V1668 of {'Idris.Prelude.Types.Left', E3455} -> (fun (V1669) -> {'Idris.Prelude.Types.Left', V1669} end(E3455)); {'Idris.Prelude.Types.Right', E3456} -> (fun (V1670) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V1662, V1670}} end(E3456)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3454)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3451, E3452)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V1660, []))(V1634))), case V1671 of {'Idris.Prelude.Types.Left', E3457} -> (fun (V1672) -> {'Idris.Prelude.Types.Left', V1672} end(E3457)); {'Idris.Prelude.Types.Right', E3458} -> (fun (V1673) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V1659, V1673}} end(E3458)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3449, E3450)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3459} -> (fun (V1674) -> begin (V1675 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1638, V1674))(V1634))), case V1675 of {'Idris.Prelude.Types.Left', E3460} -> (fun (V1676) -> {'Idris.Prelude.Types.Left', V1676} end(E3460)); {'Idris.Prelude.Types.Right', E3461} -> (fun (V1677) -> begin (V1678 = (('un--nfToCFType'(V0, V1629, V2, V1677))(V1634))), case V1678 of {'Idris.Prelude.Types.Left', E3462} -> (fun (V1679) -> {'Idris.Prelude.Types.Left', V1679} end(E3462)); {'Idris.Prelude.Types.Right', E3463} -> (fun (V1680) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V1680}} end(E3463)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3461)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3459)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3442)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3440)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3438)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3432, E3433, E3434, E3435, E3436)); {'Idris.Core.Value.NType', E3464} -> (fun (V1681) -> fun (V1682) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3464)); {'Idris.Core.Value.NErased', E3465, E3466} -> (fun (V1683, V1684) -> fun (V1685) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3465, E3466)); _ -> fun (V1686) -> begin (V1688 = begin (V1687 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1687} end), case V1688 of {'Idris.Prelude.Types.Left', E3426} -> (fun (V1689) -> {'Idris.Prelude.Types.Left', V1689} end(E3426)); {'Idris.Prelude.Types.Right', E3427} -> (fun (V1690) -> begin (V1691 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V1690, {'Idris.Core.Env.Nil'}, V3, V1686))), case V1691 of {'Idris.Prelude.Types.Left', E3428} -> (fun (V1692) -> {'Idris.Prelude.Types.Left', V1692} end(E3428)); {'Idris.Prelude.Types.Right', E3429} -> (fun (V1693) -> begin (V1698 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1694) -> fun (V1695) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V1694, V1695)) end end, fun (V1696) -> fun (V1697) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V1696, V1697)) end end}, V1693, V1686))), case V1698 of {'Idris.Prelude.Types.Left', E3430} -> (fun (V1699) -> {'Idris.Prelude.Types.Left', V1699} end(E3430)); {'Idris.Prelude.Types.Right', E3431} -> (fun (V1700) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V1700))))}, V1686)) end(E3431)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3429)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3427)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E3422, E3423, E3424, E3425)); _ -> case V3 of {'Idris.Core.Value.NTCon', E3387, E3388, E3389, E3390, E3391} -> (fun (V1701, V1702, V1703, V1704, V1705) -> fun (V1706) -> begin (V1708 = begin (V1707 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1707} end), case V1708 of {'Idris.Prelude.Types.Left', E3392} -> (fun (V1709) -> {'Idris.Prelude.Types.Left', V1709} end(E3392)); {'Idris.Prelude.Types.Right', E3393} -> (fun (V1710) -> begin (V1715 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1711) -> fun (V1712) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V1711, V1712)) end end, fun (V1713) -> fun (V1714) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V1713, V1714)) end end}, V1702, V1706))), case V1715 of {'Idris.Prelude.Types.Left', E3394} -> (fun (V1716) -> {'Idris.Prelude.Types.Left', V1716} end(E3394)); {'Idris.Prelude.Types.Right', E3395} -> (fun (V1717) -> begin (V1718 = (('un--getNArgs'(V0, V1710, V1717, V1705))(V1706))), case V1718 of {'Idris.Prelude.Types.Left', E3396} -> (fun (V1719) -> {'Idris.Prelude.Types.Left', V1719} end(E3396)); {'Idris.Prelude.Types.Right', E3397} -> (fun (V1720) -> case V1720 of {'Idris.Compiler.CompileExpr.User', E3398, E3399} -> (fun (V1721, V1722) -> begin (V1724 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1723) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1710, V1723)) end, V1722, []))(V1706))), case V1724 of {'Idris.Prelude.Types.Left', E3400} -> (fun (V1725) -> {'Idris.Prelude.Types.Left', V1725} end(E3400)); {'Idris.Prelude.Types.Right', E3401} -> (fun (V1726) -> begin (V1728 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1727) -> ('un--nfToCFType'(V0, V1701, V2, V1727)) end, V1726, []))(V1706))), case V1728 of {'Idris.Prelude.Types.Left', E3402} -> (fun (V1729) -> {'Idris.Prelude.Types.Left', V1729} end(E3402)); {'Idris.Prelude.Types.Right', E3403} -> (fun (V1730) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V1717, V1730}} end(E3403)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3401)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3398, E3399)); {'Idris.Compiler.CompileExpr.Struct', E3404, E3405} -> (fun (V1731, V1732) -> begin (V1743 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1733) -> case V1733 of {'Idris.Builtin.MkPair', E3406, E3407} -> (fun (V1734, V1735) -> fun (V1736) -> begin (V1737 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1710, V1735))(V1736))), case V1737 of {'Idris.Prelude.Types.Left', E3408} -> (fun (V1738) -> {'Idris.Prelude.Types.Left', V1738} end(E3408)); {'Idris.Prelude.Types.Right', E3409} -> (fun (V1739) -> begin (V1740 = (('un--nfToCFType'(V0, V1701, 0, V1739))(V1736))), case V1740 of {'Idris.Prelude.Types.Left', E3410} -> (fun (V1741) -> {'Idris.Prelude.Types.Left', V1741} end(E3410)); {'Idris.Prelude.Types.Right', E3411} -> (fun (V1742) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V1734, V1742}} end(E3411)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3409)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3406, E3407)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V1732, []))(V1706))), case V1743 of {'Idris.Prelude.Types.Left', E3412} -> (fun (V1744) -> {'Idris.Prelude.Types.Left', V1744} end(E3412)); {'Idris.Prelude.Types.Right', E3413} -> (fun (V1745) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V1731, V1745}} end(E3413)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3404, E3405)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3414} -> (fun (V1746) -> begin (V1747 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1710, V1746))(V1706))), case V1747 of {'Idris.Prelude.Types.Left', E3415} -> (fun (V1748) -> {'Idris.Prelude.Types.Left', V1748} end(E3415)); {'Idris.Prelude.Types.Right', E3416} -> (fun (V1749) -> begin (V1750 = (('un--nfToCFType'(V0, V1701, V2, V1749))(V1706))), case V1750 of {'Idris.Prelude.Types.Left', E3417} -> (fun (V1751) -> {'Idris.Prelude.Types.Left', V1751} end(E3417)); {'Idris.Prelude.Types.Right', E3418} -> (fun (V1752) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V1752}} end(E3418)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3416)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3414)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3397)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3395)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3393)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3387, E3388, E3389, E3390, E3391)); {'Idris.Core.Value.NType', E3419} -> (fun (V1753) -> fun (V1754) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3419)); {'Idris.Core.Value.NErased', E3420, E3421} -> (fun (V1755, V1756) -> fun (V1757) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3420, E3421)); _ -> fun (V1758) -> begin (V1760 = begin (V1759 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1759} end), case V1760 of {'Idris.Prelude.Types.Left', E3381} -> (fun (V1761) -> {'Idris.Prelude.Types.Left', V1761} end(E3381)); {'Idris.Prelude.Types.Right', E3382} -> (fun (V1762) -> begin (V1763 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V1762, {'Idris.Core.Env.Nil'}, V3, V1758))), case V1763 of {'Idris.Prelude.Types.Left', E3383} -> (fun (V1764) -> {'Idris.Prelude.Types.Left', V1764} end(E3383)); {'Idris.Prelude.Types.Right', E3384} -> (fun (V1765) -> begin (V1770 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1766) -> fun (V1767) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V1766, V1767)) end end, fun (V1768) -> fun (V1769) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V1768, V1769)) end end}, V1765, V1758))), case V1770 of {'Idris.Prelude.Types.Left', E3385} -> (fun (V1771) -> {'Idris.Prelude.Types.Left', V1771} end(E3385)); {'Idris.Prelude.Types.Right', E3386} -> (fun (V1772) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V1772))))}, V1758)) end(E3386)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3384)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3382)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E3520, E3521, E3522, E3523} -> (fun (V1773, V1774, V1775, V1776) -> fun (V1777) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V1773, <<"Function types not allowed in a foreign struct"/utf8>>}, V1777)) end end(E3520, E3521, E3522, E3523)); _ -> case V3 of {'Idris.Core.Value.NTCon', E3485, E3486, E3487, E3488, E3489} -> (fun (V1778, V1779, V1780, V1781, V1782) -> fun (V1783) -> begin (V1785 = begin (V1784 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1784} end), case V1785 of {'Idris.Prelude.Types.Left', E3490} -> (fun (V1786) -> {'Idris.Prelude.Types.Left', V1786} end(E3490)); {'Idris.Prelude.Types.Right', E3491} -> (fun (V1787) -> begin (V1792 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1788) -> fun (V1789) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V1788, V1789)) end end, fun (V1790) -> fun (V1791) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V1790, V1791)) end end}, V1779, V1783))), case V1792 of {'Idris.Prelude.Types.Left', E3492} -> (fun (V1793) -> {'Idris.Prelude.Types.Left', V1793} end(E3492)); {'Idris.Prelude.Types.Right', E3493} -> (fun (V1794) -> begin (V1795 = (('un--getNArgs'(V0, V1787, V1794, V1782))(V1783))), case V1795 of {'Idris.Prelude.Types.Left', E3494} -> (fun (V1796) -> {'Idris.Prelude.Types.Left', V1796} end(E3494)); {'Idris.Prelude.Types.Right', E3495} -> (fun (V1797) -> case V1797 of {'Idris.Compiler.CompileExpr.User', E3496, E3497} -> (fun (V1798, V1799) -> begin (V1801 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1800) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1787, V1800)) end, V1799, []))(V1783))), case V1801 of {'Idris.Prelude.Types.Left', E3498} -> (fun (V1802) -> {'Idris.Prelude.Types.Left', V1802} end(E3498)); {'Idris.Prelude.Types.Right', E3499} -> (fun (V1803) -> begin (V1805 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1804) -> ('un--nfToCFType'(V0, V1778, V2, V1804)) end, V1803, []))(V1783))), case V1805 of {'Idris.Prelude.Types.Left', E3500} -> (fun (V1806) -> {'Idris.Prelude.Types.Left', V1806} end(E3500)); {'Idris.Prelude.Types.Right', E3501} -> (fun (V1807) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V1794, V1807}} end(E3501)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3499)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3496, E3497)); {'Idris.Compiler.CompileExpr.Struct', E3502, E3503} -> (fun (V1808, V1809) -> begin (V1820 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1810) -> case V1810 of {'Idris.Builtin.MkPair', E3504, E3505} -> (fun (V1811, V1812) -> fun (V1813) -> begin (V1814 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1787, V1812))(V1813))), case V1814 of {'Idris.Prelude.Types.Left', E3506} -> (fun (V1815) -> {'Idris.Prelude.Types.Left', V1815} end(E3506)); {'Idris.Prelude.Types.Right', E3507} -> (fun (V1816) -> begin (V1817 = (('un--nfToCFType'(V0, V1778, 0, V1816))(V1813))), case V1817 of {'Idris.Prelude.Types.Left', E3508} -> (fun (V1818) -> {'Idris.Prelude.Types.Left', V1818} end(E3508)); {'Idris.Prelude.Types.Right', E3509} -> (fun (V1819) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V1811, V1819}} end(E3509)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3507)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3504, E3505)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V1809, []))(V1783))), case V1820 of {'Idris.Prelude.Types.Left', E3510} -> (fun (V1821) -> {'Idris.Prelude.Types.Left', V1821} end(E3510)); {'Idris.Prelude.Types.Right', E3511} -> (fun (V1822) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V1808, V1822}} end(E3511)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3502, E3503)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3512} -> (fun (V1823) -> begin (V1824 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1787, V1823))(V1783))), case V1824 of {'Idris.Prelude.Types.Left', E3513} -> (fun (V1825) -> {'Idris.Prelude.Types.Left', V1825} end(E3513)); {'Idris.Prelude.Types.Right', E3514} -> (fun (V1826) -> begin (V1827 = (('un--nfToCFType'(V0, V1778, V2, V1826))(V1783))), case V1827 of {'Idris.Prelude.Types.Left', E3515} -> (fun (V1828) -> {'Idris.Prelude.Types.Left', V1828} end(E3515)); {'Idris.Prelude.Types.Right', E3516} -> (fun (V1829) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V1829}} end(E3516)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3514)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3512)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3495)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3493)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3491)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3485, E3486, E3487, E3488, E3489)); {'Idris.Core.Value.NType', E3517} -> (fun (V1830) -> fun (V1831) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3517)); {'Idris.Core.Value.NErased', E3518, E3519} -> (fun (V1832, V1833) -> fun (V1834) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3518, E3519)); _ -> fun (V1835) -> begin (V1837 = begin (V1836 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1836} end), case V1837 of {'Idris.Prelude.Types.Left', E3479} -> (fun (V1838) -> {'Idris.Prelude.Types.Left', V1838} end(E3479)); {'Idris.Prelude.Types.Right', E3480} -> (fun (V1839) -> begin (V1840 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V1839, {'Idris.Core.Env.Nil'}, V3, V1835))), case V1840 of {'Idris.Prelude.Types.Left', E3481} -> (fun (V1841) -> {'Idris.Prelude.Types.Left', V1841} end(E3481)); {'Idris.Prelude.Types.Right', E3482} -> (fun (V1842) -> begin (V1847 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1843) -> fun (V1844) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V1843, V1844)) end end, fun (V1845) -> fun (V1846) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V1845, V1846)) end end}, V1842, V1835))), case V1847 of {'Idris.Prelude.Types.Left', E3483} -> (fun (V1848) -> {'Idris.Prelude.Types.Left', V1848} end(E3483)); {'Idris.Prelude.Types.Right', E3484} -> (fun (V1849) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V1849))))}, V1835)) end(E3484)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3482)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3480)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E3346, E3347, E3348, E3349, E3350} -> (fun (V1850, V1851, V1852, V1853, V1854) -> fun (V1855) -> begin (V1857 = begin (V1856 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1856} end), case V1857 of {'Idris.Prelude.Types.Left', E3351} -> (fun (V1858) -> {'Idris.Prelude.Types.Left', V1858} end(E3351)); {'Idris.Prelude.Types.Right', E3352} -> (fun (V1859) -> begin (V1864 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1860) -> fun (V1861) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V1860, V1861)) end end, fun (V1862) -> fun (V1863) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V1862, V1863)) end end}, V1851, V1855))), case V1864 of {'Idris.Prelude.Types.Left', E3353} -> (fun (V1865) -> {'Idris.Prelude.Types.Left', V1865} end(E3353)); {'Idris.Prelude.Types.Right', E3354} -> (fun (V1866) -> begin (V1867 = (('un--getNArgs'(V0, V1859, V1866, V1854))(V1855))), case V1867 of {'Idris.Prelude.Types.Left', E3355} -> (fun (V1868) -> {'Idris.Prelude.Types.Left', V1868} end(E3355)); {'Idris.Prelude.Types.Right', E3356} -> (fun (V1869) -> case V1869 of {'Idris.Compiler.CompileExpr.User', E3357, E3358} -> (fun (V1870, V1871) -> begin (V1873 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1872) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1859, V1872)) end, V1871, []))(V1855))), case V1873 of {'Idris.Prelude.Types.Left', E3359} -> (fun (V1874) -> {'Idris.Prelude.Types.Left', V1874} end(E3359)); {'Idris.Prelude.Types.Right', E3360} -> (fun (V1875) -> begin (V1877 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1876) -> ('un--nfToCFType'(V0, V1850, V2, V1876)) end, V1875, []))(V1855))), case V1877 of {'Idris.Prelude.Types.Left', E3361} -> (fun (V1878) -> {'Idris.Prelude.Types.Left', V1878} end(E3361)); {'Idris.Prelude.Types.Right', E3362} -> (fun (V1879) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V1866, V1879}} end(E3362)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3360)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3357, E3358)); {'Idris.Compiler.CompileExpr.Struct', E3363, E3364} -> (fun (V1880, V1881) -> begin (V1892 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1882) -> case V1882 of {'Idris.Builtin.MkPair', E3365, E3366} -> (fun (V1883, V1884) -> fun (V1885) -> begin (V1886 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1859, V1884))(V1885))), case V1886 of {'Idris.Prelude.Types.Left', E3367} -> (fun (V1887) -> {'Idris.Prelude.Types.Left', V1887} end(E3367)); {'Idris.Prelude.Types.Right', E3368} -> (fun (V1888) -> begin (V1889 = (('un--nfToCFType'(V0, V1850, 0, V1888))(V1885))), case V1889 of {'Idris.Prelude.Types.Left', E3369} -> (fun (V1890) -> {'Idris.Prelude.Types.Left', V1890} end(E3369)); {'Idris.Prelude.Types.Right', E3370} -> (fun (V1891) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V1883, V1891}} end(E3370)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3368)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3365, E3366)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V1881, []))(V1855))), case V1892 of {'Idris.Prelude.Types.Left', E3371} -> (fun (V1893) -> {'Idris.Prelude.Types.Left', V1893} end(E3371)); {'Idris.Prelude.Types.Right', E3372} -> (fun (V1894) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V1880, V1894}} end(E3372)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3363, E3364)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3373} -> (fun (V1895) -> begin (V1896 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1859, V1895))(V1855))), case V1896 of {'Idris.Prelude.Types.Left', E3374} -> (fun (V1897) -> {'Idris.Prelude.Types.Left', V1897} end(E3374)); {'Idris.Prelude.Types.Right', E3375} -> (fun (V1898) -> begin (V1899 = (('un--nfToCFType'(V0, V1850, V2, V1898))(V1855))), case V1899 of {'Idris.Prelude.Types.Left', E3376} -> (fun (V1900) -> {'Idris.Prelude.Types.Left', V1900} end(E3376)); {'Idris.Prelude.Types.Right', E3377} -> (fun (V1901) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V1901}} end(E3377)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3375)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3373)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3356)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3354)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3352)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3346, E3347, E3348, E3349, E3350)); {'Idris.Core.Value.NType', E3378} -> (fun (V1902) -> fun (V1903) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3378)); {'Idris.Core.Value.NErased', E3379, E3380} -> (fun (V1904, V1905) -> fun (V1906) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3379, E3380)); _ -> fun (V1907) -> begin (V1909 = begin (V1908 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1908} end), case V1909 of {'Idris.Prelude.Types.Left', E3340} -> (fun (V1910) -> {'Idris.Prelude.Types.Left', V1910} end(E3340)); {'Idris.Prelude.Types.Right', E3341} -> (fun (V1911) -> begin (V1912 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V1911, {'Idris.Core.Env.Nil'}, V3, V1907))), case V1912 of {'Idris.Prelude.Types.Left', E3342} -> (fun (V1913) -> {'Idris.Prelude.Types.Left', V1913} end(E3342)); {'Idris.Prelude.Types.Right', E3343} -> (fun (V1914) -> begin (V1919 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1915) -> fun (V1916) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V1915, V1916)) end end, fun (V1917) -> fun (V1918) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V1917, V1918)) end end}, V1914, V1907))), case V1919 of {'Idris.Prelude.Types.Left', E3344} -> (fun (V1920) -> {'Idris.Prelude.Types.Left', V1920} end(E3344)); {'Idris.Prelude.Types.Right', E3345} -> (fun (V1921) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V1921))))}, V1907)) end(E3345)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3343)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3341)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end end(E3338, E3339)); _ -> case V3 of {'Idris.Core.Value.NPrimVal', E3152, E3153} -> (fun (V1922, V1923) -> case V1923 of {'Idris.Core.TT.DoubleType'} -> (fun () -> fun (V1924) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFDouble'}} end end()); {'Idris.Core.TT.CharType'} -> (fun () -> fun (V1925) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFChar'}} end end()); {'Idris.Core.TT.WorldType'} -> (fun () -> fun (V1926) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFWorld'}} end end()); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E3236, E3237, E3238, E3239} -> (fun (V1927, V1928, V1929, V1930) -> case V1929 of {'Idris.Core.TT.Pi', E3281, E3282, E3283, E3284} -> (fun (V1931, V1932, V1933, V1934) -> fun (V1935) -> begin (V1937 = begin (V1936 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1936} end), case V1937 of {'Idris.Prelude.Types.Left', E3285} -> (fun (V1938) -> {'Idris.Prelude.Types.Left', V1938} end(E3285)); {'Idris.Prelude.Types.Right', E3286} -> (fun (V1939) -> begin (V1940 = (('un--nfToCFType'(V0, V1927, 1, V1934))(V1935))), case V1940 of {'Idris.Prelude.Types.Left', E3287} -> (fun (V1941) -> {'Idris.Prelude.Types.Left', V1941} end(E3287)); {'Idris.Prelude.Types.Right', E3288} -> (fun (V1942) -> begin (V1943 = (((V1930(V1939))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V1927, 1}))))(V1935))), case V1943 of {'Idris.Prelude.Types.Left', E3289} -> (fun (V1944) -> {'Idris.Prelude.Types.Left', V1944} end(E3289)); {'Idris.Prelude.Types.Right', E3290} -> (fun (V1945) -> begin (V1946 = (('un--nfToCFType'(V0, V1927, 1, V1945))(V1935))), case V1946 of {'Idris.Prelude.Types.Left', E3291} -> (fun (V1947) -> {'Idris.Prelude.Types.Left', V1947} end(E3291)); {'Idris.Prelude.Types.Right', E3292} -> (fun (V1948) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V1942, V1948}} end(E3292)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3290)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3288)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3286)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3281, E3282, E3283, E3284)); _ -> case V3 of {'Idris.Core.Value.NTCon', E3246, E3247, E3248, E3249, E3250} -> (fun (V1949, V1950, V1951, V1952, V1953) -> fun (V1954) -> begin (V1956 = begin (V1955 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V1955} end), case V1956 of {'Idris.Prelude.Types.Left', E3251} -> (fun (V1957) -> {'Idris.Prelude.Types.Left', V1957} end(E3251)); {'Idris.Prelude.Types.Right', E3252} -> (fun (V1958) -> begin (V1963 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V1959) -> fun (V1960) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V1959, V1960)) end end, fun (V1961) -> fun (V1962) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V1961, V1962)) end end}, V1950, V1954))), case V1963 of {'Idris.Prelude.Types.Left', E3253} -> (fun (V1964) -> {'Idris.Prelude.Types.Left', V1964} end(E3253)); {'Idris.Prelude.Types.Right', E3254} -> (fun (V1965) -> begin (V1966 = (('un--getNArgs'(V0, V1958, V1965, V1953))(V1954))), case V1966 of {'Idris.Prelude.Types.Left', E3255} -> (fun (V1967) -> {'Idris.Prelude.Types.Left', V1967} end(E3255)); {'Idris.Prelude.Types.Right', E3256} -> (fun (V1968) -> case V1968 of {'Idris.Compiler.CompileExpr.User', E3257, E3258} -> (fun (V1969, V1970) -> begin (V1972 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1971) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1958, V1971)) end, V1970, []))(V1954))), case V1972 of {'Idris.Prelude.Types.Left', E3259} -> (fun (V1973) -> {'Idris.Prelude.Types.Left', V1973} end(E3259)); {'Idris.Prelude.Types.Right', E3260} -> (fun (V1974) -> begin (V1976 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1975) -> ('un--nfToCFType'(V0, V1949, V2, V1975)) end, V1974, []))(V1954))), case V1976 of {'Idris.Prelude.Types.Left', E3261} -> (fun (V1977) -> {'Idris.Prelude.Types.Left', V1977} end(E3261)); {'Idris.Prelude.Types.Right', E3262} -> (fun (V1978) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V1965, V1978}} end(E3262)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3260)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3257, E3258)); {'Idris.Compiler.CompileExpr.Struct', E3263, E3264} -> (fun (V1979, V1980) -> begin (V1991 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V1981) -> case V1981 of {'Idris.Builtin.MkPair', E3265, E3266} -> (fun (V1982, V1983) -> fun (V1984) -> begin (V1985 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1958, V1983))(V1984))), case V1985 of {'Idris.Prelude.Types.Left', E3267} -> (fun (V1986) -> {'Idris.Prelude.Types.Left', V1986} end(E3267)); {'Idris.Prelude.Types.Right', E3268} -> (fun (V1987) -> begin (V1988 = (('un--nfToCFType'(V0, V1949, 0, V1987))(V1984))), case V1988 of {'Idris.Prelude.Types.Left', E3269} -> (fun (V1989) -> {'Idris.Prelude.Types.Left', V1989} end(E3269)); {'Idris.Prelude.Types.Right', E3270} -> (fun (V1990) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V1982, V1990}} end(E3270)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3268)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3265, E3266)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V1980, []))(V1954))), case V1991 of {'Idris.Prelude.Types.Left', E3271} -> (fun (V1992) -> {'Idris.Prelude.Types.Left', V1992} end(E3271)); {'Idris.Prelude.Types.Right', E3272} -> (fun (V1993) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V1979, V1993}} end(E3272)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3263, E3264)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3273} -> (fun (V1994) -> begin (V1995 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1958, V1994))(V1954))), case V1995 of {'Idris.Prelude.Types.Left', E3274} -> (fun (V1996) -> {'Idris.Prelude.Types.Left', V1996} end(E3274)); {'Idris.Prelude.Types.Right', E3275} -> (fun (V1997) -> begin (V1998 = (('un--nfToCFType'(V0, V1949, V2, V1997))(V1954))), case V1998 of {'Idris.Prelude.Types.Left', E3276} -> (fun (V1999) -> {'Idris.Prelude.Types.Left', V1999} end(E3276)); {'Idris.Prelude.Types.Right', E3277} -> (fun (V2000) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V2000}} end(E3277)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3275)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3273)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3256)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3254)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3252)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3246, E3247, E3248, E3249, E3250)); {'Idris.Core.Value.NType', E3278} -> (fun (V2001) -> fun (V2002) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3278)); {'Idris.Core.Value.NErased', E3279, E3280} -> (fun (V2003, V2004) -> fun (V2005) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3279, E3280)); _ -> fun (V2006) -> begin (V2008 = begin (V2007 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2007} end), case V2008 of {'Idris.Prelude.Types.Left', E3240} -> (fun (V2009) -> {'Idris.Prelude.Types.Left', V2009} end(E3240)); {'Idris.Prelude.Types.Right', E3241} -> (fun (V2010) -> begin (V2011 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V2010, {'Idris.Core.Env.Nil'}, V3, V2006))), case V2011 of {'Idris.Prelude.Types.Left', E3242} -> (fun (V2012) -> {'Idris.Prelude.Types.Left', V2012} end(E3242)); {'Idris.Prelude.Types.Right', E3243} -> (fun (V2013) -> begin (V2018 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2014) -> fun (V2015) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V2014, V2015)) end end, fun (V2016) -> fun (V2017) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V2016, V2017)) end end}, V2013, V2006))), case V2018 of {'Idris.Prelude.Types.Left', E3244} -> (fun (V2019) -> {'Idris.Prelude.Types.Left', V2019} end(E3244)); {'Idris.Prelude.Types.Right', E3245} -> (fun (V2020) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V2020))))}, V2006)) end(E3245)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3243)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3241)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E3236, E3237, E3238, E3239)); _ -> case V3 of {'Idris.Core.Value.NTCon', E3201, E3202, E3203, E3204, E3205} -> (fun (V2021, V2022, V2023, V2024, V2025) -> fun (V2026) -> begin (V2028 = begin (V2027 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2027} end), case V2028 of {'Idris.Prelude.Types.Left', E3206} -> (fun (V2029) -> {'Idris.Prelude.Types.Left', V2029} end(E3206)); {'Idris.Prelude.Types.Right', E3207} -> (fun (V2030) -> begin (V2035 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2031) -> fun (V2032) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V2031, V2032)) end end, fun (V2033) -> fun (V2034) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V2033, V2034)) end end}, V2022, V2026))), case V2035 of {'Idris.Prelude.Types.Left', E3208} -> (fun (V2036) -> {'Idris.Prelude.Types.Left', V2036} end(E3208)); {'Idris.Prelude.Types.Right', E3209} -> (fun (V2037) -> begin (V2038 = (('un--getNArgs'(V0, V2030, V2037, V2025))(V2026))), case V2038 of {'Idris.Prelude.Types.Left', E3210} -> (fun (V2039) -> {'Idris.Prelude.Types.Left', V2039} end(E3210)); {'Idris.Prelude.Types.Right', E3211} -> (fun (V2040) -> case V2040 of {'Idris.Compiler.CompileExpr.User', E3212, E3213} -> (fun (V2041, V2042) -> begin (V2044 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2043) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2030, V2043)) end, V2042, []))(V2026))), case V2044 of {'Idris.Prelude.Types.Left', E3214} -> (fun (V2045) -> {'Idris.Prelude.Types.Left', V2045} end(E3214)); {'Idris.Prelude.Types.Right', E3215} -> (fun (V2046) -> begin (V2048 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2047) -> ('un--nfToCFType'(V0, V2021, V2, V2047)) end, V2046, []))(V2026))), case V2048 of {'Idris.Prelude.Types.Left', E3216} -> (fun (V2049) -> {'Idris.Prelude.Types.Left', V2049} end(E3216)); {'Idris.Prelude.Types.Right', E3217} -> (fun (V2050) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V2037, V2050}} end(E3217)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3215)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3212, E3213)); {'Idris.Compiler.CompileExpr.Struct', E3218, E3219} -> (fun (V2051, V2052) -> begin (V2063 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2053) -> case V2053 of {'Idris.Builtin.MkPair', E3220, E3221} -> (fun (V2054, V2055) -> fun (V2056) -> begin (V2057 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2030, V2055))(V2056))), case V2057 of {'Idris.Prelude.Types.Left', E3222} -> (fun (V2058) -> {'Idris.Prelude.Types.Left', V2058} end(E3222)); {'Idris.Prelude.Types.Right', E3223} -> (fun (V2059) -> begin (V2060 = (('un--nfToCFType'(V0, V2021, 0, V2059))(V2056))), case V2060 of {'Idris.Prelude.Types.Left', E3224} -> (fun (V2061) -> {'Idris.Prelude.Types.Left', V2061} end(E3224)); {'Idris.Prelude.Types.Right', E3225} -> (fun (V2062) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V2054, V2062}} end(E3225)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3223)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3220, E3221)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V2052, []))(V2026))), case V2063 of {'Idris.Prelude.Types.Left', E3226} -> (fun (V2064) -> {'Idris.Prelude.Types.Left', V2064} end(E3226)); {'Idris.Prelude.Types.Right', E3227} -> (fun (V2065) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V2051, V2065}} end(E3227)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3218, E3219)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3228} -> (fun (V2066) -> begin (V2067 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2030, V2066))(V2026))), case V2067 of {'Idris.Prelude.Types.Left', E3229} -> (fun (V2068) -> {'Idris.Prelude.Types.Left', V2068} end(E3229)); {'Idris.Prelude.Types.Right', E3230} -> (fun (V2069) -> begin (V2070 = (('un--nfToCFType'(V0, V2021, V2, V2069))(V2026))), case V2070 of {'Idris.Prelude.Types.Left', E3231} -> (fun (V2071) -> {'Idris.Prelude.Types.Left', V2071} end(E3231)); {'Idris.Prelude.Types.Right', E3232} -> (fun (V2072) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V2072}} end(E3232)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3230)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3228)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3211)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3209)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3207)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3201, E3202, E3203, E3204, E3205)); {'Idris.Core.Value.NType', E3233} -> (fun (V2073) -> fun (V2074) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3233)); {'Idris.Core.Value.NErased', E3234, E3235} -> (fun (V2075, V2076) -> fun (V2077) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3234, E3235)); _ -> fun (V2078) -> begin (V2080 = begin (V2079 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2079} end), case V2080 of {'Idris.Prelude.Types.Left', E3195} -> (fun (V2081) -> {'Idris.Prelude.Types.Left', V2081} end(E3195)); {'Idris.Prelude.Types.Right', E3196} -> (fun (V2082) -> begin (V2083 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V2082, {'Idris.Core.Env.Nil'}, V3, V2078))), case V2083 of {'Idris.Prelude.Types.Left', E3197} -> (fun (V2084) -> {'Idris.Prelude.Types.Left', V2084} end(E3197)); {'Idris.Prelude.Types.Right', E3198} -> (fun (V2085) -> begin (V2090 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2086) -> fun (V2087) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V2086, V2087)) end end, fun (V2088) -> fun (V2089) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V2088, V2089)) end end}, V2085, V2078))), case V2090 of {'Idris.Prelude.Types.Left', E3199} -> (fun (V2091) -> {'Idris.Prelude.Types.Left', V2091} end(E3199)); {'Idris.Prelude.Types.Right', E3200} -> (fun (V2092) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V2092))))}, V2078)) end(E3200)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3198)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3196)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E3334, E3335, E3336, E3337} -> (fun (V2093, V2094, V2095, V2096) -> fun (V2097) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V2093, <<"Function types not allowed in a foreign struct"/utf8>>}, V2097)) end end(E3334, E3335, E3336, E3337)); _ -> case V3 of {'Idris.Core.Value.NTCon', E3299, E3300, E3301, E3302, E3303} -> (fun (V2098, V2099, V2100, V2101, V2102) -> fun (V2103) -> begin (V2105 = begin (V2104 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2104} end), case V2105 of {'Idris.Prelude.Types.Left', E3304} -> (fun (V2106) -> {'Idris.Prelude.Types.Left', V2106} end(E3304)); {'Idris.Prelude.Types.Right', E3305} -> (fun (V2107) -> begin (V2112 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2108) -> fun (V2109) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V2108, V2109)) end end, fun (V2110) -> fun (V2111) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V2110, V2111)) end end}, V2099, V2103))), case V2112 of {'Idris.Prelude.Types.Left', E3306} -> (fun (V2113) -> {'Idris.Prelude.Types.Left', V2113} end(E3306)); {'Idris.Prelude.Types.Right', E3307} -> (fun (V2114) -> begin (V2115 = (('un--getNArgs'(V0, V2107, V2114, V2102))(V2103))), case V2115 of {'Idris.Prelude.Types.Left', E3308} -> (fun (V2116) -> {'Idris.Prelude.Types.Left', V2116} end(E3308)); {'Idris.Prelude.Types.Right', E3309} -> (fun (V2117) -> case V2117 of {'Idris.Compiler.CompileExpr.User', E3310, E3311} -> (fun (V2118, V2119) -> begin (V2121 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2120) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2107, V2120)) end, V2119, []))(V2103))), case V2121 of {'Idris.Prelude.Types.Left', E3312} -> (fun (V2122) -> {'Idris.Prelude.Types.Left', V2122} end(E3312)); {'Idris.Prelude.Types.Right', E3313} -> (fun (V2123) -> begin (V2125 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2124) -> ('un--nfToCFType'(V0, V2098, V2, V2124)) end, V2123, []))(V2103))), case V2125 of {'Idris.Prelude.Types.Left', E3314} -> (fun (V2126) -> {'Idris.Prelude.Types.Left', V2126} end(E3314)); {'Idris.Prelude.Types.Right', E3315} -> (fun (V2127) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V2114, V2127}} end(E3315)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3313)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3310, E3311)); {'Idris.Compiler.CompileExpr.Struct', E3316, E3317} -> (fun (V2128, V2129) -> begin (V2140 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2130) -> case V2130 of {'Idris.Builtin.MkPair', E3318, E3319} -> (fun (V2131, V2132) -> fun (V2133) -> begin (V2134 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2107, V2132))(V2133))), case V2134 of {'Idris.Prelude.Types.Left', E3320} -> (fun (V2135) -> {'Idris.Prelude.Types.Left', V2135} end(E3320)); {'Idris.Prelude.Types.Right', E3321} -> (fun (V2136) -> begin (V2137 = (('un--nfToCFType'(V0, V2098, 0, V2136))(V2133))), case V2137 of {'Idris.Prelude.Types.Left', E3322} -> (fun (V2138) -> {'Idris.Prelude.Types.Left', V2138} end(E3322)); {'Idris.Prelude.Types.Right', E3323} -> (fun (V2139) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V2131, V2139}} end(E3323)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3321)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3318, E3319)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V2129, []))(V2103))), case V2140 of {'Idris.Prelude.Types.Left', E3324} -> (fun (V2141) -> {'Idris.Prelude.Types.Left', V2141} end(E3324)); {'Idris.Prelude.Types.Right', E3325} -> (fun (V2142) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V2128, V2142}} end(E3325)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3316, E3317)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3326} -> (fun (V2143) -> begin (V2144 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2107, V2143))(V2103))), case V2144 of {'Idris.Prelude.Types.Left', E3327} -> (fun (V2145) -> {'Idris.Prelude.Types.Left', V2145} end(E3327)); {'Idris.Prelude.Types.Right', E3328} -> (fun (V2146) -> begin (V2147 = (('un--nfToCFType'(V0, V2098, V2, V2146))(V2103))), case V2147 of {'Idris.Prelude.Types.Left', E3329} -> (fun (V2148) -> {'Idris.Prelude.Types.Left', V2148} end(E3329)); {'Idris.Prelude.Types.Right', E3330} -> (fun (V2149) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V2149}} end(E3330)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3328)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3326)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3309)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3307)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3305)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3299, E3300, E3301, E3302, E3303)); {'Idris.Core.Value.NType', E3331} -> (fun (V2150) -> fun (V2151) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3331)); {'Idris.Core.Value.NErased', E3332, E3333} -> (fun (V2152, V2153) -> fun (V2154) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3332, E3333)); _ -> fun (V2155) -> begin (V2157 = begin (V2156 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2156} end), case V2157 of {'Idris.Prelude.Types.Left', E3293} -> (fun (V2158) -> {'Idris.Prelude.Types.Left', V2158} end(E3293)); {'Idris.Prelude.Types.Right', E3294} -> (fun (V2159) -> begin (V2160 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V2159, {'Idris.Core.Env.Nil'}, V3, V2155))), case V2160 of {'Idris.Prelude.Types.Left', E3295} -> (fun (V2161) -> {'Idris.Prelude.Types.Left', V2161} end(E3295)); {'Idris.Prelude.Types.Right', E3296} -> (fun (V2162) -> begin (V2167 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2163) -> fun (V2164) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V2163, V2164)) end end, fun (V2165) -> fun (V2166) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V2165, V2166)) end end}, V2162, V2155))), case V2167 of {'Idris.Prelude.Types.Left', E3297} -> (fun (V2168) -> {'Idris.Prelude.Types.Left', V2168} end(E3297)); {'Idris.Prelude.Types.Right', E3298} -> (fun (V2169) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V2169))))}, V2155)) end(E3298)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3296)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3294)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E3160, E3161, E3162, E3163, E3164} -> (fun (V2170, V2171, V2172, V2173, V2174) -> fun (V2175) -> begin (V2177 = begin (V2176 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2176} end), case V2177 of {'Idris.Prelude.Types.Left', E3165} -> (fun (V2178) -> {'Idris.Prelude.Types.Left', V2178} end(E3165)); {'Idris.Prelude.Types.Right', E3166} -> (fun (V2179) -> begin (V2184 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2180) -> fun (V2181) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V2180, V2181)) end end, fun (V2182) -> fun (V2183) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V2182, V2183)) end end}, V2171, V2175))), case V2184 of {'Idris.Prelude.Types.Left', E3167} -> (fun (V2185) -> {'Idris.Prelude.Types.Left', V2185} end(E3167)); {'Idris.Prelude.Types.Right', E3168} -> (fun (V2186) -> begin (V2187 = (('un--getNArgs'(V0, V2179, V2186, V2174))(V2175))), case V2187 of {'Idris.Prelude.Types.Left', E3169} -> (fun (V2188) -> {'Idris.Prelude.Types.Left', V2188} end(E3169)); {'Idris.Prelude.Types.Right', E3170} -> (fun (V2189) -> case V2189 of {'Idris.Compiler.CompileExpr.User', E3171, E3172} -> (fun (V2190, V2191) -> begin (V2193 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2192) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2179, V2192)) end, V2191, []))(V2175))), case V2193 of {'Idris.Prelude.Types.Left', E3173} -> (fun (V2194) -> {'Idris.Prelude.Types.Left', V2194} end(E3173)); {'Idris.Prelude.Types.Right', E3174} -> (fun (V2195) -> begin (V2197 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2196) -> ('un--nfToCFType'(V0, V2170, V2, V2196)) end, V2195, []))(V2175))), case V2197 of {'Idris.Prelude.Types.Left', E3175} -> (fun (V2198) -> {'Idris.Prelude.Types.Left', V2198} end(E3175)); {'Idris.Prelude.Types.Right', E3176} -> (fun (V2199) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V2186, V2199}} end(E3176)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3174)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3171, E3172)); {'Idris.Compiler.CompileExpr.Struct', E3177, E3178} -> (fun (V2200, V2201) -> begin (V2212 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2202) -> case V2202 of {'Idris.Builtin.MkPair', E3179, E3180} -> (fun (V2203, V2204) -> fun (V2205) -> begin (V2206 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2179, V2204))(V2205))), case V2206 of {'Idris.Prelude.Types.Left', E3181} -> (fun (V2207) -> {'Idris.Prelude.Types.Left', V2207} end(E3181)); {'Idris.Prelude.Types.Right', E3182} -> (fun (V2208) -> begin (V2209 = (('un--nfToCFType'(V0, V2170, 0, V2208))(V2205))), case V2209 of {'Idris.Prelude.Types.Left', E3183} -> (fun (V2210) -> {'Idris.Prelude.Types.Left', V2210} end(E3183)); {'Idris.Prelude.Types.Right', E3184} -> (fun (V2211) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V2203, V2211}} end(E3184)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3182)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3179, E3180)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V2201, []))(V2175))), case V2212 of {'Idris.Prelude.Types.Left', E3185} -> (fun (V2213) -> {'Idris.Prelude.Types.Left', V2213} end(E3185)); {'Idris.Prelude.Types.Right', E3186} -> (fun (V2214) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V2200, V2214}} end(E3186)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3177, E3178)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3187} -> (fun (V2215) -> begin (V2216 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2179, V2215))(V2175))), case V2216 of {'Idris.Prelude.Types.Left', E3188} -> (fun (V2217) -> {'Idris.Prelude.Types.Left', V2217} end(E3188)); {'Idris.Prelude.Types.Right', E3189} -> (fun (V2218) -> begin (V2219 = (('un--nfToCFType'(V0, V2170, V2, V2218))(V2175))), case V2219 of {'Idris.Prelude.Types.Left', E3190} -> (fun (V2220) -> {'Idris.Prelude.Types.Left', V2220} end(E3190)); {'Idris.Prelude.Types.Right', E3191} -> (fun (V2221) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V2221}} end(E3191)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3189)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3187)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3170)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3168)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3166)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3160, E3161, E3162, E3163, E3164)); {'Idris.Core.Value.NType', E3192} -> (fun (V2222) -> fun (V2223) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3192)); {'Idris.Core.Value.NErased', E3193, E3194} -> (fun (V2224, V2225) -> fun (V2226) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3193, E3194)); _ -> fun (V2227) -> begin (V2229 = begin (V2228 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2228} end), case V2229 of {'Idris.Prelude.Types.Left', E3154} -> (fun (V2230) -> {'Idris.Prelude.Types.Left', V2230} end(E3154)); {'Idris.Prelude.Types.Right', E3155} -> (fun (V2231) -> begin (V2232 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V2231, {'Idris.Core.Env.Nil'}, V3, V2227))), case V2232 of {'Idris.Prelude.Types.Left', E3156} -> (fun (V2233) -> {'Idris.Prelude.Types.Left', V2233} end(E3156)); {'Idris.Prelude.Types.Right', E3157} -> (fun (V2234) -> begin (V2239 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2235) -> fun (V2236) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V2235, V2236)) end end, fun (V2237) -> fun (V2238) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V2237, V2238)) end end}, V2234, V2227))), case V2239 of {'Idris.Prelude.Types.Left', E3158} -> (fun (V2240) -> {'Idris.Prelude.Types.Left', V2240} end(E3158)); {'Idris.Prelude.Types.Right', E3159} -> (fun (V2241) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V2241))))}, V2227)) end(E3159)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3157)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3155)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end(E3152, E3153)); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E3050, E3051, E3052, E3053} -> (fun (V2242, V2243, V2244, V2245) -> case V2244 of {'Idris.Core.TT.Pi', E3095, E3096, E3097, E3098} -> (fun (V2246, V2247, V2248, V2249) -> fun (V2250) -> begin (V2252 = begin (V2251 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2251} end), case V2252 of {'Idris.Prelude.Types.Left', E3099} -> (fun (V2253) -> {'Idris.Prelude.Types.Left', V2253} end(E3099)); {'Idris.Prelude.Types.Right', E3100} -> (fun (V2254) -> begin (V2255 = (('un--nfToCFType'(V0, V2242, 1, V2249))(V2250))), case V2255 of {'Idris.Prelude.Types.Left', E3101} -> (fun (V2256) -> {'Idris.Prelude.Types.Left', V2256} end(E3101)); {'Idris.Prelude.Types.Right', E3102} -> (fun (V2257) -> begin (V2258 = (((V2245(V2254))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V2242, 1}))))(V2250))), case V2258 of {'Idris.Prelude.Types.Left', E3103} -> (fun (V2259) -> {'Idris.Prelude.Types.Left', V2259} end(E3103)); {'Idris.Prelude.Types.Right', E3104} -> (fun (V2260) -> begin (V2261 = (('un--nfToCFType'(V0, V2242, 1, V2260))(V2250))), case V2261 of {'Idris.Prelude.Types.Left', E3105} -> (fun (V2262) -> {'Idris.Prelude.Types.Left', V2262} end(E3105)); {'Idris.Prelude.Types.Right', E3106} -> (fun (V2263) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V2257, V2263}} end(E3106)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3104)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3102)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3100)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3095, E3096, E3097, E3098)); _ -> case V3 of {'Idris.Core.Value.NTCon', E3060, E3061, E3062, E3063, E3064} -> (fun (V2264, V2265, V2266, V2267, V2268) -> fun (V2269) -> begin (V2271 = begin (V2270 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2270} end), case V2271 of {'Idris.Prelude.Types.Left', E3065} -> (fun (V2272) -> {'Idris.Prelude.Types.Left', V2272} end(E3065)); {'Idris.Prelude.Types.Right', E3066} -> (fun (V2273) -> begin (V2278 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2274) -> fun (V2275) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V2274, V2275)) end end, fun (V2276) -> fun (V2277) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V2276, V2277)) end end}, V2265, V2269))), case V2278 of {'Idris.Prelude.Types.Left', E3067} -> (fun (V2279) -> {'Idris.Prelude.Types.Left', V2279} end(E3067)); {'Idris.Prelude.Types.Right', E3068} -> (fun (V2280) -> begin (V2281 = (('un--getNArgs'(V0, V2273, V2280, V2268))(V2269))), case V2281 of {'Idris.Prelude.Types.Left', E3069} -> (fun (V2282) -> {'Idris.Prelude.Types.Left', V2282} end(E3069)); {'Idris.Prelude.Types.Right', E3070} -> (fun (V2283) -> case V2283 of {'Idris.Compiler.CompileExpr.User', E3071, E3072} -> (fun (V2284, V2285) -> begin (V2287 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2286) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2273, V2286)) end, V2285, []))(V2269))), case V2287 of {'Idris.Prelude.Types.Left', E3073} -> (fun (V2288) -> {'Idris.Prelude.Types.Left', V2288} end(E3073)); {'Idris.Prelude.Types.Right', E3074} -> (fun (V2289) -> begin (V2291 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2290) -> ('un--nfToCFType'(V0, V2264, V2, V2290)) end, V2289, []))(V2269))), case V2291 of {'Idris.Prelude.Types.Left', E3075} -> (fun (V2292) -> {'Idris.Prelude.Types.Left', V2292} end(E3075)); {'Idris.Prelude.Types.Right', E3076} -> (fun (V2293) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V2280, V2293}} end(E3076)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3074)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3071, E3072)); {'Idris.Compiler.CompileExpr.Struct', E3077, E3078} -> (fun (V2294, V2295) -> begin (V2306 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2296) -> case V2296 of {'Idris.Builtin.MkPair', E3079, E3080} -> (fun (V2297, V2298) -> fun (V2299) -> begin (V2300 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2273, V2298))(V2299))), case V2300 of {'Idris.Prelude.Types.Left', E3081} -> (fun (V2301) -> {'Idris.Prelude.Types.Left', V2301} end(E3081)); {'Idris.Prelude.Types.Right', E3082} -> (fun (V2302) -> begin (V2303 = (('un--nfToCFType'(V0, V2264, 0, V2302))(V2299))), case V2303 of {'Idris.Prelude.Types.Left', E3083} -> (fun (V2304) -> {'Idris.Prelude.Types.Left', V2304} end(E3083)); {'Idris.Prelude.Types.Right', E3084} -> (fun (V2305) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V2297, V2305}} end(E3084)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3082)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3079, E3080)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V2295, []))(V2269))), case V2306 of {'Idris.Prelude.Types.Left', E3085} -> (fun (V2307) -> {'Idris.Prelude.Types.Left', V2307} end(E3085)); {'Idris.Prelude.Types.Right', E3086} -> (fun (V2308) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V2294, V2308}} end(E3086)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3077, E3078)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3087} -> (fun (V2309) -> begin (V2310 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2273, V2309))(V2269))), case V2310 of {'Idris.Prelude.Types.Left', E3088} -> (fun (V2311) -> {'Idris.Prelude.Types.Left', V2311} end(E3088)); {'Idris.Prelude.Types.Right', E3089} -> (fun (V2312) -> begin (V2313 = (('un--nfToCFType'(V0, V2264, V2, V2312))(V2269))), case V2313 of {'Idris.Prelude.Types.Left', E3090} -> (fun (V2314) -> {'Idris.Prelude.Types.Left', V2314} end(E3090)); {'Idris.Prelude.Types.Right', E3091} -> (fun (V2315) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V2315}} end(E3091)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3089)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3087)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3070)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3068)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3066)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3060, E3061, E3062, E3063, E3064)); {'Idris.Core.Value.NType', E3092} -> (fun (V2316) -> fun (V2317) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3092)); {'Idris.Core.Value.NErased', E3093, E3094} -> (fun (V2318, V2319) -> fun (V2320) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3093, E3094)); _ -> fun (V2321) -> begin (V2323 = begin (V2322 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2322} end), case V2323 of {'Idris.Prelude.Types.Left', E3054} -> (fun (V2324) -> {'Idris.Prelude.Types.Left', V2324} end(E3054)); {'Idris.Prelude.Types.Right', E3055} -> (fun (V2325) -> begin (V2326 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V2325, {'Idris.Core.Env.Nil'}, V3, V2321))), case V2326 of {'Idris.Prelude.Types.Left', E3056} -> (fun (V2327) -> {'Idris.Prelude.Types.Left', V2327} end(E3056)); {'Idris.Prelude.Types.Right', E3057} -> (fun (V2328) -> begin (V2333 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2329) -> fun (V2330) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V2329, V2330)) end end, fun (V2331) -> fun (V2332) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V2331, V2332)) end end}, V2328, V2321))), case V2333 of {'Idris.Prelude.Types.Left', E3058} -> (fun (V2334) -> {'Idris.Prelude.Types.Left', V2334} end(E3058)); {'Idris.Prelude.Types.Right', E3059} -> (fun (V2335) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V2335))))}, V2321)) end(E3059)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3057)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3055)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E3050, E3051, E3052, E3053)); _ -> case V3 of {'Idris.Core.Value.NTCon', E3015, E3016, E3017, E3018, E3019} -> (fun (V2336, V2337, V2338, V2339, V2340) -> fun (V2341) -> begin (V2343 = begin (V2342 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2342} end), case V2343 of {'Idris.Prelude.Types.Left', E3020} -> (fun (V2344) -> {'Idris.Prelude.Types.Left', V2344} end(E3020)); {'Idris.Prelude.Types.Right', E3021} -> (fun (V2345) -> begin (V2350 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2346) -> fun (V2347) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V2346, V2347)) end end, fun (V2348) -> fun (V2349) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V2348, V2349)) end end}, V2337, V2341))), case V2350 of {'Idris.Prelude.Types.Left', E3022} -> (fun (V2351) -> {'Idris.Prelude.Types.Left', V2351} end(E3022)); {'Idris.Prelude.Types.Right', E3023} -> (fun (V2352) -> begin (V2353 = (('un--getNArgs'(V0, V2345, V2352, V2340))(V2341))), case V2353 of {'Idris.Prelude.Types.Left', E3024} -> (fun (V2354) -> {'Idris.Prelude.Types.Left', V2354} end(E3024)); {'Idris.Prelude.Types.Right', E3025} -> (fun (V2355) -> case V2355 of {'Idris.Compiler.CompileExpr.User', E3026, E3027} -> (fun (V2356, V2357) -> begin (V2359 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2358) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2345, V2358)) end, V2357, []))(V2341))), case V2359 of {'Idris.Prelude.Types.Left', E3028} -> (fun (V2360) -> {'Idris.Prelude.Types.Left', V2360} end(E3028)); {'Idris.Prelude.Types.Right', E3029} -> (fun (V2361) -> begin (V2363 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2362) -> ('un--nfToCFType'(V0, V2336, V2, V2362)) end, V2361, []))(V2341))), case V2363 of {'Idris.Prelude.Types.Left', E3030} -> (fun (V2364) -> {'Idris.Prelude.Types.Left', V2364} end(E3030)); {'Idris.Prelude.Types.Right', E3031} -> (fun (V2365) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V2352, V2365}} end(E3031)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3029)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3026, E3027)); {'Idris.Compiler.CompileExpr.Struct', E3032, E3033} -> (fun (V2366, V2367) -> begin (V2378 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2368) -> case V2368 of {'Idris.Builtin.MkPair', E3034, E3035} -> (fun (V2369, V2370) -> fun (V2371) -> begin (V2372 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2345, V2370))(V2371))), case V2372 of {'Idris.Prelude.Types.Left', E3036} -> (fun (V2373) -> {'Idris.Prelude.Types.Left', V2373} end(E3036)); {'Idris.Prelude.Types.Right', E3037} -> (fun (V2374) -> begin (V2375 = (('un--nfToCFType'(V0, V2336, 0, V2374))(V2371))), case V2375 of {'Idris.Prelude.Types.Left', E3038} -> (fun (V2376) -> {'Idris.Prelude.Types.Left', V2376} end(E3038)); {'Idris.Prelude.Types.Right', E3039} -> (fun (V2377) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V2369, V2377}} end(E3039)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3037)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3034, E3035)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V2367, []))(V2341))), case V2378 of {'Idris.Prelude.Types.Left', E3040} -> (fun (V2379) -> {'Idris.Prelude.Types.Left', V2379} end(E3040)); {'Idris.Prelude.Types.Right', E3041} -> (fun (V2380) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V2366, V2380}} end(E3041)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3032, E3033)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3042} -> (fun (V2381) -> begin (V2382 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2345, V2381))(V2341))), case V2382 of {'Idris.Prelude.Types.Left', E3043} -> (fun (V2383) -> {'Idris.Prelude.Types.Left', V2383} end(E3043)); {'Idris.Prelude.Types.Right', E3044} -> (fun (V2384) -> begin (V2385 = (('un--nfToCFType'(V0, V2336, V2, V2384))(V2341))), case V2385 of {'Idris.Prelude.Types.Left', E3045} -> (fun (V2386) -> {'Idris.Prelude.Types.Left', V2386} end(E3045)); {'Idris.Prelude.Types.Right', E3046} -> (fun (V2387) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V2387}} end(E3046)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3044)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3042)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3025)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3023)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3021)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3015, E3016, E3017, E3018, E3019)); {'Idris.Core.Value.NType', E3047} -> (fun (V2388) -> fun (V2389) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3047)); {'Idris.Core.Value.NErased', E3048, E3049} -> (fun (V2390, V2391) -> fun (V2392) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3048, E3049)); _ -> fun (V2393) -> begin (V2395 = begin (V2394 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2394} end), case V2395 of {'Idris.Prelude.Types.Left', E3009} -> (fun (V2396) -> {'Idris.Prelude.Types.Left', V2396} end(E3009)); {'Idris.Prelude.Types.Right', E3010} -> (fun (V2397) -> begin (V2398 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V2397, {'Idris.Core.Env.Nil'}, V3, V2393))), case V2398 of {'Idris.Prelude.Types.Left', E3011} -> (fun (V2399) -> {'Idris.Prelude.Types.Left', V2399} end(E3011)); {'Idris.Prelude.Types.Right', E3012} -> (fun (V2400) -> begin (V2405 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2401) -> fun (V2402) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V2401, V2402)) end end, fun (V2403) -> fun (V2404) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V2403, V2404)) end end}, V2400, V2393))), case V2405 of {'Idris.Prelude.Types.Left', E3013} -> (fun (V2406) -> {'Idris.Prelude.Types.Left', V2406} end(E3013)); {'Idris.Prelude.Types.Right', E3014} -> (fun (V2407) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V2407))))}, V2393)) end(E3014)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3012)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3010)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E3148, E3149, E3150, E3151} -> (fun (V2408, V2409, V2410, V2411) -> fun (V2412) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V2408, <<"Function types not allowed in a foreign struct"/utf8>>}, V2412)) end end(E3148, E3149, E3150, E3151)); _ -> case V3 of {'Idris.Core.Value.NTCon', E3113, E3114, E3115, E3116, E3117} -> (fun (V2413, V2414, V2415, V2416, V2417) -> fun (V2418) -> begin (V2420 = begin (V2419 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2419} end), case V2420 of {'Idris.Prelude.Types.Left', E3118} -> (fun (V2421) -> {'Idris.Prelude.Types.Left', V2421} end(E3118)); {'Idris.Prelude.Types.Right', E3119} -> (fun (V2422) -> begin (V2427 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2423) -> fun (V2424) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V2423, V2424)) end end, fun (V2425) -> fun (V2426) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V2425, V2426)) end end}, V2414, V2418))), case V2427 of {'Idris.Prelude.Types.Left', E3120} -> (fun (V2428) -> {'Idris.Prelude.Types.Left', V2428} end(E3120)); {'Idris.Prelude.Types.Right', E3121} -> (fun (V2429) -> begin (V2430 = (('un--getNArgs'(V0, V2422, V2429, V2417))(V2418))), case V2430 of {'Idris.Prelude.Types.Left', E3122} -> (fun (V2431) -> {'Idris.Prelude.Types.Left', V2431} end(E3122)); {'Idris.Prelude.Types.Right', E3123} -> (fun (V2432) -> case V2432 of {'Idris.Compiler.CompileExpr.User', E3124, E3125} -> (fun (V2433, V2434) -> begin (V2436 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2435) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2422, V2435)) end, V2434, []))(V2418))), case V2436 of {'Idris.Prelude.Types.Left', E3126} -> (fun (V2437) -> {'Idris.Prelude.Types.Left', V2437} end(E3126)); {'Idris.Prelude.Types.Right', E3127} -> (fun (V2438) -> begin (V2440 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2439) -> ('un--nfToCFType'(V0, V2413, V2, V2439)) end, V2438, []))(V2418))), case V2440 of {'Idris.Prelude.Types.Left', E3128} -> (fun (V2441) -> {'Idris.Prelude.Types.Left', V2441} end(E3128)); {'Idris.Prelude.Types.Right', E3129} -> (fun (V2442) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V2429, V2442}} end(E3129)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3127)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3124, E3125)); {'Idris.Compiler.CompileExpr.Struct', E3130, E3131} -> (fun (V2443, V2444) -> begin (V2455 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2445) -> case V2445 of {'Idris.Builtin.MkPair', E3132, E3133} -> (fun (V2446, V2447) -> fun (V2448) -> begin (V2449 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2422, V2447))(V2448))), case V2449 of {'Idris.Prelude.Types.Left', E3134} -> (fun (V2450) -> {'Idris.Prelude.Types.Left', V2450} end(E3134)); {'Idris.Prelude.Types.Right', E3135} -> (fun (V2451) -> begin (V2452 = (('un--nfToCFType'(V0, V2413, 0, V2451))(V2448))), case V2452 of {'Idris.Prelude.Types.Left', E3136} -> (fun (V2453) -> {'Idris.Prelude.Types.Left', V2453} end(E3136)); {'Idris.Prelude.Types.Right', E3137} -> (fun (V2454) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V2446, V2454}} end(E3137)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3135)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3132, E3133)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V2444, []))(V2418))), case V2455 of {'Idris.Prelude.Types.Left', E3138} -> (fun (V2456) -> {'Idris.Prelude.Types.Left', V2456} end(E3138)); {'Idris.Prelude.Types.Right', E3139} -> (fun (V2457) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V2443, V2457}} end(E3139)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3130, E3131)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3140} -> (fun (V2458) -> begin (V2459 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2422, V2458))(V2418))), case V2459 of {'Idris.Prelude.Types.Left', E3141} -> (fun (V2460) -> {'Idris.Prelude.Types.Left', V2460} end(E3141)); {'Idris.Prelude.Types.Right', E3142} -> (fun (V2461) -> begin (V2462 = (('un--nfToCFType'(V0, V2413, V2, V2461))(V2418))), case V2462 of {'Idris.Prelude.Types.Left', E3143} -> (fun (V2463) -> {'Idris.Prelude.Types.Left', V2463} end(E3143)); {'Idris.Prelude.Types.Right', E3144} -> (fun (V2464) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V2464}} end(E3144)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3142)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3140)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E3123)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3121)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3119)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3113, E3114, E3115, E3116, E3117)); {'Idris.Core.Value.NType', E3145} -> (fun (V2465) -> fun (V2466) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3145)); {'Idris.Core.Value.NErased', E3146, E3147} -> (fun (V2467, V2468) -> fun (V2469) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3146, E3147)); _ -> fun (V2470) -> begin (V2472 = begin (V2471 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2471} end), case V2472 of {'Idris.Prelude.Types.Left', E3107} -> (fun (V2473) -> {'Idris.Prelude.Types.Left', V2473} end(E3107)); {'Idris.Prelude.Types.Right', E3108} -> (fun (V2474) -> begin (V2475 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V2474, {'Idris.Core.Env.Nil'}, V3, V2470))), case V2475 of {'Idris.Prelude.Types.Left', E3109} -> (fun (V2476) -> {'Idris.Prelude.Types.Left', V2476} end(E3109)); {'Idris.Prelude.Types.Right', E3110} -> (fun (V2477) -> begin (V2482 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2478) -> fun (V2479) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V2478, V2479)) end end, fun (V2480) -> fun (V2481) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V2480, V2481)) end end}, V2477, V2470))), case V2482 of {'Idris.Prelude.Types.Left', E3111} -> (fun (V2483) -> {'Idris.Prelude.Types.Left', V2483} end(E3111)); {'Idris.Prelude.Types.Right', E3112} -> (fun (V2484) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V2484))))}, V2470)) end(E3112)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3110)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3108)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E2974, E2975, E2976, E2977, E2978} -> (fun (V2485, V2486, V2487, V2488, V2489) -> fun (V2490) -> begin (V2492 = begin (V2491 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2491} end), case V2492 of {'Idris.Prelude.Types.Left', E2979} -> (fun (V2493) -> {'Idris.Prelude.Types.Left', V2493} end(E2979)); {'Idris.Prelude.Types.Right', E2980} -> (fun (V2494) -> begin (V2499 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2495) -> fun (V2496) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V2495, V2496)) end end, fun (V2497) -> fun (V2498) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V2497, V2498)) end end}, V2486, V2490))), case V2499 of {'Idris.Prelude.Types.Left', E2981} -> (fun (V2500) -> {'Idris.Prelude.Types.Left', V2500} end(E2981)); {'Idris.Prelude.Types.Right', E2982} -> (fun (V2501) -> begin (V2502 = (('un--getNArgs'(V0, V2494, V2501, V2489))(V2490))), case V2502 of {'Idris.Prelude.Types.Left', E2983} -> (fun (V2503) -> {'Idris.Prelude.Types.Left', V2503} end(E2983)); {'Idris.Prelude.Types.Right', E2984} -> (fun (V2504) -> case V2504 of {'Idris.Compiler.CompileExpr.User', E2985, E2986} -> (fun (V2505, V2506) -> begin (V2508 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2507) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2494, V2507)) end, V2506, []))(V2490))), case V2508 of {'Idris.Prelude.Types.Left', E2987} -> (fun (V2509) -> {'Idris.Prelude.Types.Left', V2509} end(E2987)); {'Idris.Prelude.Types.Right', E2988} -> (fun (V2510) -> begin (V2512 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2511) -> ('un--nfToCFType'(V0, V2485, V2, V2511)) end, V2510, []))(V2490))), case V2512 of {'Idris.Prelude.Types.Left', E2989} -> (fun (V2513) -> {'Idris.Prelude.Types.Left', V2513} end(E2989)); {'Idris.Prelude.Types.Right', E2990} -> (fun (V2514) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V2501, V2514}} end(E2990)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2988)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2985, E2986)); {'Idris.Compiler.CompileExpr.Struct', E2991, E2992} -> (fun (V2515, V2516) -> begin (V2527 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2517) -> case V2517 of {'Idris.Builtin.MkPair', E2993, E2994} -> (fun (V2518, V2519) -> fun (V2520) -> begin (V2521 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2494, V2519))(V2520))), case V2521 of {'Idris.Prelude.Types.Left', E2995} -> (fun (V2522) -> {'Idris.Prelude.Types.Left', V2522} end(E2995)); {'Idris.Prelude.Types.Right', E2996} -> (fun (V2523) -> begin (V2524 = (('un--nfToCFType'(V0, V2485, 0, V2523))(V2520))), case V2524 of {'Idris.Prelude.Types.Left', E2997} -> (fun (V2525) -> {'Idris.Prelude.Types.Left', V2525} end(E2997)); {'Idris.Prelude.Types.Right', E2998} -> (fun (V2526) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V2518, V2526}} end(E2998)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2996)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2993, E2994)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V2516, []))(V2490))), case V2527 of {'Idris.Prelude.Types.Left', E2999} -> (fun (V2528) -> {'Idris.Prelude.Types.Left', V2528} end(E2999)); {'Idris.Prelude.Types.Right', E3000} -> (fun (V2529) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V2515, V2529}} end(E3000)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2991, E2992)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E3001} -> (fun (V2530) -> begin (V2531 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2494, V2530))(V2490))), case V2531 of {'Idris.Prelude.Types.Left', E3002} -> (fun (V2532) -> {'Idris.Prelude.Types.Left', V2532} end(E3002)); {'Idris.Prelude.Types.Right', E3003} -> (fun (V2533) -> begin (V2534 = (('un--nfToCFType'(V0, V2485, V2, V2533))(V2490))), case V2534 of {'Idris.Prelude.Types.Left', E3004} -> (fun (V2535) -> {'Idris.Prelude.Types.Left', V2535} end(E3004)); {'Idris.Prelude.Types.Right', E3005} -> (fun (V2536) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V2536}} end(E3005)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3003)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3001)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2984)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2982)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2980)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2974, E2975, E2976, E2977, E2978)); {'Idris.Core.Value.NType', E3006} -> (fun (V2537) -> fun (V2538) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E3006)); {'Idris.Core.Value.NErased', E3007, E3008} -> (fun (V2539, V2540) -> fun (V2541) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E3007, E3008)); _ -> fun (V2542) -> begin (V2544 = begin (V2543 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2543} end), case V2544 of {'Idris.Prelude.Types.Left', E2968} -> (fun (V2545) -> {'Idris.Prelude.Types.Left', V2545} end(E2968)); {'Idris.Prelude.Types.Right', E2969} -> (fun (V2546) -> begin (V2547 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V2546, {'Idris.Core.Env.Nil'}, V3, V2542))), case V2547 of {'Idris.Prelude.Types.Left', E2970} -> (fun (V2548) -> {'Idris.Prelude.Types.Left', V2548} end(E2970)); {'Idris.Prelude.Types.Right', E2971} -> (fun (V2549) -> begin (V2554 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2550) -> fun (V2551) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V2550, V2551)) end end, fun (V2552) -> fun (V2553) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V2552, V2553)) end end}, V2549, V2542))), case V2554 of {'Idris.Prelude.Types.Left', E2972} -> (fun (V2555) -> {'Idris.Prelude.Types.Left', V2555} end(E2972)); {'Idris.Prelude.Types.Right', E2973} -> (fun (V2556) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V2556))))}, V2542)) end(E2973)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2971)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2969)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end; _ -> case V3 of {'Idris.Core.Value.NPrimVal', E2040, E2041} -> (fun (V2557, V2558) -> case V2558 of {'Idris.Core.TT.DoubleType'} -> (fun () -> fun (V2559) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFDouble'}} end end()); {'Idris.Core.TT.CharType'} -> (fun () -> fun (V2560) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFChar'}} end end()); {'Idris.Core.TT.WorldType'} -> (fun () -> fun (V2561) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFWorld'}} end end()); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E2124, E2125, E2126, E2127} -> (fun (V2562, V2563, V2564, V2565) -> case V2564 of {'Idris.Core.TT.Pi', E2169, E2170, E2171, E2172} -> (fun (V2566, V2567, V2568, V2569) -> fun (V2570) -> begin (V2572 = begin (V2571 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2571} end), case V2572 of {'Idris.Prelude.Types.Left', E2173} -> (fun (V2573) -> {'Idris.Prelude.Types.Left', V2573} end(E2173)); {'Idris.Prelude.Types.Right', E2174} -> (fun (V2574) -> begin (V2575 = (('un--nfToCFType'(V0, V2562, 1, V2569))(V2570))), case V2575 of {'Idris.Prelude.Types.Left', E2175} -> (fun (V2576) -> {'Idris.Prelude.Types.Left', V2576} end(E2175)); {'Idris.Prelude.Types.Right', E2176} -> (fun (V2577) -> begin (V2578 = (((V2565(V2574))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V2562, 1}))))(V2570))), case V2578 of {'Idris.Prelude.Types.Left', E2177} -> (fun (V2579) -> {'Idris.Prelude.Types.Left', V2579} end(E2177)); {'Idris.Prelude.Types.Right', E2178} -> (fun (V2580) -> begin (V2581 = (('un--nfToCFType'(V0, V2562, 1, V2580))(V2570))), case V2581 of {'Idris.Prelude.Types.Left', E2179} -> (fun (V2582) -> {'Idris.Prelude.Types.Left', V2582} end(E2179)); {'Idris.Prelude.Types.Right', E2180} -> (fun (V2583) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V2577, V2583}} end(E2180)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2178)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2176)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2174)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2169, E2170, E2171, E2172)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2134, E2135, E2136, E2137, E2138} -> (fun (V2584, V2585, V2586, V2587, V2588) -> fun (V2589) -> begin (V2591 = begin (V2590 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2590} end), case V2591 of {'Idris.Prelude.Types.Left', E2139} -> (fun (V2592) -> {'Idris.Prelude.Types.Left', V2592} end(E2139)); {'Idris.Prelude.Types.Right', E2140} -> (fun (V2593) -> begin (V2598 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2594) -> fun (V2595) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V2594, V2595)) end end, fun (V2596) -> fun (V2597) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V2596, V2597)) end end}, V2585, V2589))), case V2598 of {'Idris.Prelude.Types.Left', E2141} -> (fun (V2599) -> {'Idris.Prelude.Types.Left', V2599} end(E2141)); {'Idris.Prelude.Types.Right', E2142} -> (fun (V2600) -> begin (V2601 = (('un--getNArgs'(V0, V2593, V2600, V2588))(V2589))), case V2601 of {'Idris.Prelude.Types.Left', E2143} -> (fun (V2602) -> {'Idris.Prelude.Types.Left', V2602} end(E2143)); {'Idris.Prelude.Types.Right', E2144} -> (fun (V2603) -> case V2603 of {'Idris.Compiler.CompileExpr.User', E2145, E2146} -> (fun (V2604, V2605) -> begin (V2607 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2606) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2593, V2606)) end, V2605, []))(V2589))), case V2607 of {'Idris.Prelude.Types.Left', E2147} -> (fun (V2608) -> {'Idris.Prelude.Types.Left', V2608} end(E2147)); {'Idris.Prelude.Types.Right', E2148} -> (fun (V2609) -> begin (V2611 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2610) -> ('un--nfToCFType'(V0, V2584, V2, V2610)) end, V2609, []))(V2589))), case V2611 of {'Idris.Prelude.Types.Left', E2149} -> (fun (V2612) -> {'Idris.Prelude.Types.Left', V2612} end(E2149)); {'Idris.Prelude.Types.Right', E2150} -> (fun (V2613) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V2600, V2613}} end(E2150)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2148)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2145, E2146)); {'Idris.Compiler.CompileExpr.Struct', E2151, E2152} -> (fun (V2614, V2615) -> begin (V2626 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2616) -> case V2616 of {'Idris.Builtin.MkPair', E2153, E2154} -> (fun (V2617, V2618) -> fun (V2619) -> begin (V2620 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2593, V2618))(V2619))), case V2620 of {'Idris.Prelude.Types.Left', E2155} -> (fun (V2621) -> {'Idris.Prelude.Types.Left', V2621} end(E2155)); {'Idris.Prelude.Types.Right', E2156} -> (fun (V2622) -> begin (V2623 = (('un--nfToCFType'(V0, V2584, 0, V2622))(V2619))), case V2623 of {'Idris.Prelude.Types.Left', E2157} -> (fun (V2624) -> {'Idris.Prelude.Types.Left', V2624} end(E2157)); {'Idris.Prelude.Types.Right', E2158} -> (fun (V2625) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V2617, V2625}} end(E2158)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2156)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2153, E2154)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V2615, []))(V2589))), case V2626 of {'Idris.Prelude.Types.Left', E2159} -> (fun (V2627) -> {'Idris.Prelude.Types.Left', V2627} end(E2159)); {'Idris.Prelude.Types.Right', E2160} -> (fun (V2628) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V2614, V2628}} end(E2160)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2151, E2152)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2161} -> (fun (V2629) -> begin (V2630 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2593, V2629))(V2589))), case V2630 of {'Idris.Prelude.Types.Left', E2162} -> (fun (V2631) -> {'Idris.Prelude.Types.Left', V2631} end(E2162)); {'Idris.Prelude.Types.Right', E2163} -> (fun (V2632) -> begin (V2633 = (('un--nfToCFType'(V0, V2584, V2, V2632))(V2589))), case V2633 of {'Idris.Prelude.Types.Left', E2164} -> (fun (V2634) -> {'Idris.Prelude.Types.Left', V2634} end(E2164)); {'Idris.Prelude.Types.Right', E2165} -> (fun (V2635) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V2635}} end(E2165)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2163)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2161)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2144)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2142)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2140)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2134, E2135, E2136, E2137, E2138)); {'Idris.Core.Value.NType', E2166} -> (fun (V2636) -> fun (V2637) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2166)); {'Idris.Core.Value.NErased', E2167, E2168} -> (fun (V2638, V2639) -> fun (V2640) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2167, E2168)); _ -> fun (V2641) -> begin (V2643 = begin (V2642 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2642} end), case V2643 of {'Idris.Prelude.Types.Left', E2128} -> (fun (V2644) -> {'Idris.Prelude.Types.Left', V2644} end(E2128)); {'Idris.Prelude.Types.Right', E2129} -> (fun (V2645) -> begin (V2646 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V2645, {'Idris.Core.Env.Nil'}, V3, V2641))), case V2646 of {'Idris.Prelude.Types.Left', E2130} -> (fun (V2647) -> {'Idris.Prelude.Types.Left', V2647} end(E2130)); {'Idris.Prelude.Types.Right', E2131} -> (fun (V2648) -> begin (V2653 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2649) -> fun (V2650) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V2649, V2650)) end end, fun (V2651) -> fun (V2652) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V2651, V2652)) end end}, V2648, V2641))), case V2653 of {'Idris.Prelude.Types.Left', E2132} -> (fun (V2654) -> {'Idris.Prelude.Types.Left', V2654} end(E2132)); {'Idris.Prelude.Types.Right', E2133} -> (fun (V2655) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V2655))))}, V2641)) end(E2133)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2131)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2129)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E2124, E2125, E2126, E2127)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2089, E2090, E2091, E2092, E2093} -> (fun (V2656, V2657, V2658, V2659, V2660) -> fun (V2661) -> begin (V2663 = begin (V2662 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2662} end), case V2663 of {'Idris.Prelude.Types.Left', E2094} -> (fun (V2664) -> {'Idris.Prelude.Types.Left', V2664} end(E2094)); {'Idris.Prelude.Types.Right', E2095} -> (fun (V2665) -> begin (V2670 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2666) -> fun (V2667) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V2666, V2667)) end end, fun (V2668) -> fun (V2669) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V2668, V2669)) end end}, V2657, V2661))), case V2670 of {'Idris.Prelude.Types.Left', E2096} -> (fun (V2671) -> {'Idris.Prelude.Types.Left', V2671} end(E2096)); {'Idris.Prelude.Types.Right', E2097} -> (fun (V2672) -> begin (V2673 = (('un--getNArgs'(V0, V2665, V2672, V2660))(V2661))), case V2673 of {'Idris.Prelude.Types.Left', E2098} -> (fun (V2674) -> {'Idris.Prelude.Types.Left', V2674} end(E2098)); {'Idris.Prelude.Types.Right', E2099} -> (fun (V2675) -> case V2675 of {'Idris.Compiler.CompileExpr.User', E2100, E2101} -> (fun (V2676, V2677) -> begin (V2679 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2678) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2665, V2678)) end, V2677, []))(V2661))), case V2679 of {'Idris.Prelude.Types.Left', E2102} -> (fun (V2680) -> {'Idris.Prelude.Types.Left', V2680} end(E2102)); {'Idris.Prelude.Types.Right', E2103} -> (fun (V2681) -> begin (V2683 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2682) -> ('un--nfToCFType'(V0, V2656, V2, V2682)) end, V2681, []))(V2661))), case V2683 of {'Idris.Prelude.Types.Left', E2104} -> (fun (V2684) -> {'Idris.Prelude.Types.Left', V2684} end(E2104)); {'Idris.Prelude.Types.Right', E2105} -> (fun (V2685) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V2672, V2685}} end(E2105)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2103)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2100, E2101)); {'Idris.Compiler.CompileExpr.Struct', E2106, E2107} -> (fun (V2686, V2687) -> begin (V2698 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2688) -> case V2688 of {'Idris.Builtin.MkPair', E2108, E2109} -> (fun (V2689, V2690) -> fun (V2691) -> begin (V2692 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2665, V2690))(V2691))), case V2692 of {'Idris.Prelude.Types.Left', E2110} -> (fun (V2693) -> {'Idris.Prelude.Types.Left', V2693} end(E2110)); {'Idris.Prelude.Types.Right', E2111} -> (fun (V2694) -> begin (V2695 = (('un--nfToCFType'(V0, V2656, 0, V2694))(V2691))), case V2695 of {'Idris.Prelude.Types.Left', E2112} -> (fun (V2696) -> {'Idris.Prelude.Types.Left', V2696} end(E2112)); {'Idris.Prelude.Types.Right', E2113} -> (fun (V2697) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V2689, V2697}} end(E2113)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2111)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2108, E2109)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V2687, []))(V2661))), case V2698 of {'Idris.Prelude.Types.Left', E2114} -> (fun (V2699) -> {'Idris.Prelude.Types.Left', V2699} end(E2114)); {'Idris.Prelude.Types.Right', E2115} -> (fun (V2700) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V2686, V2700}} end(E2115)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2106, E2107)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2116} -> (fun (V2701) -> begin (V2702 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2665, V2701))(V2661))), case V2702 of {'Idris.Prelude.Types.Left', E2117} -> (fun (V2703) -> {'Idris.Prelude.Types.Left', V2703} end(E2117)); {'Idris.Prelude.Types.Right', E2118} -> (fun (V2704) -> begin (V2705 = (('un--nfToCFType'(V0, V2656, V2, V2704))(V2661))), case V2705 of {'Idris.Prelude.Types.Left', E2119} -> (fun (V2706) -> {'Idris.Prelude.Types.Left', V2706} end(E2119)); {'Idris.Prelude.Types.Right', E2120} -> (fun (V2707) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V2707}} end(E2120)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2118)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2116)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2099)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2097)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2095)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2089, E2090, E2091, E2092, E2093)); {'Idris.Core.Value.NType', E2121} -> (fun (V2708) -> fun (V2709) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2121)); {'Idris.Core.Value.NErased', E2122, E2123} -> (fun (V2710, V2711) -> fun (V2712) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2122, E2123)); _ -> fun (V2713) -> begin (V2715 = begin (V2714 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2714} end), case V2715 of {'Idris.Prelude.Types.Left', E2083} -> (fun (V2716) -> {'Idris.Prelude.Types.Left', V2716} end(E2083)); {'Idris.Prelude.Types.Right', E2084} -> (fun (V2717) -> begin (V2718 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V2717, {'Idris.Core.Env.Nil'}, V3, V2713))), case V2718 of {'Idris.Prelude.Types.Left', E2085} -> (fun (V2719) -> {'Idris.Prelude.Types.Left', V2719} end(E2085)); {'Idris.Prelude.Types.Right', E2086} -> (fun (V2720) -> begin (V2725 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2721) -> fun (V2722) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V2721, V2722)) end end, fun (V2723) -> fun (V2724) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V2723, V2724)) end end}, V2720, V2713))), case V2725 of {'Idris.Prelude.Types.Left', E2087} -> (fun (V2726) -> {'Idris.Prelude.Types.Left', V2726} end(E2087)); {'Idris.Prelude.Types.Right', E2088} -> (fun (V2727) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V2727))))}, V2713)) end(E2088)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2086)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2084)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E2222, E2223, E2224, E2225} -> (fun (V2728, V2729, V2730, V2731) -> fun (V2732) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V2728, <<"Function types not allowed in a foreign struct"/utf8>>}, V2732)) end end(E2222, E2223, E2224, E2225)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2187, E2188, E2189, E2190, E2191} -> (fun (V2733, V2734, V2735, V2736, V2737) -> fun (V2738) -> begin (V2740 = begin (V2739 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2739} end), case V2740 of {'Idris.Prelude.Types.Left', E2192} -> (fun (V2741) -> {'Idris.Prelude.Types.Left', V2741} end(E2192)); {'Idris.Prelude.Types.Right', E2193} -> (fun (V2742) -> begin (V2747 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2743) -> fun (V2744) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V2743, V2744)) end end, fun (V2745) -> fun (V2746) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V2745, V2746)) end end}, V2734, V2738))), case V2747 of {'Idris.Prelude.Types.Left', E2194} -> (fun (V2748) -> {'Idris.Prelude.Types.Left', V2748} end(E2194)); {'Idris.Prelude.Types.Right', E2195} -> (fun (V2749) -> begin (V2750 = (('un--getNArgs'(V0, V2742, V2749, V2737))(V2738))), case V2750 of {'Idris.Prelude.Types.Left', E2196} -> (fun (V2751) -> {'Idris.Prelude.Types.Left', V2751} end(E2196)); {'Idris.Prelude.Types.Right', E2197} -> (fun (V2752) -> case V2752 of {'Idris.Compiler.CompileExpr.User', E2198, E2199} -> (fun (V2753, V2754) -> begin (V2756 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2755) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2742, V2755)) end, V2754, []))(V2738))), case V2756 of {'Idris.Prelude.Types.Left', E2200} -> (fun (V2757) -> {'Idris.Prelude.Types.Left', V2757} end(E2200)); {'Idris.Prelude.Types.Right', E2201} -> (fun (V2758) -> begin (V2760 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2759) -> ('un--nfToCFType'(V0, V2733, V2, V2759)) end, V2758, []))(V2738))), case V2760 of {'Idris.Prelude.Types.Left', E2202} -> (fun (V2761) -> {'Idris.Prelude.Types.Left', V2761} end(E2202)); {'Idris.Prelude.Types.Right', E2203} -> (fun (V2762) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V2749, V2762}} end(E2203)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2201)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2198, E2199)); {'Idris.Compiler.CompileExpr.Struct', E2204, E2205} -> (fun (V2763, V2764) -> begin (V2775 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2765) -> case V2765 of {'Idris.Builtin.MkPair', E2206, E2207} -> (fun (V2766, V2767) -> fun (V2768) -> begin (V2769 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2742, V2767))(V2768))), case V2769 of {'Idris.Prelude.Types.Left', E2208} -> (fun (V2770) -> {'Idris.Prelude.Types.Left', V2770} end(E2208)); {'Idris.Prelude.Types.Right', E2209} -> (fun (V2771) -> begin (V2772 = (('un--nfToCFType'(V0, V2733, 0, V2771))(V2768))), case V2772 of {'Idris.Prelude.Types.Left', E2210} -> (fun (V2773) -> {'Idris.Prelude.Types.Left', V2773} end(E2210)); {'Idris.Prelude.Types.Right', E2211} -> (fun (V2774) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V2766, V2774}} end(E2211)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2209)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2206, E2207)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V2764, []))(V2738))), case V2775 of {'Idris.Prelude.Types.Left', E2212} -> (fun (V2776) -> {'Idris.Prelude.Types.Left', V2776} end(E2212)); {'Idris.Prelude.Types.Right', E2213} -> (fun (V2777) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V2763, V2777}} end(E2213)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2204, E2205)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2214} -> (fun (V2778) -> begin (V2779 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2742, V2778))(V2738))), case V2779 of {'Idris.Prelude.Types.Left', E2215} -> (fun (V2780) -> {'Idris.Prelude.Types.Left', V2780} end(E2215)); {'Idris.Prelude.Types.Right', E2216} -> (fun (V2781) -> begin (V2782 = (('un--nfToCFType'(V0, V2733, V2, V2781))(V2738))), case V2782 of {'Idris.Prelude.Types.Left', E2217} -> (fun (V2783) -> {'Idris.Prelude.Types.Left', V2783} end(E2217)); {'Idris.Prelude.Types.Right', E2218} -> (fun (V2784) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V2784}} end(E2218)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2216)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2214)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2197)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2195)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2193)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2187, E2188, E2189, E2190, E2191)); {'Idris.Core.Value.NType', E2219} -> (fun (V2785) -> fun (V2786) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2219)); {'Idris.Core.Value.NErased', E2220, E2221} -> (fun (V2787, V2788) -> fun (V2789) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2220, E2221)); _ -> fun (V2790) -> begin (V2792 = begin (V2791 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2791} end), case V2792 of {'Idris.Prelude.Types.Left', E2181} -> (fun (V2793) -> {'Idris.Prelude.Types.Left', V2793} end(E2181)); {'Idris.Prelude.Types.Right', E2182} -> (fun (V2794) -> begin (V2795 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V2794, {'Idris.Core.Env.Nil'}, V3, V2790))), case V2795 of {'Idris.Prelude.Types.Left', E2183} -> (fun (V2796) -> {'Idris.Prelude.Types.Left', V2796} end(E2183)); {'Idris.Prelude.Types.Right', E2184} -> (fun (V2797) -> begin (V2802 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2798) -> fun (V2799) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V2798, V2799)) end end, fun (V2800) -> fun (V2801) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V2800, V2801)) end end}, V2797, V2790))), case V2802 of {'Idris.Prelude.Types.Left', E2185} -> (fun (V2803) -> {'Idris.Prelude.Types.Left', V2803} end(E2185)); {'Idris.Prelude.Types.Right', E2186} -> (fun (V2804) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V2804))))}, V2790)) end(E2186)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2184)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2182)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E2048, E2049, E2050, E2051, E2052} -> (fun (V2805, V2806, V2807, V2808, V2809) -> fun (V2810) -> begin (V2812 = begin (V2811 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2811} end), case V2812 of {'Idris.Prelude.Types.Left', E2053} -> (fun (V2813) -> {'Idris.Prelude.Types.Left', V2813} end(E2053)); {'Idris.Prelude.Types.Right', E2054} -> (fun (V2814) -> begin (V2819 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2815) -> fun (V2816) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V2815, V2816)) end end, fun (V2817) -> fun (V2818) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V2817, V2818)) end end}, V2806, V2810))), case V2819 of {'Idris.Prelude.Types.Left', E2055} -> (fun (V2820) -> {'Idris.Prelude.Types.Left', V2820} end(E2055)); {'Idris.Prelude.Types.Right', E2056} -> (fun (V2821) -> begin (V2822 = (('un--getNArgs'(V0, V2814, V2821, V2809))(V2810))), case V2822 of {'Idris.Prelude.Types.Left', E2057} -> (fun (V2823) -> {'Idris.Prelude.Types.Left', V2823} end(E2057)); {'Idris.Prelude.Types.Right', E2058} -> (fun (V2824) -> case V2824 of {'Idris.Compiler.CompileExpr.User', E2059, E2060} -> (fun (V2825, V2826) -> begin (V2828 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2827) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2814, V2827)) end, V2826, []))(V2810))), case V2828 of {'Idris.Prelude.Types.Left', E2061} -> (fun (V2829) -> {'Idris.Prelude.Types.Left', V2829} end(E2061)); {'Idris.Prelude.Types.Right', E2062} -> (fun (V2830) -> begin (V2832 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2831) -> ('un--nfToCFType'(V0, V2805, V2, V2831)) end, V2830, []))(V2810))), case V2832 of {'Idris.Prelude.Types.Left', E2063} -> (fun (V2833) -> {'Idris.Prelude.Types.Left', V2833} end(E2063)); {'Idris.Prelude.Types.Right', E2064} -> (fun (V2834) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V2821, V2834}} end(E2064)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2062)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2059, E2060)); {'Idris.Compiler.CompileExpr.Struct', E2065, E2066} -> (fun (V2835, V2836) -> begin (V2847 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2837) -> case V2837 of {'Idris.Builtin.MkPair', E2067, E2068} -> (fun (V2838, V2839) -> fun (V2840) -> begin (V2841 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2814, V2839))(V2840))), case V2841 of {'Idris.Prelude.Types.Left', E2069} -> (fun (V2842) -> {'Idris.Prelude.Types.Left', V2842} end(E2069)); {'Idris.Prelude.Types.Right', E2070} -> (fun (V2843) -> begin (V2844 = (('un--nfToCFType'(V0, V2805, 0, V2843))(V2840))), case V2844 of {'Idris.Prelude.Types.Left', E2071} -> (fun (V2845) -> {'Idris.Prelude.Types.Left', V2845} end(E2071)); {'Idris.Prelude.Types.Right', E2072} -> (fun (V2846) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V2838, V2846}} end(E2072)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2070)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2067, E2068)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V2836, []))(V2810))), case V2847 of {'Idris.Prelude.Types.Left', E2073} -> (fun (V2848) -> {'Idris.Prelude.Types.Left', V2848} end(E2073)); {'Idris.Prelude.Types.Right', E2074} -> (fun (V2849) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V2835, V2849}} end(E2074)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2065, E2066)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2075} -> (fun (V2850) -> begin (V2851 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2814, V2850))(V2810))), case V2851 of {'Idris.Prelude.Types.Left', E2076} -> (fun (V2852) -> {'Idris.Prelude.Types.Left', V2852} end(E2076)); {'Idris.Prelude.Types.Right', E2077} -> (fun (V2853) -> begin (V2854 = (('un--nfToCFType'(V0, V2805, V2, V2853))(V2810))), case V2854 of {'Idris.Prelude.Types.Left', E2078} -> (fun (V2855) -> {'Idris.Prelude.Types.Left', V2855} end(E2078)); {'Idris.Prelude.Types.Right', E2079} -> (fun (V2856) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V2856}} end(E2079)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2077)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2075)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2058)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2056)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2054)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2048, E2049, E2050, E2051, E2052)); {'Idris.Core.Value.NType', E2080} -> (fun (V2857) -> fun (V2858) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2080)); {'Idris.Core.Value.NErased', E2081, E2082} -> (fun (V2859, V2860) -> fun (V2861) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2081, E2082)); _ -> fun (V2862) -> begin (V2864 = begin (V2863 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2863} end), case V2864 of {'Idris.Prelude.Types.Left', E2042} -> (fun (V2865) -> {'Idris.Prelude.Types.Left', V2865} end(E2042)); {'Idris.Prelude.Types.Right', E2043} -> (fun (V2866) -> begin (V2867 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V2866, {'Idris.Core.Env.Nil'}, V3, V2862))), case V2867 of {'Idris.Prelude.Types.Left', E2044} -> (fun (V2868) -> {'Idris.Prelude.Types.Left', V2868} end(E2044)); {'Idris.Prelude.Types.Right', E2045} -> (fun (V2869) -> begin (V2874 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2870) -> fun (V2871) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V2870, V2871)) end end, fun (V2872) -> fun (V2873) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V2872, V2873)) end end}, V2869, V2862))), case V2874 of {'Idris.Prelude.Types.Left', E2046} -> (fun (V2875) -> {'Idris.Prelude.Types.Left', V2875} end(E2046)); {'Idris.Prelude.Types.Right', E2047} -> (fun (V2876) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V2876))))}, V2862)) end(E2047)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2045)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2043)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end(E2040, E2041)); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E1938, E1939, E1940, E1941} -> (fun (V2877, V2878, V2879, V2880) -> case V2879 of {'Idris.Core.TT.Pi', E1983, E1984, E1985, E1986} -> (fun (V2881, V2882, V2883, V2884) -> fun (V2885) -> begin (V2887 = begin (V2886 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2886} end), case V2887 of {'Idris.Prelude.Types.Left', E1987} -> (fun (V2888) -> {'Idris.Prelude.Types.Left', V2888} end(E1987)); {'Idris.Prelude.Types.Right', E1988} -> (fun (V2889) -> begin (V2890 = (('un--nfToCFType'(V0, V2877, 1, V2884))(V2885))), case V2890 of {'Idris.Prelude.Types.Left', E1989} -> (fun (V2891) -> {'Idris.Prelude.Types.Left', V2891} end(E1989)); {'Idris.Prelude.Types.Right', E1990} -> (fun (V2892) -> begin (V2893 = (((V2880(V2889))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V2877, 1}))))(V2885))), case V2893 of {'Idris.Prelude.Types.Left', E1991} -> (fun (V2894) -> {'Idris.Prelude.Types.Left', V2894} end(E1991)); {'Idris.Prelude.Types.Right', E1992} -> (fun (V2895) -> begin (V2896 = (('un--nfToCFType'(V0, V2877, 1, V2895))(V2885))), case V2896 of {'Idris.Prelude.Types.Left', E1993} -> (fun (V2897) -> {'Idris.Prelude.Types.Left', V2897} end(E1993)); {'Idris.Prelude.Types.Right', E1994} -> (fun (V2898) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V2892, V2898}} end(E1994)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1992)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1990)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1988)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1983, E1984, E1985, E1986)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1948, E1949, E1950, E1951, E1952} -> (fun (V2899, V2900, V2901, V2902, V2903) -> fun (V2904) -> begin (V2906 = begin (V2905 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2905} end), case V2906 of {'Idris.Prelude.Types.Left', E1953} -> (fun (V2907) -> {'Idris.Prelude.Types.Left', V2907} end(E1953)); {'Idris.Prelude.Types.Right', E1954} -> (fun (V2908) -> begin (V2913 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2909) -> fun (V2910) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V2909, V2910)) end end, fun (V2911) -> fun (V2912) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V2911, V2912)) end end}, V2900, V2904))), case V2913 of {'Idris.Prelude.Types.Left', E1955} -> (fun (V2914) -> {'Idris.Prelude.Types.Left', V2914} end(E1955)); {'Idris.Prelude.Types.Right', E1956} -> (fun (V2915) -> begin (V2916 = (('un--getNArgs'(V0, V2908, V2915, V2903))(V2904))), case V2916 of {'Idris.Prelude.Types.Left', E1957} -> (fun (V2917) -> {'Idris.Prelude.Types.Left', V2917} end(E1957)); {'Idris.Prelude.Types.Right', E1958} -> (fun (V2918) -> case V2918 of {'Idris.Compiler.CompileExpr.User', E1959, E1960} -> (fun (V2919, V2920) -> begin (V2922 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2921) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2908, V2921)) end, V2920, []))(V2904))), case V2922 of {'Idris.Prelude.Types.Left', E1961} -> (fun (V2923) -> {'Idris.Prelude.Types.Left', V2923} end(E1961)); {'Idris.Prelude.Types.Right', E1962} -> (fun (V2924) -> begin (V2926 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2925) -> ('un--nfToCFType'(V0, V2899, V2, V2925)) end, V2924, []))(V2904))), case V2926 of {'Idris.Prelude.Types.Left', E1963} -> (fun (V2927) -> {'Idris.Prelude.Types.Left', V2927} end(E1963)); {'Idris.Prelude.Types.Right', E1964} -> (fun (V2928) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V2915, V2928}} end(E1964)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1962)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1959, E1960)); {'Idris.Compiler.CompileExpr.Struct', E1965, E1966} -> (fun (V2929, V2930) -> begin (V2941 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2931) -> case V2931 of {'Idris.Builtin.MkPair', E1967, E1968} -> (fun (V2932, V2933) -> fun (V2934) -> begin (V2935 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2908, V2933))(V2934))), case V2935 of {'Idris.Prelude.Types.Left', E1969} -> (fun (V2936) -> {'Idris.Prelude.Types.Left', V2936} end(E1969)); {'Idris.Prelude.Types.Right', E1970} -> (fun (V2937) -> begin (V2938 = (('un--nfToCFType'(V0, V2899, 0, V2937))(V2934))), case V2938 of {'Idris.Prelude.Types.Left', E1971} -> (fun (V2939) -> {'Idris.Prelude.Types.Left', V2939} end(E1971)); {'Idris.Prelude.Types.Right', E1972} -> (fun (V2940) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V2932, V2940}} end(E1972)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1970)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1967, E1968)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V2930, []))(V2904))), case V2941 of {'Idris.Prelude.Types.Left', E1973} -> (fun (V2942) -> {'Idris.Prelude.Types.Left', V2942} end(E1973)); {'Idris.Prelude.Types.Right', E1974} -> (fun (V2943) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V2929, V2943}} end(E1974)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1965, E1966)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1975} -> (fun (V2944) -> begin (V2945 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2908, V2944))(V2904))), case V2945 of {'Idris.Prelude.Types.Left', E1976} -> (fun (V2946) -> {'Idris.Prelude.Types.Left', V2946} end(E1976)); {'Idris.Prelude.Types.Right', E1977} -> (fun (V2947) -> begin (V2948 = (('un--nfToCFType'(V0, V2899, V2, V2947))(V2904))), case V2948 of {'Idris.Prelude.Types.Left', E1978} -> (fun (V2949) -> {'Idris.Prelude.Types.Left', V2949} end(E1978)); {'Idris.Prelude.Types.Right', E1979} -> (fun (V2950) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V2950}} end(E1979)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1977)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1975)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1958)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1956)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1954)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1948, E1949, E1950, E1951, E1952)); {'Idris.Core.Value.NType', E1980} -> (fun (V2951) -> fun (V2952) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1980)); {'Idris.Core.Value.NErased', E1981, E1982} -> (fun (V2953, V2954) -> fun (V2955) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1981, E1982)); _ -> fun (V2956) -> begin (V2958 = begin (V2957 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2957} end), case V2958 of {'Idris.Prelude.Types.Left', E1942} -> (fun (V2959) -> {'Idris.Prelude.Types.Left', V2959} end(E1942)); {'Idris.Prelude.Types.Right', E1943} -> (fun (V2960) -> begin (V2961 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V2960, {'Idris.Core.Env.Nil'}, V3, V2956))), case V2961 of {'Idris.Prelude.Types.Left', E1944} -> (fun (V2962) -> {'Idris.Prelude.Types.Left', V2962} end(E1944)); {'Idris.Prelude.Types.Right', E1945} -> (fun (V2963) -> begin (V2968 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2964) -> fun (V2965) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V2964, V2965)) end end, fun (V2966) -> fun (V2967) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V2966, V2967)) end end}, V2963, V2956))), case V2968 of {'Idris.Prelude.Types.Left', E1946} -> (fun (V2969) -> {'Idris.Prelude.Types.Left', V2969} end(E1946)); {'Idris.Prelude.Types.Right', E1947} -> (fun (V2970) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V2970))))}, V2956)) end(E1947)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1945)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1943)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E1938, E1939, E1940, E1941)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1903, E1904, E1905, E1906, E1907} -> (fun (V2971, V2972, V2973, V2974, V2975) -> fun (V2976) -> begin (V2978 = begin (V2977 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V2977} end), case V2978 of {'Idris.Prelude.Types.Left', E1908} -> (fun (V2979) -> {'Idris.Prelude.Types.Left', V2979} end(E1908)); {'Idris.Prelude.Types.Right', E1909} -> (fun (V2980) -> begin (V2985 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V2981) -> fun (V2982) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V2981, V2982)) end end, fun (V2983) -> fun (V2984) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V2983, V2984)) end end}, V2972, V2976))), case V2985 of {'Idris.Prelude.Types.Left', E1910} -> (fun (V2986) -> {'Idris.Prelude.Types.Left', V2986} end(E1910)); {'Idris.Prelude.Types.Right', E1911} -> (fun (V2987) -> begin (V2988 = (('un--getNArgs'(V0, V2980, V2987, V2975))(V2976))), case V2988 of {'Idris.Prelude.Types.Left', E1912} -> (fun (V2989) -> {'Idris.Prelude.Types.Left', V2989} end(E1912)); {'Idris.Prelude.Types.Right', E1913} -> (fun (V2990) -> case V2990 of {'Idris.Compiler.CompileExpr.User', E1914, E1915} -> (fun (V2991, V2992) -> begin (V2994 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2993) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2980, V2993)) end, V2992, []))(V2976))), case V2994 of {'Idris.Prelude.Types.Left', E1916} -> (fun (V2995) -> {'Idris.Prelude.Types.Left', V2995} end(E1916)); {'Idris.Prelude.Types.Right', E1917} -> (fun (V2996) -> begin (V2998 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V2997) -> ('un--nfToCFType'(V0, V2971, V2, V2997)) end, V2996, []))(V2976))), case V2998 of {'Idris.Prelude.Types.Left', E1918} -> (fun (V2999) -> {'Idris.Prelude.Types.Left', V2999} end(E1918)); {'Idris.Prelude.Types.Right', E1919} -> (fun (V3000) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V2987, V3000}} end(E1919)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1917)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1914, E1915)); {'Idris.Compiler.CompileExpr.Struct', E1920, E1921} -> (fun (V3001, V3002) -> begin (V3013 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3003) -> case V3003 of {'Idris.Builtin.MkPair', E1922, E1923} -> (fun (V3004, V3005) -> fun (V3006) -> begin (V3007 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2980, V3005))(V3006))), case V3007 of {'Idris.Prelude.Types.Left', E1924} -> (fun (V3008) -> {'Idris.Prelude.Types.Left', V3008} end(E1924)); {'Idris.Prelude.Types.Right', E1925} -> (fun (V3009) -> begin (V3010 = (('un--nfToCFType'(V0, V2971, 0, V3009))(V3006))), case V3010 of {'Idris.Prelude.Types.Left', E1926} -> (fun (V3011) -> {'Idris.Prelude.Types.Left', V3011} end(E1926)); {'Idris.Prelude.Types.Right', E1927} -> (fun (V3012) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V3004, V3012}} end(E1927)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1925)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1922, E1923)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V3002, []))(V2976))), case V3013 of {'Idris.Prelude.Types.Left', E1928} -> (fun (V3014) -> {'Idris.Prelude.Types.Left', V3014} end(E1928)); {'Idris.Prelude.Types.Right', E1929} -> (fun (V3015) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V3001, V3015}} end(E1929)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1920, E1921)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1930} -> (fun (V3016) -> begin (V3017 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V2980, V3016))(V2976))), case V3017 of {'Idris.Prelude.Types.Left', E1931} -> (fun (V3018) -> {'Idris.Prelude.Types.Left', V3018} end(E1931)); {'Idris.Prelude.Types.Right', E1932} -> (fun (V3019) -> begin (V3020 = (('un--nfToCFType'(V0, V2971, V2, V3019))(V2976))), case V3020 of {'Idris.Prelude.Types.Left', E1933} -> (fun (V3021) -> {'Idris.Prelude.Types.Left', V3021} end(E1933)); {'Idris.Prelude.Types.Right', E1934} -> (fun (V3022) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V3022}} end(E1934)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1932)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1930)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1913)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1911)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1909)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1903, E1904, E1905, E1906, E1907)); {'Idris.Core.Value.NType', E1935} -> (fun (V3023) -> fun (V3024) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1935)); {'Idris.Core.Value.NErased', E1936, E1937} -> (fun (V3025, V3026) -> fun (V3027) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1936, E1937)); _ -> fun (V3028) -> begin (V3030 = begin (V3029 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3029} end), case V3030 of {'Idris.Prelude.Types.Left', E1897} -> (fun (V3031) -> {'Idris.Prelude.Types.Left', V3031} end(E1897)); {'Idris.Prelude.Types.Right', E1898} -> (fun (V3032) -> begin (V3033 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V3032, {'Idris.Core.Env.Nil'}, V3, V3028))), case V3033 of {'Idris.Prelude.Types.Left', E1899} -> (fun (V3034) -> {'Idris.Prelude.Types.Left', V3034} end(E1899)); {'Idris.Prelude.Types.Right', E1900} -> (fun (V3035) -> begin (V3040 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3036) -> fun (V3037) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V3036, V3037)) end end, fun (V3038) -> fun (V3039) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V3038, V3039)) end end}, V3035, V3028))), case V3040 of {'Idris.Prelude.Types.Left', E1901} -> (fun (V3041) -> {'Idris.Prelude.Types.Left', V3041} end(E1901)); {'Idris.Prelude.Types.Right', E1902} -> (fun (V3042) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V3042))))}, V3028)) end(E1902)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1900)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1898)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E2036, E2037, E2038, E2039} -> (fun (V3043, V3044, V3045, V3046) -> fun (V3047) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V3043, <<"Function types not allowed in a foreign struct"/utf8>>}, V3047)) end end(E2036, E2037, E2038, E2039)); _ -> case V3 of {'Idris.Core.Value.NTCon', E2001, E2002, E2003, E2004, E2005} -> (fun (V3048, V3049, V3050, V3051, V3052) -> fun (V3053) -> begin (V3055 = begin (V3054 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3054} end), case V3055 of {'Idris.Prelude.Types.Left', E2006} -> (fun (V3056) -> {'Idris.Prelude.Types.Left', V3056} end(E2006)); {'Idris.Prelude.Types.Right', E2007} -> (fun (V3057) -> begin (V3062 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3058) -> fun (V3059) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V3058, V3059)) end end, fun (V3060) -> fun (V3061) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V3060, V3061)) end end}, V3049, V3053))), case V3062 of {'Idris.Prelude.Types.Left', E2008} -> (fun (V3063) -> {'Idris.Prelude.Types.Left', V3063} end(E2008)); {'Idris.Prelude.Types.Right', E2009} -> (fun (V3064) -> begin (V3065 = (('un--getNArgs'(V0, V3057, V3064, V3052))(V3053))), case V3065 of {'Idris.Prelude.Types.Left', E2010} -> (fun (V3066) -> {'Idris.Prelude.Types.Left', V3066} end(E2010)); {'Idris.Prelude.Types.Right', E2011} -> (fun (V3067) -> case V3067 of {'Idris.Compiler.CompileExpr.User', E2012, E2013} -> (fun (V3068, V3069) -> begin (V3071 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3070) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3057, V3070)) end, V3069, []))(V3053))), case V3071 of {'Idris.Prelude.Types.Left', E2014} -> (fun (V3072) -> {'Idris.Prelude.Types.Left', V3072} end(E2014)); {'Idris.Prelude.Types.Right', E2015} -> (fun (V3073) -> begin (V3075 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3074) -> ('un--nfToCFType'(V0, V3048, V2, V3074)) end, V3073, []))(V3053))), case V3075 of {'Idris.Prelude.Types.Left', E2016} -> (fun (V3076) -> {'Idris.Prelude.Types.Left', V3076} end(E2016)); {'Idris.Prelude.Types.Right', E2017} -> (fun (V3077) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V3064, V3077}} end(E2017)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2015)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2012, E2013)); {'Idris.Compiler.CompileExpr.Struct', E2018, E2019} -> (fun (V3078, V3079) -> begin (V3090 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3080) -> case V3080 of {'Idris.Builtin.MkPair', E2020, E2021} -> (fun (V3081, V3082) -> fun (V3083) -> begin (V3084 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3057, V3082))(V3083))), case V3084 of {'Idris.Prelude.Types.Left', E2022} -> (fun (V3085) -> {'Idris.Prelude.Types.Left', V3085} end(E2022)); {'Idris.Prelude.Types.Right', E2023} -> (fun (V3086) -> begin (V3087 = (('un--nfToCFType'(V0, V3048, 0, V3086))(V3083))), case V3087 of {'Idris.Prelude.Types.Left', E2024} -> (fun (V3088) -> {'Idris.Prelude.Types.Left', V3088} end(E2024)); {'Idris.Prelude.Types.Right', E2025} -> (fun (V3089) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V3081, V3089}} end(E2025)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2023)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2020, E2021)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V3079, []))(V3053))), case V3090 of {'Idris.Prelude.Types.Left', E2026} -> (fun (V3091) -> {'Idris.Prelude.Types.Left', V3091} end(E2026)); {'Idris.Prelude.Types.Right', E2027} -> (fun (V3092) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V3078, V3092}} end(E2027)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2018, E2019)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E2028} -> (fun (V3093) -> begin (V3094 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3057, V3093))(V3053))), case V3094 of {'Idris.Prelude.Types.Left', E2029} -> (fun (V3095) -> {'Idris.Prelude.Types.Left', V3095} end(E2029)); {'Idris.Prelude.Types.Right', E2030} -> (fun (V3096) -> begin (V3097 = (('un--nfToCFType'(V0, V3048, V2, V3096))(V3053))), case V3097 of {'Idris.Prelude.Types.Left', E2031} -> (fun (V3098) -> {'Idris.Prelude.Types.Left', V3098} end(E2031)); {'Idris.Prelude.Types.Right', E2032} -> (fun (V3099) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V3099}} end(E2032)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2030)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2028)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2011)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2009)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E2007)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2001, E2002, E2003, E2004, E2005)); {'Idris.Core.Value.NType', E2033} -> (fun (V3100) -> fun (V3101) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E2033)); {'Idris.Core.Value.NErased', E2034, E2035} -> (fun (V3102, V3103) -> fun (V3104) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E2034, E2035)); _ -> fun (V3105) -> begin (V3107 = begin (V3106 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3106} end), case V3107 of {'Idris.Prelude.Types.Left', E1995} -> (fun (V3108) -> {'Idris.Prelude.Types.Left', V3108} end(E1995)); {'Idris.Prelude.Types.Right', E1996} -> (fun (V3109) -> begin (V3110 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V3109, {'Idris.Core.Env.Nil'}, V3, V3105))), case V3110 of {'Idris.Prelude.Types.Left', E1997} -> (fun (V3111) -> {'Idris.Prelude.Types.Left', V3111} end(E1997)); {'Idris.Prelude.Types.Right', E1998} -> (fun (V3112) -> begin (V3117 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3113) -> fun (V3114) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V3113, V3114)) end end, fun (V3115) -> fun (V3116) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V3115, V3116)) end end}, V3112, V3105))), case V3117 of {'Idris.Prelude.Types.Left', E1999} -> (fun (V3118) -> {'Idris.Prelude.Types.Left', V3118} end(E1999)); {'Idris.Prelude.Types.Right', E2000} -> (fun (V3119) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V3119))))}, V3105)) end(E2000)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1998)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1996)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E1862, E1863, E1864, E1865, E1866} -> (fun (V3120, V3121, V3122, V3123, V3124) -> fun (V3125) -> begin (V3127 = begin (V3126 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3126} end), case V3127 of {'Idris.Prelude.Types.Left', E1867} -> (fun (V3128) -> {'Idris.Prelude.Types.Left', V3128} end(E1867)); {'Idris.Prelude.Types.Right', E1868} -> (fun (V3129) -> begin (V3134 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3130) -> fun (V3131) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V3130, V3131)) end end, fun (V3132) -> fun (V3133) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V3132, V3133)) end end}, V3121, V3125))), case V3134 of {'Idris.Prelude.Types.Left', E1869} -> (fun (V3135) -> {'Idris.Prelude.Types.Left', V3135} end(E1869)); {'Idris.Prelude.Types.Right', E1870} -> (fun (V3136) -> begin (V3137 = (('un--getNArgs'(V0, V3129, V3136, V3124))(V3125))), case V3137 of {'Idris.Prelude.Types.Left', E1871} -> (fun (V3138) -> {'Idris.Prelude.Types.Left', V3138} end(E1871)); {'Idris.Prelude.Types.Right', E1872} -> (fun (V3139) -> case V3139 of {'Idris.Compiler.CompileExpr.User', E1873, E1874} -> (fun (V3140, V3141) -> begin (V3143 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3142) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3129, V3142)) end, V3141, []))(V3125))), case V3143 of {'Idris.Prelude.Types.Left', E1875} -> (fun (V3144) -> {'Idris.Prelude.Types.Left', V3144} end(E1875)); {'Idris.Prelude.Types.Right', E1876} -> (fun (V3145) -> begin (V3147 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3146) -> ('un--nfToCFType'(V0, V3120, V2, V3146)) end, V3145, []))(V3125))), case V3147 of {'Idris.Prelude.Types.Left', E1877} -> (fun (V3148) -> {'Idris.Prelude.Types.Left', V3148} end(E1877)); {'Idris.Prelude.Types.Right', E1878} -> (fun (V3149) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V3136, V3149}} end(E1878)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1876)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1873, E1874)); {'Idris.Compiler.CompileExpr.Struct', E1879, E1880} -> (fun (V3150, V3151) -> begin (V3162 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3152) -> case V3152 of {'Idris.Builtin.MkPair', E1881, E1882} -> (fun (V3153, V3154) -> fun (V3155) -> begin (V3156 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3129, V3154))(V3155))), case V3156 of {'Idris.Prelude.Types.Left', E1883} -> (fun (V3157) -> {'Idris.Prelude.Types.Left', V3157} end(E1883)); {'Idris.Prelude.Types.Right', E1884} -> (fun (V3158) -> begin (V3159 = (('un--nfToCFType'(V0, V3120, 0, V3158))(V3155))), case V3159 of {'Idris.Prelude.Types.Left', E1885} -> (fun (V3160) -> {'Idris.Prelude.Types.Left', V3160} end(E1885)); {'Idris.Prelude.Types.Right', E1886} -> (fun (V3161) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V3153, V3161}} end(E1886)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1884)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1881, E1882)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V3151, []))(V3125))), case V3162 of {'Idris.Prelude.Types.Left', E1887} -> (fun (V3163) -> {'Idris.Prelude.Types.Left', V3163} end(E1887)); {'Idris.Prelude.Types.Right', E1888} -> (fun (V3164) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V3150, V3164}} end(E1888)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1879, E1880)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1889} -> (fun (V3165) -> begin (V3166 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3129, V3165))(V3125))), case V3166 of {'Idris.Prelude.Types.Left', E1890} -> (fun (V3167) -> {'Idris.Prelude.Types.Left', V3167} end(E1890)); {'Idris.Prelude.Types.Right', E1891} -> (fun (V3168) -> begin (V3169 = (('un--nfToCFType'(V0, V3120, V2, V3168))(V3125))), case V3169 of {'Idris.Prelude.Types.Left', E1892} -> (fun (V3170) -> {'Idris.Prelude.Types.Left', V3170} end(E1892)); {'Idris.Prelude.Types.Right', E1893} -> (fun (V3171) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V3171}} end(E1893)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1891)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1889)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1872)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1870)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1868)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1862, E1863, E1864, E1865, E1866)); {'Idris.Core.Value.NType', E1894} -> (fun (V3172) -> fun (V3173) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1894)); {'Idris.Core.Value.NErased', E1895, E1896} -> (fun (V3174, V3175) -> fun (V3176) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1895, E1896)); _ -> fun (V3177) -> begin (V3179 = begin (V3178 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3178} end), case V3179 of {'Idris.Prelude.Types.Left', E1856} -> (fun (V3180) -> {'Idris.Prelude.Types.Left', V3180} end(E1856)); {'Idris.Prelude.Types.Right', E1857} -> (fun (V3181) -> begin (V3182 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V3181, {'Idris.Core.Env.Nil'}, V3, V3177))), case V3182 of {'Idris.Prelude.Types.Left', E1858} -> (fun (V3183) -> {'Idris.Prelude.Types.Left', V3183} end(E1858)); {'Idris.Prelude.Types.Right', E1859} -> (fun (V3184) -> begin (V3189 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3185) -> fun (V3186) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V3185, V3186)) end end, fun (V3187) -> fun (V3188) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V3187, V3188)) end end}, V3184, V3177))), case V3189 of {'Idris.Prelude.Types.Left', E1860} -> (fun (V3190) -> {'Idris.Prelude.Types.Left', V3190} end(E1860)); {'Idris.Prelude.Types.Right', E1861} -> (fun (V3191) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V3191))))}, V3177)) end(E1861)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1859)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1857)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end end end(E1854, E1855)); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NPrimVal', E740, E741} -> (fun (V3192, V3193) -> case V3193 of {'Idris.Core.TT.StringType'} -> (fun () -> fun (V3194) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFString'}} end end()); _ -> case V3 of {'Idris.Core.Value.NPrimVal', E926, E927} -> (fun (V3195, V3196) -> case V3196 of {'Idris.Core.TT.DoubleType'} -> (fun () -> fun (V3197) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFDouble'}} end end()); {'Idris.Core.TT.CharType'} -> (fun () -> fun (V3198) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFChar'}} end end()); {'Idris.Core.TT.WorldType'} -> (fun () -> fun (V3199) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFWorld'}} end end()); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E1010, E1011, E1012, E1013} -> (fun (V3200, V3201, V3202, V3203) -> case V3202 of {'Idris.Core.TT.Pi', E1055, E1056, E1057, E1058} -> (fun (V3204, V3205, V3206, V3207) -> fun (V3208) -> begin (V3210 = begin (V3209 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3209} end), case V3210 of {'Idris.Prelude.Types.Left', E1059} -> (fun (V3211) -> {'Idris.Prelude.Types.Left', V3211} end(E1059)); {'Idris.Prelude.Types.Right', E1060} -> (fun (V3212) -> begin (V3213 = (('un--nfToCFType'(V0, V3200, 1, V3207))(V3208))), case V3213 of {'Idris.Prelude.Types.Left', E1061} -> (fun (V3214) -> {'Idris.Prelude.Types.Left', V3214} end(E1061)); {'Idris.Prelude.Types.Right', E1062} -> (fun (V3215) -> begin (V3216 = (((V3203(V3212))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V3200, 1}))))(V3208))), case V3216 of {'Idris.Prelude.Types.Left', E1063} -> (fun (V3217) -> {'Idris.Prelude.Types.Left', V3217} end(E1063)); {'Idris.Prelude.Types.Right', E1064} -> (fun (V3218) -> begin (V3219 = (('un--nfToCFType'(V0, V3200, 1, V3218))(V3208))), case V3219 of {'Idris.Prelude.Types.Left', E1065} -> (fun (V3220) -> {'Idris.Prelude.Types.Left', V3220} end(E1065)); {'Idris.Prelude.Types.Right', E1066} -> (fun (V3221) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V3215, V3221}} end(E1066)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1064)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1062)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1060)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1055, E1056, E1057, E1058)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1020, E1021, E1022, E1023, E1024} -> (fun (V3222, V3223, V3224, V3225, V3226) -> fun (V3227) -> begin (V3229 = begin (V3228 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3228} end), case V3229 of {'Idris.Prelude.Types.Left', E1025} -> (fun (V3230) -> {'Idris.Prelude.Types.Left', V3230} end(E1025)); {'Idris.Prelude.Types.Right', E1026} -> (fun (V3231) -> begin (V3236 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3232) -> fun (V3233) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V3232, V3233)) end end, fun (V3234) -> fun (V3235) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V3234, V3235)) end end}, V3223, V3227))), case V3236 of {'Idris.Prelude.Types.Left', E1027} -> (fun (V3237) -> {'Idris.Prelude.Types.Left', V3237} end(E1027)); {'Idris.Prelude.Types.Right', E1028} -> (fun (V3238) -> begin (V3239 = (('un--getNArgs'(V0, V3231, V3238, V3226))(V3227))), case V3239 of {'Idris.Prelude.Types.Left', E1029} -> (fun (V3240) -> {'Idris.Prelude.Types.Left', V3240} end(E1029)); {'Idris.Prelude.Types.Right', E1030} -> (fun (V3241) -> case V3241 of {'Idris.Compiler.CompileExpr.User', E1031, E1032} -> (fun (V3242, V3243) -> begin (V3245 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3244) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3231, V3244)) end, V3243, []))(V3227))), case V3245 of {'Idris.Prelude.Types.Left', E1033} -> (fun (V3246) -> {'Idris.Prelude.Types.Left', V3246} end(E1033)); {'Idris.Prelude.Types.Right', E1034} -> (fun (V3247) -> begin (V3249 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3248) -> ('un--nfToCFType'(V0, V3222, V2, V3248)) end, V3247, []))(V3227))), case V3249 of {'Idris.Prelude.Types.Left', E1035} -> (fun (V3250) -> {'Idris.Prelude.Types.Left', V3250} end(E1035)); {'Idris.Prelude.Types.Right', E1036} -> (fun (V3251) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V3238, V3251}} end(E1036)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1034)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1031, E1032)); {'Idris.Compiler.CompileExpr.Struct', E1037, E1038} -> (fun (V3252, V3253) -> begin (V3264 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3254) -> case V3254 of {'Idris.Builtin.MkPair', E1039, E1040} -> (fun (V3255, V3256) -> fun (V3257) -> begin (V3258 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3231, V3256))(V3257))), case V3258 of {'Idris.Prelude.Types.Left', E1041} -> (fun (V3259) -> {'Idris.Prelude.Types.Left', V3259} end(E1041)); {'Idris.Prelude.Types.Right', E1042} -> (fun (V3260) -> begin (V3261 = (('un--nfToCFType'(V0, V3222, 0, V3260))(V3257))), case V3261 of {'Idris.Prelude.Types.Left', E1043} -> (fun (V3262) -> {'Idris.Prelude.Types.Left', V3262} end(E1043)); {'Idris.Prelude.Types.Right', E1044} -> (fun (V3263) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V3255, V3263}} end(E1044)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1042)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1039, E1040)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V3253, []))(V3227))), case V3264 of {'Idris.Prelude.Types.Left', E1045} -> (fun (V3265) -> {'Idris.Prelude.Types.Left', V3265} end(E1045)); {'Idris.Prelude.Types.Right', E1046} -> (fun (V3266) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V3252, V3266}} end(E1046)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1037, E1038)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1047} -> (fun (V3267) -> begin (V3268 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3231, V3267))(V3227))), case V3268 of {'Idris.Prelude.Types.Left', E1048} -> (fun (V3269) -> {'Idris.Prelude.Types.Left', V3269} end(E1048)); {'Idris.Prelude.Types.Right', E1049} -> (fun (V3270) -> begin (V3271 = (('un--nfToCFType'(V0, V3222, V2, V3270))(V3227))), case V3271 of {'Idris.Prelude.Types.Left', E1050} -> (fun (V3272) -> {'Idris.Prelude.Types.Left', V3272} end(E1050)); {'Idris.Prelude.Types.Right', E1051} -> (fun (V3273) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V3273}} end(E1051)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1049)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1047)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1030)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1028)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1026)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1020, E1021, E1022, E1023, E1024)); {'Idris.Core.Value.NType', E1052} -> (fun (V3274) -> fun (V3275) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1052)); {'Idris.Core.Value.NErased', E1053, E1054} -> (fun (V3276, V3277) -> fun (V3278) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1053, E1054)); _ -> fun (V3279) -> begin (V3281 = begin (V3280 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3280} end), case V3281 of {'Idris.Prelude.Types.Left', E1014} -> (fun (V3282) -> {'Idris.Prelude.Types.Left', V3282} end(E1014)); {'Idris.Prelude.Types.Right', E1015} -> (fun (V3283) -> begin (V3284 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V3283, {'Idris.Core.Env.Nil'}, V3, V3279))), case V3284 of {'Idris.Prelude.Types.Left', E1016} -> (fun (V3285) -> {'Idris.Prelude.Types.Left', V3285} end(E1016)); {'Idris.Prelude.Types.Right', E1017} -> (fun (V3286) -> begin (V3291 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3287) -> fun (V3288) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V3287, V3288)) end end, fun (V3289) -> fun (V3290) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V3289, V3290)) end end}, V3286, V3279))), case V3291 of {'Idris.Prelude.Types.Left', E1018} -> (fun (V3292) -> {'Idris.Prelude.Types.Left', V3292} end(E1018)); {'Idris.Prelude.Types.Right', E1019} -> (fun (V3293) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V3293))))}, V3279)) end(E1019)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1017)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1015)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E1010, E1011, E1012, E1013)); _ -> case V3 of {'Idris.Core.Value.NTCon', E975, E976, E977, E978, E979} -> (fun (V3294, V3295, V3296, V3297, V3298) -> fun (V3299) -> begin (V3301 = begin (V3300 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3300} end), case V3301 of {'Idris.Prelude.Types.Left', E980} -> (fun (V3302) -> {'Idris.Prelude.Types.Left', V3302} end(E980)); {'Idris.Prelude.Types.Right', E981} -> (fun (V3303) -> begin (V3308 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3304) -> fun (V3305) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V3304, V3305)) end end, fun (V3306) -> fun (V3307) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V3306, V3307)) end end}, V3295, V3299))), case V3308 of {'Idris.Prelude.Types.Left', E982} -> (fun (V3309) -> {'Idris.Prelude.Types.Left', V3309} end(E982)); {'Idris.Prelude.Types.Right', E983} -> (fun (V3310) -> begin (V3311 = (('un--getNArgs'(V0, V3303, V3310, V3298))(V3299))), case V3311 of {'Idris.Prelude.Types.Left', E984} -> (fun (V3312) -> {'Idris.Prelude.Types.Left', V3312} end(E984)); {'Idris.Prelude.Types.Right', E985} -> (fun (V3313) -> case V3313 of {'Idris.Compiler.CompileExpr.User', E986, E987} -> (fun (V3314, V3315) -> begin (V3317 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3316) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3303, V3316)) end, V3315, []))(V3299))), case V3317 of {'Idris.Prelude.Types.Left', E988} -> (fun (V3318) -> {'Idris.Prelude.Types.Left', V3318} end(E988)); {'Idris.Prelude.Types.Right', E989} -> (fun (V3319) -> begin (V3321 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3320) -> ('un--nfToCFType'(V0, V3294, V2, V3320)) end, V3319, []))(V3299))), case V3321 of {'Idris.Prelude.Types.Left', E990} -> (fun (V3322) -> {'Idris.Prelude.Types.Left', V3322} end(E990)); {'Idris.Prelude.Types.Right', E991} -> (fun (V3323) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V3310, V3323}} end(E991)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E989)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E986, E987)); {'Idris.Compiler.CompileExpr.Struct', E992, E993} -> (fun (V3324, V3325) -> begin (V3336 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3326) -> case V3326 of {'Idris.Builtin.MkPair', E994, E995} -> (fun (V3327, V3328) -> fun (V3329) -> begin (V3330 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3303, V3328))(V3329))), case V3330 of {'Idris.Prelude.Types.Left', E996} -> (fun (V3331) -> {'Idris.Prelude.Types.Left', V3331} end(E996)); {'Idris.Prelude.Types.Right', E997} -> (fun (V3332) -> begin (V3333 = (('un--nfToCFType'(V0, V3294, 0, V3332))(V3329))), case V3333 of {'Idris.Prelude.Types.Left', E998} -> (fun (V3334) -> {'Idris.Prelude.Types.Left', V3334} end(E998)); {'Idris.Prelude.Types.Right', E999} -> (fun (V3335) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V3327, V3335}} end(E999)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E997)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E994, E995)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V3325, []))(V3299))), case V3336 of {'Idris.Prelude.Types.Left', E1000} -> (fun (V3337) -> {'Idris.Prelude.Types.Left', V3337} end(E1000)); {'Idris.Prelude.Types.Right', E1001} -> (fun (V3338) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V3324, V3338}} end(E1001)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E992, E993)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1002} -> (fun (V3339) -> begin (V3340 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3303, V3339))(V3299))), case V3340 of {'Idris.Prelude.Types.Left', E1003} -> (fun (V3341) -> {'Idris.Prelude.Types.Left', V3341} end(E1003)); {'Idris.Prelude.Types.Right', E1004} -> (fun (V3342) -> begin (V3343 = (('un--nfToCFType'(V0, V3294, V2, V3342))(V3299))), case V3343 of {'Idris.Prelude.Types.Left', E1005} -> (fun (V3344) -> {'Idris.Prelude.Types.Left', V3344} end(E1005)); {'Idris.Prelude.Types.Right', E1006} -> (fun (V3345) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V3345}} end(E1006)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1004)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1002)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E985)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E983)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E981)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E975, E976, E977, E978, E979)); {'Idris.Core.Value.NType', E1007} -> (fun (V3346) -> fun (V3347) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1007)); {'Idris.Core.Value.NErased', E1008, E1009} -> (fun (V3348, V3349) -> fun (V3350) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1008, E1009)); _ -> fun (V3351) -> begin (V3353 = begin (V3352 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3352} end), case V3353 of {'Idris.Prelude.Types.Left', E969} -> (fun (V3354) -> {'Idris.Prelude.Types.Left', V3354} end(E969)); {'Idris.Prelude.Types.Right', E970} -> (fun (V3355) -> begin (V3356 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V3355, {'Idris.Core.Env.Nil'}, V3, V3351))), case V3356 of {'Idris.Prelude.Types.Left', E971} -> (fun (V3357) -> {'Idris.Prelude.Types.Left', V3357} end(E971)); {'Idris.Prelude.Types.Right', E972} -> (fun (V3358) -> begin (V3363 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3359) -> fun (V3360) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V3359, V3360)) end end, fun (V3361) -> fun (V3362) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V3361, V3362)) end end}, V3358, V3351))), case V3363 of {'Idris.Prelude.Types.Left', E973} -> (fun (V3364) -> {'Idris.Prelude.Types.Left', V3364} end(E973)); {'Idris.Prelude.Types.Right', E974} -> (fun (V3365) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V3365))))}, V3351)) end(E974)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E972)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E970)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E1108, E1109, E1110, E1111} -> (fun (V3366, V3367, V3368, V3369) -> fun (V3370) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V3366, <<"Function types not allowed in a foreign struct"/utf8>>}, V3370)) end end(E1108, E1109, E1110, E1111)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1073, E1074, E1075, E1076, E1077} -> (fun (V3371, V3372, V3373, V3374, V3375) -> fun (V3376) -> begin (V3378 = begin (V3377 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3377} end), case V3378 of {'Idris.Prelude.Types.Left', E1078} -> (fun (V3379) -> {'Idris.Prelude.Types.Left', V3379} end(E1078)); {'Idris.Prelude.Types.Right', E1079} -> (fun (V3380) -> begin (V3385 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3381) -> fun (V3382) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V3381, V3382)) end end, fun (V3383) -> fun (V3384) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V3383, V3384)) end end}, V3372, V3376))), case V3385 of {'Idris.Prelude.Types.Left', E1080} -> (fun (V3386) -> {'Idris.Prelude.Types.Left', V3386} end(E1080)); {'Idris.Prelude.Types.Right', E1081} -> (fun (V3387) -> begin (V3388 = (('un--getNArgs'(V0, V3380, V3387, V3375))(V3376))), case V3388 of {'Idris.Prelude.Types.Left', E1082} -> (fun (V3389) -> {'Idris.Prelude.Types.Left', V3389} end(E1082)); {'Idris.Prelude.Types.Right', E1083} -> (fun (V3390) -> case V3390 of {'Idris.Compiler.CompileExpr.User', E1084, E1085} -> (fun (V3391, V3392) -> begin (V3394 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3393) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3380, V3393)) end, V3392, []))(V3376))), case V3394 of {'Idris.Prelude.Types.Left', E1086} -> (fun (V3395) -> {'Idris.Prelude.Types.Left', V3395} end(E1086)); {'Idris.Prelude.Types.Right', E1087} -> (fun (V3396) -> begin (V3398 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3397) -> ('un--nfToCFType'(V0, V3371, V2, V3397)) end, V3396, []))(V3376))), case V3398 of {'Idris.Prelude.Types.Left', E1088} -> (fun (V3399) -> {'Idris.Prelude.Types.Left', V3399} end(E1088)); {'Idris.Prelude.Types.Right', E1089} -> (fun (V3400) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V3387, V3400}} end(E1089)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1087)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1084, E1085)); {'Idris.Compiler.CompileExpr.Struct', E1090, E1091} -> (fun (V3401, V3402) -> begin (V3413 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3403) -> case V3403 of {'Idris.Builtin.MkPair', E1092, E1093} -> (fun (V3404, V3405) -> fun (V3406) -> begin (V3407 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3380, V3405))(V3406))), case V3407 of {'Idris.Prelude.Types.Left', E1094} -> (fun (V3408) -> {'Idris.Prelude.Types.Left', V3408} end(E1094)); {'Idris.Prelude.Types.Right', E1095} -> (fun (V3409) -> begin (V3410 = (('un--nfToCFType'(V0, V3371, 0, V3409))(V3406))), case V3410 of {'Idris.Prelude.Types.Left', E1096} -> (fun (V3411) -> {'Idris.Prelude.Types.Left', V3411} end(E1096)); {'Idris.Prelude.Types.Right', E1097} -> (fun (V3412) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V3404, V3412}} end(E1097)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1095)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1092, E1093)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V3402, []))(V3376))), case V3413 of {'Idris.Prelude.Types.Left', E1098} -> (fun (V3414) -> {'Idris.Prelude.Types.Left', V3414} end(E1098)); {'Idris.Prelude.Types.Right', E1099} -> (fun (V3415) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V3401, V3415}} end(E1099)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1090, E1091)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1100} -> (fun (V3416) -> begin (V3417 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3380, V3416))(V3376))), case V3417 of {'Idris.Prelude.Types.Left', E1101} -> (fun (V3418) -> {'Idris.Prelude.Types.Left', V3418} end(E1101)); {'Idris.Prelude.Types.Right', E1102} -> (fun (V3419) -> begin (V3420 = (('un--nfToCFType'(V0, V3371, V2, V3419))(V3376))), case V3420 of {'Idris.Prelude.Types.Left', E1103} -> (fun (V3421) -> {'Idris.Prelude.Types.Left', V3421} end(E1103)); {'Idris.Prelude.Types.Right', E1104} -> (fun (V3422) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V3422}} end(E1104)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1102)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1100)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1083)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1081)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1079)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1073, E1074, E1075, E1076, E1077)); {'Idris.Core.Value.NType', E1105} -> (fun (V3423) -> fun (V3424) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1105)); {'Idris.Core.Value.NErased', E1106, E1107} -> (fun (V3425, V3426) -> fun (V3427) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1106, E1107)); _ -> fun (V3428) -> begin (V3430 = begin (V3429 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3429} end), case V3430 of {'Idris.Prelude.Types.Left', E1067} -> (fun (V3431) -> {'Idris.Prelude.Types.Left', V3431} end(E1067)); {'Idris.Prelude.Types.Right', E1068} -> (fun (V3432) -> begin (V3433 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V3432, {'Idris.Core.Env.Nil'}, V3, V3428))), case V3433 of {'Idris.Prelude.Types.Left', E1069} -> (fun (V3434) -> {'Idris.Prelude.Types.Left', V3434} end(E1069)); {'Idris.Prelude.Types.Right', E1070} -> (fun (V3435) -> begin (V3440 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3436) -> fun (V3437) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V3436, V3437)) end end, fun (V3438) -> fun (V3439) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V3438, V3439)) end end}, V3435, V3428))), case V3440 of {'Idris.Prelude.Types.Left', E1071} -> (fun (V3441) -> {'Idris.Prelude.Types.Left', V3441} end(E1071)); {'Idris.Prelude.Types.Right', E1072} -> (fun (V3442) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V3442))))}, V3428)) end(E1072)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1070)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1068)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E934, E935, E936, E937, E938} -> (fun (V3443, V3444, V3445, V3446, V3447) -> fun (V3448) -> begin (V3450 = begin (V3449 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3449} end), case V3450 of {'Idris.Prelude.Types.Left', E939} -> (fun (V3451) -> {'Idris.Prelude.Types.Left', V3451} end(E939)); {'Idris.Prelude.Types.Right', E940} -> (fun (V3452) -> begin (V3457 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3453) -> fun (V3454) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V3453, V3454)) end end, fun (V3455) -> fun (V3456) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V3455, V3456)) end end}, V3444, V3448))), case V3457 of {'Idris.Prelude.Types.Left', E941} -> (fun (V3458) -> {'Idris.Prelude.Types.Left', V3458} end(E941)); {'Idris.Prelude.Types.Right', E942} -> (fun (V3459) -> begin (V3460 = (('un--getNArgs'(V0, V3452, V3459, V3447))(V3448))), case V3460 of {'Idris.Prelude.Types.Left', E943} -> (fun (V3461) -> {'Idris.Prelude.Types.Left', V3461} end(E943)); {'Idris.Prelude.Types.Right', E944} -> (fun (V3462) -> case V3462 of {'Idris.Compiler.CompileExpr.User', E945, E946} -> (fun (V3463, V3464) -> begin (V3466 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3465) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3452, V3465)) end, V3464, []))(V3448))), case V3466 of {'Idris.Prelude.Types.Left', E947} -> (fun (V3467) -> {'Idris.Prelude.Types.Left', V3467} end(E947)); {'Idris.Prelude.Types.Right', E948} -> (fun (V3468) -> begin (V3470 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3469) -> ('un--nfToCFType'(V0, V3443, V2, V3469)) end, V3468, []))(V3448))), case V3470 of {'Idris.Prelude.Types.Left', E949} -> (fun (V3471) -> {'Idris.Prelude.Types.Left', V3471} end(E949)); {'Idris.Prelude.Types.Right', E950} -> (fun (V3472) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V3459, V3472}} end(E950)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E948)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E945, E946)); {'Idris.Compiler.CompileExpr.Struct', E951, E952} -> (fun (V3473, V3474) -> begin (V3485 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3475) -> case V3475 of {'Idris.Builtin.MkPair', E953, E954} -> (fun (V3476, V3477) -> fun (V3478) -> begin (V3479 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3452, V3477))(V3478))), case V3479 of {'Idris.Prelude.Types.Left', E955} -> (fun (V3480) -> {'Idris.Prelude.Types.Left', V3480} end(E955)); {'Idris.Prelude.Types.Right', E956} -> (fun (V3481) -> begin (V3482 = (('un--nfToCFType'(V0, V3443, 0, V3481))(V3478))), case V3482 of {'Idris.Prelude.Types.Left', E957} -> (fun (V3483) -> {'Idris.Prelude.Types.Left', V3483} end(E957)); {'Idris.Prelude.Types.Right', E958} -> (fun (V3484) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V3476, V3484}} end(E958)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E956)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E953, E954)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V3474, []))(V3448))), case V3485 of {'Idris.Prelude.Types.Left', E959} -> (fun (V3486) -> {'Idris.Prelude.Types.Left', V3486} end(E959)); {'Idris.Prelude.Types.Right', E960} -> (fun (V3487) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V3473, V3487}} end(E960)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E951, E952)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E961} -> (fun (V3488) -> begin (V3489 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3452, V3488))(V3448))), case V3489 of {'Idris.Prelude.Types.Left', E962} -> (fun (V3490) -> {'Idris.Prelude.Types.Left', V3490} end(E962)); {'Idris.Prelude.Types.Right', E963} -> (fun (V3491) -> begin (V3492 = (('un--nfToCFType'(V0, V3443, V2, V3491))(V3448))), case V3492 of {'Idris.Prelude.Types.Left', E964} -> (fun (V3493) -> {'Idris.Prelude.Types.Left', V3493} end(E964)); {'Idris.Prelude.Types.Right', E965} -> (fun (V3494) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V3494}} end(E965)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E963)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E961)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E944)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E942)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E940)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E934, E935, E936, E937, E938)); {'Idris.Core.Value.NType', E966} -> (fun (V3495) -> fun (V3496) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E966)); {'Idris.Core.Value.NErased', E967, E968} -> (fun (V3497, V3498) -> fun (V3499) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E967, E968)); _ -> fun (V3500) -> begin (V3502 = begin (V3501 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3501} end), case V3502 of {'Idris.Prelude.Types.Left', E928} -> (fun (V3503) -> {'Idris.Prelude.Types.Left', V3503} end(E928)); {'Idris.Prelude.Types.Right', E929} -> (fun (V3504) -> begin (V3505 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V3504, {'Idris.Core.Env.Nil'}, V3, V3500))), case V3505 of {'Idris.Prelude.Types.Left', E930} -> (fun (V3506) -> {'Idris.Prelude.Types.Left', V3506} end(E930)); {'Idris.Prelude.Types.Right', E931} -> (fun (V3507) -> begin (V3512 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3508) -> fun (V3509) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V3508, V3509)) end end, fun (V3510) -> fun (V3511) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V3510, V3511)) end end}, V3507, V3500))), case V3512 of {'Idris.Prelude.Types.Left', E932} -> (fun (V3513) -> {'Idris.Prelude.Types.Left', V3513} end(E932)); {'Idris.Prelude.Types.Right', E933} -> (fun (V3514) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V3514))))}, V3500)) end(E933)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E931)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E929)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end(E926, E927)); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E824, E825, E826, E827} -> (fun (V3515, V3516, V3517, V3518) -> case V3517 of {'Idris.Core.TT.Pi', E869, E870, E871, E872} -> (fun (V3519, V3520, V3521, V3522) -> fun (V3523) -> begin (V3525 = begin (V3524 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3524} end), case V3525 of {'Idris.Prelude.Types.Left', E873} -> (fun (V3526) -> {'Idris.Prelude.Types.Left', V3526} end(E873)); {'Idris.Prelude.Types.Right', E874} -> (fun (V3527) -> begin (V3528 = (('un--nfToCFType'(V0, V3515, 1, V3522))(V3523))), case V3528 of {'Idris.Prelude.Types.Left', E875} -> (fun (V3529) -> {'Idris.Prelude.Types.Left', V3529} end(E875)); {'Idris.Prelude.Types.Right', E876} -> (fun (V3530) -> begin (V3531 = (((V3518(V3527))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V3515, 1}))))(V3523))), case V3531 of {'Idris.Prelude.Types.Left', E877} -> (fun (V3532) -> {'Idris.Prelude.Types.Left', V3532} end(E877)); {'Idris.Prelude.Types.Right', E878} -> (fun (V3533) -> begin (V3534 = (('un--nfToCFType'(V0, V3515, 1, V3533))(V3523))), case V3534 of {'Idris.Prelude.Types.Left', E879} -> (fun (V3535) -> {'Idris.Prelude.Types.Left', V3535} end(E879)); {'Idris.Prelude.Types.Right', E880} -> (fun (V3536) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V3530, V3536}} end(E880)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E878)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E876)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E874)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E869, E870, E871, E872)); _ -> case V3 of {'Idris.Core.Value.NTCon', E834, E835, E836, E837, E838} -> (fun (V3537, V3538, V3539, V3540, V3541) -> fun (V3542) -> begin (V3544 = begin (V3543 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3543} end), case V3544 of {'Idris.Prelude.Types.Left', E839} -> (fun (V3545) -> {'Idris.Prelude.Types.Left', V3545} end(E839)); {'Idris.Prelude.Types.Right', E840} -> (fun (V3546) -> begin (V3551 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3547) -> fun (V3548) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V3547, V3548)) end end, fun (V3549) -> fun (V3550) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V3549, V3550)) end end}, V3538, V3542))), case V3551 of {'Idris.Prelude.Types.Left', E841} -> (fun (V3552) -> {'Idris.Prelude.Types.Left', V3552} end(E841)); {'Idris.Prelude.Types.Right', E842} -> (fun (V3553) -> begin (V3554 = (('un--getNArgs'(V0, V3546, V3553, V3541))(V3542))), case V3554 of {'Idris.Prelude.Types.Left', E843} -> (fun (V3555) -> {'Idris.Prelude.Types.Left', V3555} end(E843)); {'Idris.Prelude.Types.Right', E844} -> (fun (V3556) -> case V3556 of {'Idris.Compiler.CompileExpr.User', E845, E846} -> (fun (V3557, V3558) -> begin (V3560 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3559) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3546, V3559)) end, V3558, []))(V3542))), case V3560 of {'Idris.Prelude.Types.Left', E847} -> (fun (V3561) -> {'Idris.Prelude.Types.Left', V3561} end(E847)); {'Idris.Prelude.Types.Right', E848} -> (fun (V3562) -> begin (V3564 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3563) -> ('un--nfToCFType'(V0, V3537, V2, V3563)) end, V3562, []))(V3542))), case V3564 of {'Idris.Prelude.Types.Left', E849} -> (fun (V3565) -> {'Idris.Prelude.Types.Left', V3565} end(E849)); {'Idris.Prelude.Types.Right', E850} -> (fun (V3566) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V3553, V3566}} end(E850)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E848)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E845, E846)); {'Idris.Compiler.CompileExpr.Struct', E851, E852} -> (fun (V3567, V3568) -> begin (V3579 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3569) -> case V3569 of {'Idris.Builtin.MkPair', E853, E854} -> (fun (V3570, V3571) -> fun (V3572) -> begin (V3573 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3546, V3571))(V3572))), case V3573 of {'Idris.Prelude.Types.Left', E855} -> (fun (V3574) -> {'Idris.Prelude.Types.Left', V3574} end(E855)); {'Idris.Prelude.Types.Right', E856} -> (fun (V3575) -> begin (V3576 = (('un--nfToCFType'(V0, V3537, 0, V3575))(V3572))), case V3576 of {'Idris.Prelude.Types.Left', E857} -> (fun (V3577) -> {'Idris.Prelude.Types.Left', V3577} end(E857)); {'Idris.Prelude.Types.Right', E858} -> (fun (V3578) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V3570, V3578}} end(E858)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E856)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E853, E854)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V3568, []))(V3542))), case V3579 of {'Idris.Prelude.Types.Left', E859} -> (fun (V3580) -> {'Idris.Prelude.Types.Left', V3580} end(E859)); {'Idris.Prelude.Types.Right', E860} -> (fun (V3581) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V3567, V3581}} end(E860)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E851, E852)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E861} -> (fun (V3582) -> begin (V3583 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3546, V3582))(V3542))), case V3583 of {'Idris.Prelude.Types.Left', E862} -> (fun (V3584) -> {'Idris.Prelude.Types.Left', V3584} end(E862)); {'Idris.Prelude.Types.Right', E863} -> (fun (V3585) -> begin (V3586 = (('un--nfToCFType'(V0, V3537, V2, V3585))(V3542))), case V3586 of {'Idris.Prelude.Types.Left', E864} -> (fun (V3587) -> {'Idris.Prelude.Types.Left', V3587} end(E864)); {'Idris.Prelude.Types.Right', E865} -> (fun (V3588) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V3588}} end(E865)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E863)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E861)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E844)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E842)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E840)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E834, E835, E836, E837, E838)); {'Idris.Core.Value.NType', E866} -> (fun (V3589) -> fun (V3590) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E866)); {'Idris.Core.Value.NErased', E867, E868} -> (fun (V3591, V3592) -> fun (V3593) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E867, E868)); _ -> fun (V3594) -> begin (V3596 = begin (V3595 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3595} end), case V3596 of {'Idris.Prelude.Types.Left', E828} -> (fun (V3597) -> {'Idris.Prelude.Types.Left', V3597} end(E828)); {'Idris.Prelude.Types.Right', E829} -> (fun (V3598) -> begin (V3599 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V3598, {'Idris.Core.Env.Nil'}, V3, V3594))), case V3599 of {'Idris.Prelude.Types.Left', E830} -> (fun (V3600) -> {'Idris.Prelude.Types.Left', V3600} end(E830)); {'Idris.Prelude.Types.Right', E831} -> (fun (V3601) -> begin (V3606 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3602) -> fun (V3603) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V3602, V3603)) end end, fun (V3604) -> fun (V3605) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V3604, V3605)) end end}, V3601, V3594))), case V3606 of {'Idris.Prelude.Types.Left', E832} -> (fun (V3607) -> {'Idris.Prelude.Types.Left', V3607} end(E832)); {'Idris.Prelude.Types.Right', E833} -> (fun (V3608) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V3608))))}, V3594)) end(E833)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E831)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E829)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E824, E825, E826, E827)); _ -> case V3 of {'Idris.Core.Value.NTCon', E789, E790, E791, E792, E793} -> (fun (V3609, V3610, V3611, V3612, V3613) -> fun (V3614) -> begin (V3616 = begin (V3615 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3615} end), case V3616 of {'Idris.Prelude.Types.Left', E794} -> (fun (V3617) -> {'Idris.Prelude.Types.Left', V3617} end(E794)); {'Idris.Prelude.Types.Right', E795} -> (fun (V3618) -> begin (V3623 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3619) -> fun (V3620) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V3619, V3620)) end end, fun (V3621) -> fun (V3622) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V3621, V3622)) end end}, V3610, V3614))), case V3623 of {'Idris.Prelude.Types.Left', E796} -> (fun (V3624) -> {'Idris.Prelude.Types.Left', V3624} end(E796)); {'Idris.Prelude.Types.Right', E797} -> (fun (V3625) -> begin (V3626 = (('un--getNArgs'(V0, V3618, V3625, V3613))(V3614))), case V3626 of {'Idris.Prelude.Types.Left', E798} -> (fun (V3627) -> {'Idris.Prelude.Types.Left', V3627} end(E798)); {'Idris.Prelude.Types.Right', E799} -> (fun (V3628) -> case V3628 of {'Idris.Compiler.CompileExpr.User', E800, E801} -> (fun (V3629, V3630) -> begin (V3632 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3631) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3618, V3631)) end, V3630, []))(V3614))), case V3632 of {'Idris.Prelude.Types.Left', E802} -> (fun (V3633) -> {'Idris.Prelude.Types.Left', V3633} end(E802)); {'Idris.Prelude.Types.Right', E803} -> (fun (V3634) -> begin (V3636 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3635) -> ('un--nfToCFType'(V0, V3609, V2, V3635)) end, V3634, []))(V3614))), case V3636 of {'Idris.Prelude.Types.Left', E804} -> (fun (V3637) -> {'Idris.Prelude.Types.Left', V3637} end(E804)); {'Idris.Prelude.Types.Right', E805} -> (fun (V3638) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V3625, V3638}} end(E805)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E803)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E800, E801)); {'Idris.Compiler.CompileExpr.Struct', E806, E807} -> (fun (V3639, V3640) -> begin (V3651 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3641) -> case V3641 of {'Idris.Builtin.MkPair', E808, E809} -> (fun (V3642, V3643) -> fun (V3644) -> begin (V3645 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3618, V3643))(V3644))), case V3645 of {'Idris.Prelude.Types.Left', E810} -> (fun (V3646) -> {'Idris.Prelude.Types.Left', V3646} end(E810)); {'Idris.Prelude.Types.Right', E811} -> (fun (V3647) -> begin (V3648 = (('un--nfToCFType'(V0, V3609, 0, V3647))(V3644))), case V3648 of {'Idris.Prelude.Types.Left', E812} -> (fun (V3649) -> {'Idris.Prelude.Types.Left', V3649} end(E812)); {'Idris.Prelude.Types.Right', E813} -> (fun (V3650) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V3642, V3650}} end(E813)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E811)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E808, E809)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V3640, []))(V3614))), case V3651 of {'Idris.Prelude.Types.Left', E814} -> (fun (V3652) -> {'Idris.Prelude.Types.Left', V3652} end(E814)); {'Idris.Prelude.Types.Right', E815} -> (fun (V3653) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V3639, V3653}} end(E815)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E806, E807)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E816} -> (fun (V3654) -> begin (V3655 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3618, V3654))(V3614))), case V3655 of {'Idris.Prelude.Types.Left', E817} -> (fun (V3656) -> {'Idris.Prelude.Types.Left', V3656} end(E817)); {'Idris.Prelude.Types.Right', E818} -> (fun (V3657) -> begin (V3658 = (('un--nfToCFType'(V0, V3609, V2, V3657))(V3614))), case V3658 of {'Idris.Prelude.Types.Left', E819} -> (fun (V3659) -> {'Idris.Prelude.Types.Left', V3659} end(E819)); {'Idris.Prelude.Types.Right', E820} -> (fun (V3660) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V3660}} end(E820)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E818)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E816)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E799)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E797)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E795)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E789, E790, E791, E792, E793)); {'Idris.Core.Value.NType', E821} -> (fun (V3661) -> fun (V3662) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E821)); {'Idris.Core.Value.NErased', E822, E823} -> (fun (V3663, V3664) -> fun (V3665) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E822, E823)); _ -> fun (V3666) -> begin (V3668 = begin (V3667 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3667} end), case V3668 of {'Idris.Prelude.Types.Left', E783} -> (fun (V3669) -> {'Idris.Prelude.Types.Left', V3669} end(E783)); {'Idris.Prelude.Types.Right', E784} -> (fun (V3670) -> begin (V3671 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V3670, {'Idris.Core.Env.Nil'}, V3, V3666))), case V3671 of {'Idris.Prelude.Types.Left', E785} -> (fun (V3672) -> {'Idris.Prelude.Types.Left', V3672} end(E785)); {'Idris.Prelude.Types.Right', E786} -> (fun (V3673) -> begin (V3678 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3674) -> fun (V3675) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V3674, V3675)) end end, fun (V3676) -> fun (V3677) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V3676, V3677)) end end}, V3673, V3666))), case V3678 of {'Idris.Prelude.Types.Left', E787} -> (fun (V3679) -> {'Idris.Prelude.Types.Left', V3679} end(E787)); {'Idris.Prelude.Types.Right', E788} -> (fun (V3680) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V3680))))}, V3666)) end(E788)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E786)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E784)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E922, E923, E924, E925} -> (fun (V3681, V3682, V3683, V3684) -> fun (V3685) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V3681, <<"Function types not allowed in a foreign struct"/utf8>>}, V3685)) end end(E922, E923, E924, E925)); _ -> case V3 of {'Idris.Core.Value.NTCon', E887, E888, E889, E890, E891} -> (fun (V3686, V3687, V3688, V3689, V3690) -> fun (V3691) -> begin (V3693 = begin (V3692 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3692} end), case V3693 of {'Idris.Prelude.Types.Left', E892} -> (fun (V3694) -> {'Idris.Prelude.Types.Left', V3694} end(E892)); {'Idris.Prelude.Types.Right', E893} -> (fun (V3695) -> begin (V3700 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3696) -> fun (V3697) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V3696, V3697)) end end, fun (V3698) -> fun (V3699) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V3698, V3699)) end end}, V3687, V3691))), case V3700 of {'Idris.Prelude.Types.Left', E894} -> (fun (V3701) -> {'Idris.Prelude.Types.Left', V3701} end(E894)); {'Idris.Prelude.Types.Right', E895} -> (fun (V3702) -> begin (V3703 = (('un--getNArgs'(V0, V3695, V3702, V3690))(V3691))), case V3703 of {'Idris.Prelude.Types.Left', E896} -> (fun (V3704) -> {'Idris.Prelude.Types.Left', V3704} end(E896)); {'Idris.Prelude.Types.Right', E897} -> (fun (V3705) -> case V3705 of {'Idris.Compiler.CompileExpr.User', E898, E899} -> (fun (V3706, V3707) -> begin (V3709 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3708) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3695, V3708)) end, V3707, []))(V3691))), case V3709 of {'Idris.Prelude.Types.Left', E900} -> (fun (V3710) -> {'Idris.Prelude.Types.Left', V3710} end(E900)); {'Idris.Prelude.Types.Right', E901} -> (fun (V3711) -> begin (V3713 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3712) -> ('un--nfToCFType'(V0, V3686, V2, V3712)) end, V3711, []))(V3691))), case V3713 of {'Idris.Prelude.Types.Left', E902} -> (fun (V3714) -> {'Idris.Prelude.Types.Left', V3714} end(E902)); {'Idris.Prelude.Types.Right', E903} -> (fun (V3715) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V3702, V3715}} end(E903)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E901)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E898, E899)); {'Idris.Compiler.CompileExpr.Struct', E904, E905} -> (fun (V3716, V3717) -> begin (V3728 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3718) -> case V3718 of {'Idris.Builtin.MkPair', E906, E907} -> (fun (V3719, V3720) -> fun (V3721) -> begin (V3722 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3695, V3720))(V3721))), case V3722 of {'Idris.Prelude.Types.Left', E908} -> (fun (V3723) -> {'Idris.Prelude.Types.Left', V3723} end(E908)); {'Idris.Prelude.Types.Right', E909} -> (fun (V3724) -> begin (V3725 = (('un--nfToCFType'(V0, V3686, 0, V3724))(V3721))), case V3725 of {'Idris.Prelude.Types.Left', E910} -> (fun (V3726) -> {'Idris.Prelude.Types.Left', V3726} end(E910)); {'Idris.Prelude.Types.Right', E911} -> (fun (V3727) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V3719, V3727}} end(E911)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E909)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E906, E907)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V3717, []))(V3691))), case V3728 of {'Idris.Prelude.Types.Left', E912} -> (fun (V3729) -> {'Idris.Prelude.Types.Left', V3729} end(E912)); {'Idris.Prelude.Types.Right', E913} -> (fun (V3730) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V3716, V3730}} end(E913)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E904, E905)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E914} -> (fun (V3731) -> begin (V3732 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3695, V3731))(V3691))), case V3732 of {'Idris.Prelude.Types.Left', E915} -> (fun (V3733) -> {'Idris.Prelude.Types.Left', V3733} end(E915)); {'Idris.Prelude.Types.Right', E916} -> (fun (V3734) -> begin (V3735 = (('un--nfToCFType'(V0, V3686, V2, V3734))(V3691))), case V3735 of {'Idris.Prelude.Types.Left', E917} -> (fun (V3736) -> {'Idris.Prelude.Types.Left', V3736} end(E917)); {'Idris.Prelude.Types.Right', E918} -> (fun (V3737) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V3737}} end(E918)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E916)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E914)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E897)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E895)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E893)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E887, E888, E889, E890, E891)); {'Idris.Core.Value.NType', E919} -> (fun (V3738) -> fun (V3739) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E919)); {'Idris.Core.Value.NErased', E920, E921} -> (fun (V3740, V3741) -> fun (V3742) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E920, E921)); _ -> fun (V3743) -> begin (V3745 = begin (V3744 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3744} end), case V3745 of {'Idris.Prelude.Types.Left', E881} -> (fun (V3746) -> {'Idris.Prelude.Types.Left', V3746} end(E881)); {'Idris.Prelude.Types.Right', E882} -> (fun (V3747) -> begin (V3748 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V3747, {'Idris.Core.Env.Nil'}, V3, V3743))), case V3748 of {'Idris.Prelude.Types.Left', E883} -> (fun (V3749) -> {'Idris.Prelude.Types.Left', V3749} end(E883)); {'Idris.Prelude.Types.Right', E884} -> (fun (V3750) -> begin (V3755 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3751) -> fun (V3752) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V3751, V3752)) end end, fun (V3753) -> fun (V3754) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V3753, V3754)) end end}, V3750, V3743))), case V3755 of {'Idris.Prelude.Types.Left', E885} -> (fun (V3756) -> {'Idris.Prelude.Types.Left', V3756} end(E885)); {'Idris.Prelude.Types.Right', E886} -> (fun (V3757) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V3757))))}, V3743)) end(E886)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E884)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E882)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E748, E749, E750, E751, E752} -> (fun (V3758, V3759, V3760, V3761, V3762) -> fun (V3763) -> begin (V3765 = begin (V3764 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3764} end), case V3765 of {'Idris.Prelude.Types.Left', E753} -> (fun (V3766) -> {'Idris.Prelude.Types.Left', V3766} end(E753)); {'Idris.Prelude.Types.Right', E754} -> (fun (V3767) -> begin (V3772 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3768) -> fun (V3769) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V3768, V3769)) end end, fun (V3770) -> fun (V3771) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V3770, V3771)) end end}, V3759, V3763))), case V3772 of {'Idris.Prelude.Types.Left', E755} -> (fun (V3773) -> {'Idris.Prelude.Types.Left', V3773} end(E755)); {'Idris.Prelude.Types.Right', E756} -> (fun (V3774) -> begin (V3775 = (('un--getNArgs'(V0, V3767, V3774, V3762))(V3763))), case V3775 of {'Idris.Prelude.Types.Left', E757} -> (fun (V3776) -> {'Idris.Prelude.Types.Left', V3776} end(E757)); {'Idris.Prelude.Types.Right', E758} -> (fun (V3777) -> case V3777 of {'Idris.Compiler.CompileExpr.User', E759, E760} -> (fun (V3778, V3779) -> begin (V3781 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3780) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3767, V3780)) end, V3779, []))(V3763))), case V3781 of {'Idris.Prelude.Types.Left', E761} -> (fun (V3782) -> {'Idris.Prelude.Types.Left', V3782} end(E761)); {'Idris.Prelude.Types.Right', E762} -> (fun (V3783) -> begin (V3785 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3784) -> ('un--nfToCFType'(V0, V3758, V2, V3784)) end, V3783, []))(V3763))), case V3785 of {'Idris.Prelude.Types.Left', E763} -> (fun (V3786) -> {'Idris.Prelude.Types.Left', V3786} end(E763)); {'Idris.Prelude.Types.Right', E764} -> (fun (V3787) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V3774, V3787}} end(E764)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E762)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E759, E760)); {'Idris.Compiler.CompileExpr.Struct', E765, E766} -> (fun (V3788, V3789) -> begin (V3800 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3790) -> case V3790 of {'Idris.Builtin.MkPair', E767, E768} -> (fun (V3791, V3792) -> fun (V3793) -> begin (V3794 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3767, V3792))(V3793))), case V3794 of {'Idris.Prelude.Types.Left', E769} -> (fun (V3795) -> {'Idris.Prelude.Types.Left', V3795} end(E769)); {'Idris.Prelude.Types.Right', E770} -> (fun (V3796) -> begin (V3797 = (('un--nfToCFType'(V0, V3758, 0, V3796))(V3793))), case V3797 of {'Idris.Prelude.Types.Left', E771} -> (fun (V3798) -> {'Idris.Prelude.Types.Left', V3798} end(E771)); {'Idris.Prelude.Types.Right', E772} -> (fun (V3799) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V3791, V3799}} end(E772)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E770)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E767, E768)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V3789, []))(V3763))), case V3800 of {'Idris.Prelude.Types.Left', E773} -> (fun (V3801) -> {'Idris.Prelude.Types.Left', V3801} end(E773)); {'Idris.Prelude.Types.Right', E774} -> (fun (V3802) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V3788, V3802}} end(E774)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E765, E766)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E775} -> (fun (V3803) -> begin (V3804 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3767, V3803))(V3763))), case V3804 of {'Idris.Prelude.Types.Left', E776} -> (fun (V3805) -> {'Idris.Prelude.Types.Left', V3805} end(E776)); {'Idris.Prelude.Types.Right', E777} -> (fun (V3806) -> begin (V3807 = (('un--nfToCFType'(V0, V3758, V2, V3806))(V3763))), case V3807 of {'Idris.Prelude.Types.Left', E778} -> (fun (V3808) -> {'Idris.Prelude.Types.Left', V3808} end(E778)); {'Idris.Prelude.Types.Right', E779} -> (fun (V3809) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V3809}} end(E779)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E777)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E775)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E758)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E756)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E754)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E748, E749, E750, E751, E752)); {'Idris.Core.Value.NType', E780} -> (fun (V3810) -> fun (V3811) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E780)); {'Idris.Core.Value.NErased', E781, E782} -> (fun (V3812, V3813) -> fun (V3814) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E781, E782)); _ -> fun (V3815) -> begin (V3817 = begin (V3816 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3816} end), case V3817 of {'Idris.Prelude.Types.Left', E742} -> (fun (V3818) -> {'Idris.Prelude.Types.Left', V3818} end(E742)); {'Idris.Prelude.Types.Right', E743} -> (fun (V3819) -> begin (V3820 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V3819, {'Idris.Core.Env.Nil'}, V3, V3815))), case V3820 of {'Idris.Prelude.Types.Left', E744} -> (fun (V3821) -> {'Idris.Prelude.Types.Left', V3821} end(E744)); {'Idris.Prelude.Types.Right', E745} -> (fun (V3822) -> begin (V3827 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3823) -> fun (V3824) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V3823, V3824)) end end, fun (V3825) -> fun (V3826) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V3825, V3826)) end end}, V3822, V3815))), case V3827 of {'Idris.Prelude.Types.Left', E746} -> (fun (V3828) -> {'Idris.Prelude.Types.Left', V3828} end(E746)); {'Idris.Prelude.Types.Right', E747} -> (fun (V3829) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V3829))))}, V3815)) end(E747)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E745)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E743)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end end(E740, E741)); _ -> case V3 of {'Idris.Core.Value.NPrimVal', E554, E555} -> (fun (V3830, V3831) -> case V3831 of {'Idris.Core.TT.DoubleType'} -> (fun () -> fun (V3832) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFDouble'}} end end()); {'Idris.Core.TT.CharType'} -> (fun () -> fun (V3833) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFChar'}} end end()); {'Idris.Core.TT.WorldType'} -> (fun () -> fun (V3834) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFWorld'}} end end()); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E638, E639, E640, E641} -> (fun (V3835, V3836, V3837, V3838) -> case V3837 of {'Idris.Core.TT.Pi', E683, E684, E685, E686} -> (fun (V3839, V3840, V3841, V3842) -> fun (V3843) -> begin (V3845 = begin (V3844 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3844} end), case V3845 of {'Idris.Prelude.Types.Left', E687} -> (fun (V3846) -> {'Idris.Prelude.Types.Left', V3846} end(E687)); {'Idris.Prelude.Types.Right', E688} -> (fun (V3847) -> begin (V3848 = (('un--nfToCFType'(V0, V3835, 1, V3842))(V3843))), case V3848 of {'Idris.Prelude.Types.Left', E689} -> (fun (V3849) -> {'Idris.Prelude.Types.Left', V3849} end(E689)); {'Idris.Prelude.Types.Right', E690} -> (fun (V3850) -> begin (V3851 = (((V3838(V3847))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V3835, 1}))))(V3843))), case V3851 of {'Idris.Prelude.Types.Left', E691} -> (fun (V3852) -> {'Idris.Prelude.Types.Left', V3852} end(E691)); {'Idris.Prelude.Types.Right', E692} -> (fun (V3853) -> begin (V3854 = (('un--nfToCFType'(V0, V3835, 1, V3853))(V3843))), case V3854 of {'Idris.Prelude.Types.Left', E693} -> (fun (V3855) -> {'Idris.Prelude.Types.Left', V3855} end(E693)); {'Idris.Prelude.Types.Right', E694} -> (fun (V3856) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V3850, V3856}} end(E694)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E692)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E690)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E688)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E683, E684, E685, E686)); _ -> case V3 of {'Idris.Core.Value.NTCon', E648, E649, E650, E651, E652} -> (fun (V3857, V3858, V3859, V3860, V3861) -> fun (V3862) -> begin (V3864 = begin (V3863 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3863} end), case V3864 of {'Idris.Prelude.Types.Left', E653} -> (fun (V3865) -> {'Idris.Prelude.Types.Left', V3865} end(E653)); {'Idris.Prelude.Types.Right', E654} -> (fun (V3866) -> begin (V3871 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3867) -> fun (V3868) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V3867, V3868)) end end, fun (V3869) -> fun (V3870) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V3869, V3870)) end end}, V3858, V3862))), case V3871 of {'Idris.Prelude.Types.Left', E655} -> (fun (V3872) -> {'Idris.Prelude.Types.Left', V3872} end(E655)); {'Idris.Prelude.Types.Right', E656} -> (fun (V3873) -> begin (V3874 = (('un--getNArgs'(V0, V3866, V3873, V3861))(V3862))), case V3874 of {'Idris.Prelude.Types.Left', E657} -> (fun (V3875) -> {'Idris.Prelude.Types.Left', V3875} end(E657)); {'Idris.Prelude.Types.Right', E658} -> (fun (V3876) -> case V3876 of {'Idris.Compiler.CompileExpr.User', E659, E660} -> (fun (V3877, V3878) -> begin (V3880 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3879) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3866, V3879)) end, V3878, []))(V3862))), case V3880 of {'Idris.Prelude.Types.Left', E661} -> (fun (V3881) -> {'Idris.Prelude.Types.Left', V3881} end(E661)); {'Idris.Prelude.Types.Right', E662} -> (fun (V3882) -> begin (V3884 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3883) -> ('un--nfToCFType'(V0, V3857, V2, V3883)) end, V3882, []))(V3862))), case V3884 of {'Idris.Prelude.Types.Left', E663} -> (fun (V3885) -> {'Idris.Prelude.Types.Left', V3885} end(E663)); {'Idris.Prelude.Types.Right', E664} -> (fun (V3886) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V3873, V3886}} end(E664)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E662)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E659, E660)); {'Idris.Compiler.CompileExpr.Struct', E665, E666} -> (fun (V3887, V3888) -> begin (V3899 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3889) -> case V3889 of {'Idris.Builtin.MkPair', E667, E668} -> (fun (V3890, V3891) -> fun (V3892) -> begin (V3893 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3866, V3891))(V3892))), case V3893 of {'Idris.Prelude.Types.Left', E669} -> (fun (V3894) -> {'Idris.Prelude.Types.Left', V3894} end(E669)); {'Idris.Prelude.Types.Right', E670} -> (fun (V3895) -> begin (V3896 = (('un--nfToCFType'(V0, V3857, 0, V3895))(V3892))), case V3896 of {'Idris.Prelude.Types.Left', E671} -> (fun (V3897) -> {'Idris.Prelude.Types.Left', V3897} end(E671)); {'Idris.Prelude.Types.Right', E672} -> (fun (V3898) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V3890, V3898}} end(E672)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E670)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E667, E668)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V3888, []))(V3862))), case V3899 of {'Idris.Prelude.Types.Left', E673} -> (fun (V3900) -> {'Idris.Prelude.Types.Left', V3900} end(E673)); {'Idris.Prelude.Types.Right', E674} -> (fun (V3901) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V3887, V3901}} end(E674)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E665, E666)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E675} -> (fun (V3902) -> begin (V3903 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3866, V3902))(V3862))), case V3903 of {'Idris.Prelude.Types.Left', E676} -> (fun (V3904) -> {'Idris.Prelude.Types.Left', V3904} end(E676)); {'Idris.Prelude.Types.Right', E677} -> (fun (V3905) -> begin (V3906 = (('un--nfToCFType'(V0, V3857, V2, V3905))(V3862))), case V3906 of {'Idris.Prelude.Types.Left', E678} -> (fun (V3907) -> {'Idris.Prelude.Types.Left', V3907} end(E678)); {'Idris.Prelude.Types.Right', E679} -> (fun (V3908) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V3908}} end(E679)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E677)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E675)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E658)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E656)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E654)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E648, E649, E650, E651, E652)); {'Idris.Core.Value.NType', E680} -> (fun (V3909) -> fun (V3910) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E680)); {'Idris.Core.Value.NErased', E681, E682} -> (fun (V3911, V3912) -> fun (V3913) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E681, E682)); _ -> fun (V3914) -> begin (V3916 = begin (V3915 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3915} end), case V3916 of {'Idris.Prelude.Types.Left', E642} -> (fun (V3917) -> {'Idris.Prelude.Types.Left', V3917} end(E642)); {'Idris.Prelude.Types.Right', E643} -> (fun (V3918) -> begin (V3919 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V3918, {'Idris.Core.Env.Nil'}, V3, V3914))), case V3919 of {'Idris.Prelude.Types.Left', E644} -> (fun (V3920) -> {'Idris.Prelude.Types.Left', V3920} end(E644)); {'Idris.Prelude.Types.Right', E645} -> (fun (V3921) -> begin (V3926 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3922) -> fun (V3923) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V3922, V3923)) end end, fun (V3924) -> fun (V3925) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V3924, V3925)) end end}, V3921, V3914))), case V3926 of {'Idris.Prelude.Types.Left', E646} -> (fun (V3927) -> {'Idris.Prelude.Types.Left', V3927} end(E646)); {'Idris.Prelude.Types.Right', E647} -> (fun (V3928) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V3928))))}, V3914)) end(E647)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E645)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E643)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E638, E639, E640, E641)); _ -> case V3 of {'Idris.Core.Value.NTCon', E603, E604, E605, E606, E607} -> (fun (V3929, V3930, V3931, V3932, V3933) -> fun (V3934) -> begin (V3936 = begin (V3935 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3935} end), case V3936 of {'Idris.Prelude.Types.Left', E608} -> (fun (V3937) -> {'Idris.Prelude.Types.Left', V3937} end(E608)); {'Idris.Prelude.Types.Right', E609} -> (fun (V3938) -> begin (V3943 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3939) -> fun (V3940) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V3939, V3940)) end end, fun (V3941) -> fun (V3942) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V3941, V3942)) end end}, V3930, V3934))), case V3943 of {'Idris.Prelude.Types.Left', E610} -> (fun (V3944) -> {'Idris.Prelude.Types.Left', V3944} end(E610)); {'Idris.Prelude.Types.Right', E611} -> (fun (V3945) -> begin (V3946 = (('un--getNArgs'(V0, V3938, V3945, V3933))(V3934))), case V3946 of {'Idris.Prelude.Types.Left', E612} -> (fun (V3947) -> {'Idris.Prelude.Types.Left', V3947} end(E612)); {'Idris.Prelude.Types.Right', E613} -> (fun (V3948) -> case V3948 of {'Idris.Compiler.CompileExpr.User', E614, E615} -> (fun (V3949, V3950) -> begin (V3952 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3951) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3938, V3951)) end, V3950, []))(V3934))), case V3952 of {'Idris.Prelude.Types.Left', E616} -> (fun (V3953) -> {'Idris.Prelude.Types.Left', V3953} end(E616)); {'Idris.Prelude.Types.Right', E617} -> (fun (V3954) -> begin (V3956 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3955) -> ('un--nfToCFType'(V0, V3929, V2, V3955)) end, V3954, []))(V3934))), case V3956 of {'Idris.Prelude.Types.Left', E618} -> (fun (V3957) -> {'Idris.Prelude.Types.Left', V3957} end(E618)); {'Idris.Prelude.Types.Right', E619} -> (fun (V3958) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V3945, V3958}} end(E619)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E617)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E614, E615)); {'Idris.Compiler.CompileExpr.Struct', E620, E621} -> (fun (V3959, V3960) -> begin (V3971 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V3961) -> case V3961 of {'Idris.Builtin.MkPair', E622, E623} -> (fun (V3962, V3963) -> fun (V3964) -> begin (V3965 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3938, V3963))(V3964))), case V3965 of {'Idris.Prelude.Types.Left', E624} -> (fun (V3966) -> {'Idris.Prelude.Types.Left', V3966} end(E624)); {'Idris.Prelude.Types.Right', E625} -> (fun (V3967) -> begin (V3968 = (('un--nfToCFType'(V0, V3929, 0, V3967))(V3964))), case V3968 of {'Idris.Prelude.Types.Left', E626} -> (fun (V3969) -> {'Idris.Prelude.Types.Left', V3969} end(E626)); {'Idris.Prelude.Types.Right', E627} -> (fun (V3970) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V3962, V3970}} end(E627)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E625)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E622, E623)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V3960, []))(V3934))), case V3971 of {'Idris.Prelude.Types.Left', E628} -> (fun (V3972) -> {'Idris.Prelude.Types.Left', V3972} end(E628)); {'Idris.Prelude.Types.Right', E629} -> (fun (V3973) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V3959, V3973}} end(E629)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E620, E621)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E630} -> (fun (V3974) -> begin (V3975 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V3938, V3974))(V3934))), case V3975 of {'Idris.Prelude.Types.Left', E631} -> (fun (V3976) -> {'Idris.Prelude.Types.Left', V3976} end(E631)); {'Idris.Prelude.Types.Right', E632} -> (fun (V3977) -> begin (V3978 = (('un--nfToCFType'(V0, V3929, V2, V3977))(V3934))), case V3978 of {'Idris.Prelude.Types.Left', E633} -> (fun (V3979) -> {'Idris.Prelude.Types.Left', V3979} end(E633)); {'Idris.Prelude.Types.Right', E634} -> (fun (V3980) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V3980}} end(E634)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E632)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E630)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E613)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E611)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E609)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E603, E604, E605, E606, E607)); {'Idris.Core.Value.NType', E635} -> (fun (V3981) -> fun (V3982) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E635)); {'Idris.Core.Value.NErased', E636, E637} -> (fun (V3983, V3984) -> fun (V3985) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E636, E637)); _ -> fun (V3986) -> begin (V3988 = begin (V3987 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3987} end), case V3988 of {'Idris.Prelude.Types.Left', E597} -> (fun (V3989) -> {'Idris.Prelude.Types.Left', V3989} end(E597)); {'Idris.Prelude.Types.Right', E598} -> (fun (V3990) -> begin (V3991 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V3990, {'Idris.Core.Env.Nil'}, V3, V3986))), case V3991 of {'Idris.Prelude.Types.Left', E599} -> (fun (V3992) -> {'Idris.Prelude.Types.Left', V3992} end(E599)); {'Idris.Prelude.Types.Right', E600} -> (fun (V3993) -> begin (V3998 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V3994) -> fun (V3995) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V3994, V3995)) end end, fun (V3996) -> fun (V3997) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V3996, V3997)) end end}, V3993, V3986))), case V3998 of {'Idris.Prelude.Types.Left', E601} -> (fun (V3999) -> {'Idris.Prelude.Types.Left', V3999} end(E601)); {'Idris.Prelude.Types.Right', E602} -> (fun (V4000) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V4000))))}, V3986)) end(E602)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E600)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E598)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E736, E737, E738, E739} -> (fun (V4001, V4002, V4003, V4004) -> fun (V4005) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V4001, <<"Function types not allowed in a foreign struct"/utf8>>}, V4005)) end end(E736, E737, E738, E739)); _ -> case V3 of {'Idris.Core.Value.NTCon', E701, E702, E703, E704, E705} -> (fun (V4006, V4007, V4008, V4009, V4010) -> fun (V4011) -> begin (V4013 = begin (V4012 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4012} end), case V4013 of {'Idris.Prelude.Types.Left', E706} -> (fun (V4014) -> {'Idris.Prelude.Types.Left', V4014} end(E706)); {'Idris.Prelude.Types.Right', E707} -> (fun (V4015) -> begin (V4020 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4016) -> fun (V4017) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V4016, V4017)) end end, fun (V4018) -> fun (V4019) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V4018, V4019)) end end}, V4007, V4011))), case V4020 of {'Idris.Prelude.Types.Left', E708} -> (fun (V4021) -> {'Idris.Prelude.Types.Left', V4021} end(E708)); {'Idris.Prelude.Types.Right', E709} -> (fun (V4022) -> begin (V4023 = (('un--getNArgs'(V0, V4015, V4022, V4010))(V4011))), case V4023 of {'Idris.Prelude.Types.Left', E710} -> (fun (V4024) -> {'Idris.Prelude.Types.Left', V4024} end(E710)); {'Idris.Prelude.Types.Right', E711} -> (fun (V4025) -> case V4025 of {'Idris.Compiler.CompileExpr.User', E712, E713} -> (fun (V4026, V4027) -> begin (V4029 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4028) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4015, V4028)) end, V4027, []))(V4011))), case V4029 of {'Idris.Prelude.Types.Left', E714} -> (fun (V4030) -> {'Idris.Prelude.Types.Left', V4030} end(E714)); {'Idris.Prelude.Types.Right', E715} -> (fun (V4031) -> begin (V4033 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4032) -> ('un--nfToCFType'(V0, V4006, V2, V4032)) end, V4031, []))(V4011))), case V4033 of {'Idris.Prelude.Types.Left', E716} -> (fun (V4034) -> {'Idris.Prelude.Types.Left', V4034} end(E716)); {'Idris.Prelude.Types.Right', E717} -> (fun (V4035) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V4022, V4035}} end(E717)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E715)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E712, E713)); {'Idris.Compiler.CompileExpr.Struct', E718, E719} -> (fun (V4036, V4037) -> begin (V4048 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4038) -> case V4038 of {'Idris.Builtin.MkPair', E720, E721} -> (fun (V4039, V4040) -> fun (V4041) -> begin (V4042 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4015, V4040))(V4041))), case V4042 of {'Idris.Prelude.Types.Left', E722} -> (fun (V4043) -> {'Idris.Prelude.Types.Left', V4043} end(E722)); {'Idris.Prelude.Types.Right', E723} -> (fun (V4044) -> begin (V4045 = (('un--nfToCFType'(V0, V4006, 0, V4044))(V4041))), case V4045 of {'Idris.Prelude.Types.Left', E724} -> (fun (V4046) -> {'Idris.Prelude.Types.Left', V4046} end(E724)); {'Idris.Prelude.Types.Right', E725} -> (fun (V4047) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V4039, V4047}} end(E725)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E723)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E720, E721)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V4037, []))(V4011))), case V4048 of {'Idris.Prelude.Types.Left', E726} -> (fun (V4049) -> {'Idris.Prelude.Types.Left', V4049} end(E726)); {'Idris.Prelude.Types.Right', E727} -> (fun (V4050) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V4036, V4050}} end(E727)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E718, E719)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E728} -> (fun (V4051) -> begin (V4052 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4015, V4051))(V4011))), case V4052 of {'Idris.Prelude.Types.Left', E729} -> (fun (V4053) -> {'Idris.Prelude.Types.Left', V4053} end(E729)); {'Idris.Prelude.Types.Right', E730} -> (fun (V4054) -> begin (V4055 = (('un--nfToCFType'(V0, V4006, V2, V4054))(V4011))), case V4055 of {'Idris.Prelude.Types.Left', E731} -> (fun (V4056) -> {'Idris.Prelude.Types.Left', V4056} end(E731)); {'Idris.Prelude.Types.Right', E732} -> (fun (V4057) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V4057}} end(E732)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E730)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E728)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E711)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E709)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E707)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E701, E702, E703, E704, E705)); {'Idris.Core.Value.NType', E733} -> (fun (V4058) -> fun (V4059) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E733)); {'Idris.Core.Value.NErased', E734, E735} -> (fun (V4060, V4061) -> fun (V4062) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E734, E735)); _ -> fun (V4063) -> begin (V4065 = begin (V4064 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4064} end), case V4065 of {'Idris.Prelude.Types.Left', E695} -> (fun (V4066) -> {'Idris.Prelude.Types.Left', V4066} end(E695)); {'Idris.Prelude.Types.Right', E696} -> (fun (V4067) -> begin (V4068 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V4067, {'Idris.Core.Env.Nil'}, V3, V4063))), case V4068 of {'Idris.Prelude.Types.Left', E697} -> (fun (V4069) -> {'Idris.Prelude.Types.Left', V4069} end(E697)); {'Idris.Prelude.Types.Right', E698} -> (fun (V4070) -> begin (V4075 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4071) -> fun (V4072) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V4071, V4072)) end end, fun (V4073) -> fun (V4074) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V4073, V4074)) end end}, V4070, V4063))), case V4075 of {'Idris.Prelude.Types.Left', E699} -> (fun (V4076) -> {'Idris.Prelude.Types.Left', V4076} end(E699)); {'Idris.Prelude.Types.Right', E700} -> (fun (V4077) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V4077))))}, V4063)) end(E700)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E698)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E696)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E562, E563, E564, E565, E566} -> (fun (V4078, V4079, V4080, V4081, V4082) -> fun (V4083) -> begin (V4085 = begin (V4084 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4084} end), case V4085 of {'Idris.Prelude.Types.Left', E567} -> (fun (V4086) -> {'Idris.Prelude.Types.Left', V4086} end(E567)); {'Idris.Prelude.Types.Right', E568} -> (fun (V4087) -> begin (V4092 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4088) -> fun (V4089) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V4088, V4089)) end end, fun (V4090) -> fun (V4091) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V4090, V4091)) end end}, V4079, V4083))), case V4092 of {'Idris.Prelude.Types.Left', E569} -> (fun (V4093) -> {'Idris.Prelude.Types.Left', V4093} end(E569)); {'Idris.Prelude.Types.Right', E570} -> (fun (V4094) -> begin (V4095 = (('un--getNArgs'(V0, V4087, V4094, V4082))(V4083))), case V4095 of {'Idris.Prelude.Types.Left', E571} -> (fun (V4096) -> {'Idris.Prelude.Types.Left', V4096} end(E571)); {'Idris.Prelude.Types.Right', E572} -> (fun (V4097) -> case V4097 of {'Idris.Compiler.CompileExpr.User', E573, E574} -> (fun (V4098, V4099) -> begin (V4101 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4100) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4087, V4100)) end, V4099, []))(V4083))), case V4101 of {'Idris.Prelude.Types.Left', E575} -> (fun (V4102) -> {'Idris.Prelude.Types.Left', V4102} end(E575)); {'Idris.Prelude.Types.Right', E576} -> (fun (V4103) -> begin (V4105 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4104) -> ('un--nfToCFType'(V0, V4078, V2, V4104)) end, V4103, []))(V4083))), case V4105 of {'Idris.Prelude.Types.Left', E577} -> (fun (V4106) -> {'Idris.Prelude.Types.Left', V4106} end(E577)); {'Idris.Prelude.Types.Right', E578} -> (fun (V4107) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V4094, V4107}} end(E578)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E576)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E573, E574)); {'Idris.Compiler.CompileExpr.Struct', E579, E580} -> (fun (V4108, V4109) -> begin (V4120 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4110) -> case V4110 of {'Idris.Builtin.MkPair', E581, E582} -> (fun (V4111, V4112) -> fun (V4113) -> begin (V4114 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4087, V4112))(V4113))), case V4114 of {'Idris.Prelude.Types.Left', E583} -> (fun (V4115) -> {'Idris.Prelude.Types.Left', V4115} end(E583)); {'Idris.Prelude.Types.Right', E584} -> (fun (V4116) -> begin (V4117 = (('un--nfToCFType'(V0, V4078, 0, V4116))(V4113))), case V4117 of {'Idris.Prelude.Types.Left', E585} -> (fun (V4118) -> {'Idris.Prelude.Types.Left', V4118} end(E585)); {'Idris.Prelude.Types.Right', E586} -> (fun (V4119) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V4111, V4119}} end(E586)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E584)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E581, E582)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V4109, []))(V4083))), case V4120 of {'Idris.Prelude.Types.Left', E587} -> (fun (V4121) -> {'Idris.Prelude.Types.Left', V4121} end(E587)); {'Idris.Prelude.Types.Right', E588} -> (fun (V4122) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V4108, V4122}} end(E588)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E579, E580)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E589} -> (fun (V4123) -> begin (V4124 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4087, V4123))(V4083))), case V4124 of {'Idris.Prelude.Types.Left', E590} -> (fun (V4125) -> {'Idris.Prelude.Types.Left', V4125} end(E590)); {'Idris.Prelude.Types.Right', E591} -> (fun (V4126) -> begin (V4127 = (('un--nfToCFType'(V0, V4078, V2, V4126))(V4083))), case V4127 of {'Idris.Prelude.Types.Left', E592} -> (fun (V4128) -> {'Idris.Prelude.Types.Left', V4128} end(E592)); {'Idris.Prelude.Types.Right', E593} -> (fun (V4129) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V4129}} end(E593)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E591)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E589)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E572)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E570)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E568)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E562, E563, E564, E565, E566)); {'Idris.Core.Value.NType', E594} -> (fun (V4130) -> fun (V4131) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E594)); {'Idris.Core.Value.NErased', E595, E596} -> (fun (V4132, V4133) -> fun (V4134) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E595, E596)); _ -> fun (V4135) -> begin (V4137 = begin (V4136 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4136} end), case V4137 of {'Idris.Prelude.Types.Left', E556} -> (fun (V4138) -> {'Idris.Prelude.Types.Left', V4138} end(E556)); {'Idris.Prelude.Types.Right', E557} -> (fun (V4139) -> begin (V4140 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V4139, {'Idris.Core.Env.Nil'}, V3, V4135))), case V4140 of {'Idris.Prelude.Types.Left', E558} -> (fun (V4141) -> {'Idris.Prelude.Types.Left', V4141} end(E558)); {'Idris.Prelude.Types.Right', E559} -> (fun (V4142) -> begin (V4147 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4143) -> fun (V4144) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V4143, V4144)) end end, fun (V4145) -> fun (V4146) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V4145, V4146)) end end}, V4142, V4135))), case V4147 of {'Idris.Prelude.Types.Left', E560} -> (fun (V4148) -> {'Idris.Prelude.Types.Left', V4148} end(E560)); {'Idris.Prelude.Types.Right', E561} -> (fun (V4149) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V4149))))}, V4135)) end(E561)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E559)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E557)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end(E554, E555)); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E452, E453, E454, E455} -> (fun (V4150, V4151, V4152, V4153) -> case V4152 of {'Idris.Core.TT.Pi', E497, E498, E499, E500} -> (fun (V4154, V4155, V4156, V4157) -> fun (V4158) -> begin (V4160 = begin (V4159 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4159} end), case V4160 of {'Idris.Prelude.Types.Left', E501} -> (fun (V4161) -> {'Idris.Prelude.Types.Left', V4161} end(E501)); {'Idris.Prelude.Types.Right', E502} -> (fun (V4162) -> begin (V4163 = (('un--nfToCFType'(V0, V4150, 1, V4157))(V4158))), case V4163 of {'Idris.Prelude.Types.Left', E503} -> (fun (V4164) -> {'Idris.Prelude.Types.Left', V4164} end(E503)); {'Idris.Prelude.Types.Right', E504} -> (fun (V4165) -> begin (V4166 = (((V4153(V4162))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V4150, 1}))))(V4158))), case V4166 of {'Idris.Prelude.Types.Left', E505} -> (fun (V4167) -> {'Idris.Prelude.Types.Left', V4167} end(E505)); {'Idris.Prelude.Types.Right', E506} -> (fun (V4168) -> begin (V4169 = (('un--nfToCFType'(V0, V4150, 1, V4168))(V4158))), case V4169 of {'Idris.Prelude.Types.Left', E507} -> (fun (V4170) -> {'Idris.Prelude.Types.Left', V4170} end(E507)); {'Idris.Prelude.Types.Right', E508} -> (fun (V4171) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V4165, V4171}} end(E508)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E506)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E504)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E502)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E497, E498, E499, E500)); _ -> case V3 of {'Idris.Core.Value.NTCon', E462, E463, E464, E465, E466} -> (fun (V4172, V4173, V4174, V4175, V4176) -> fun (V4177) -> begin (V4179 = begin (V4178 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4178} end), case V4179 of {'Idris.Prelude.Types.Left', E467} -> (fun (V4180) -> {'Idris.Prelude.Types.Left', V4180} end(E467)); {'Idris.Prelude.Types.Right', E468} -> (fun (V4181) -> begin (V4186 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4182) -> fun (V4183) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V4182, V4183)) end end, fun (V4184) -> fun (V4185) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V4184, V4185)) end end}, V4173, V4177))), case V4186 of {'Idris.Prelude.Types.Left', E469} -> (fun (V4187) -> {'Idris.Prelude.Types.Left', V4187} end(E469)); {'Idris.Prelude.Types.Right', E470} -> (fun (V4188) -> begin (V4189 = (('un--getNArgs'(V0, V4181, V4188, V4176))(V4177))), case V4189 of {'Idris.Prelude.Types.Left', E471} -> (fun (V4190) -> {'Idris.Prelude.Types.Left', V4190} end(E471)); {'Idris.Prelude.Types.Right', E472} -> (fun (V4191) -> case V4191 of {'Idris.Compiler.CompileExpr.User', E473, E474} -> (fun (V4192, V4193) -> begin (V4195 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4194) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4181, V4194)) end, V4193, []))(V4177))), case V4195 of {'Idris.Prelude.Types.Left', E475} -> (fun (V4196) -> {'Idris.Prelude.Types.Left', V4196} end(E475)); {'Idris.Prelude.Types.Right', E476} -> (fun (V4197) -> begin (V4199 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4198) -> ('un--nfToCFType'(V0, V4172, V2, V4198)) end, V4197, []))(V4177))), case V4199 of {'Idris.Prelude.Types.Left', E477} -> (fun (V4200) -> {'Idris.Prelude.Types.Left', V4200} end(E477)); {'Idris.Prelude.Types.Right', E478} -> (fun (V4201) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V4188, V4201}} end(E478)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E476)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E473, E474)); {'Idris.Compiler.CompileExpr.Struct', E479, E480} -> (fun (V4202, V4203) -> begin (V4214 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4204) -> case V4204 of {'Idris.Builtin.MkPair', E481, E482} -> (fun (V4205, V4206) -> fun (V4207) -> begin (V4208 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4181, V4206))(V4207))), case V4208 of {'Idris.Prelude.Types.Left', E483} -> (fun (V4209) -> {'Idris.Prelude.Types.Left', V4209} end(E483)); {'Idris.Prelude.Types.Right', E484} -> (fun (V4210) -> begin (V4211 = (('un--nfToCFType'(V0, V4172, 0, V4210))(V4207))), case V4211 of {'Idris.Prelude.Types.Left', E485} -> (fun (V4212) -> {'Idris.Prelude.Types.Left', V4212} end(E485)); {'Idris.Prelude.Types.Right', E486} -> (fun (V4213) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V4205, V4213}} end(E486)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E484)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E481, E482)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V4203, []))(V4177))), case V4214 of {'Idris.Prelude.Types.Left', E487} -> (fun (V4215) -> {'Idris.Prelude.Types.Left', V4215} end(E487)); {'Idris.Prelude.Types.Right', E488} -> (fun (V4216) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V4202, V4216}} end(E488)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E479, E480)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E489} -> (fun (V4217) -> begin (V4218 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4181, V4217))(V4177))), case V4218 of {'Idris.Prelude.Types.Left', E490} -> (fun (V4219) -> {'Idris.Prelude.Types.Left', V4219} end(E490)); {'Idris.Prelude.Types.Right', E491} -> (fun (V4220) -> begin (V4221 = (('un--nfToCFType'(V0, V4172, V2, V4220))(V4177))), case V4221 of {'Idris.Prelude.Types.Left', E492} -> (fun (V4222) -> {'Idris.Prelude.Types.Left', V4222} end(E492)); {'Idris.Prelude.Types.Right', E493} -> (fun (V4223) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V4223}} end(E493)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E491)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E489)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E472)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E470)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E468)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E462, E463, E464, E465, E466)); {'Idris.Core.Value.NType', E494} -> (fun (V4224) -> fun (V4225) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E494)); {'Idris.Core.Value.NErased', E495, E496} -> (fun (V4226, V4227) -> fun (V4228) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E495, E496)); _ -> fun (V4229) -> begin (V4231 = begin (V4230 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4230} end), case V4231 of {'Idris.Prelude.Types.Left', E456} -> (fun (V4232) -> {'Idris.Prelude.Types.Left', V4232} end(E456)); {'Idris.Prelude.Types.Right', E457} -> (fun (V4233) -> begin (V4234 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V4233, {'Idris.Core.Env.Nil'}, V3, V4229))), case V4234 of {'Idris.Prelude.Types.Left', E458} -> (fun (V4235) -> {'Idris.Prelude.Types.Left', V4235} end(E458)); {'Idris.Prelude.Types.Right', E459} -> (fun (V4236) -> begin (V4241 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4237) -> fun (V4238) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V4237, V4238)) end end, fun (V4239) -> fun (V4240) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V4239, V4240)) end end}, V4236, V4229))), case V4241 of {'Idris.Prelude.Types.Left', E460} -> (fun (V4242) -> {'Idris.Prelude.Types.Left', V4242} end(E460)); {'Idris.Prelude.Types.Right', E461} -> (fun (V4243) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V4243))))}, V4229)) end(E461)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E459)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E457)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E452, E453, E454, E455)); _ -> case V3 of {'Idris.Core.Value.NTCon', E417, E418, E419, E420, E421} -> (fun (V4244, V4245, V4246, V4247, V4248) -> fun (V4249) -> begin (V4251 = begin (V4250 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4250} end), case V4251 of {'Idris.Prelude.Types.Left', E422} -> (fun (V4252) -> {'Idris.Prelude.Types.Left', V4252} end(E422)); {'Idris.Prelude.Types.Right', E423} -> (fun (V4253) -> begin (V4258 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4254) -> fun (V4255) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V4254, V4255)) end end, fun (V4256) -> fun (V4257) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V4256, V4257)) end end}, V4245, V4249))), case V4258 of {'Idris.Prelude.Types.Left', E424} -> (fun (V4259) -> {'Idris.Prelude.Types.Left', V4259} end(E424)); {'Idris.Prelude.Types.Right', E425} -> (fun (V4260) -> begin (V4261 = (('un--getNArgs'(V0, V4253, V4260, V4248))(V4249))), case V4261 of {'Idris.Prelude.Types.Left', E426} -> (fun (V4262) -> {'Idris.Prelude.Types.Left', V4262} end(E426)); {'Idris.Prelude.Types.Right', E427} -> (fun (V4263) -> case V4263 of {'Idris.Compiler.CompileExpr.User', E428, E429} -> (fun (V4264, V4265) -> begin (V4267 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4266) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4253, V4266)) end, V4265, []))(V4249))), case V4267 of {'Idris.Prelude.Types.Left', E430} -> (fun (V4268) -> {'Idris.Prelude.Types.Left', V4268} end(E430)); {'Idris.Prelude.Types.Right', E431} -> (fun (V4269) -> begin (V4271 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4270) -> ('un--nfToCFType'(V0, V4244, V2, V4270)) end, V4269, []))(V4249))), case V4271 of {'Idris.Prelude.Types.Left', E432} -> (fun (V4272) -> {'Idris.Prelude.Types.Left', V4272} end(E432)); {'Idris.Prelude.Types.Right', E433} -> (fun (V4273) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V4260, V4273}} end(E433)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E431)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E428, E429)); {'Idris.Compiler.CompileExpr.Struct', E434, E435} -> (fun (V4274, V4275) -> begin (V4286 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4276) -> case V4276 of {'Idris.Builtin.MkPair', E436, E437} -> (fun (V4277, V4278) -> fun (V4279) -> begin (V4280 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4253, V4278))(V4279))), case V4280 of {'Idris.Prelude.Types.Left', E438} -> (fun (V4281) -> {'Idris.Prelude.Types.Left', V4281} end(E438)); {'Idris.Prelude.Types.Right', E439} -> (fun (V4282) -> begin (V4283 = (('un--nfToCFType'(V0, V4244, 0, V4282))(V4279))), case V4283 of {'Idris.Prelude.Types.Left', E440} -> (fun (V4284) -> {'Idris.Prelude.Types.Left', V4284} end(E440)); {'Idris.Prelude.Types.Right', E441} -> (fun (V4285) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V4277, V4285}} end(E441)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E439)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E436, E437)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V4275, []))(V4249))), case V4286 of {'Idris.Prelude.Types.Left', E442} -> (fun (V4287) -> {'Idris.Prelude.Types.Left', V4287} end(E442)); {'Idris.Prelude.Types.Right', E443} -> (fun (V4288) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V4274, V4288}} end(E443)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E434, E435)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E444} -> (fun (V4289) -> begin (V4290 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4253, V4289))(V4249))), case V4290 of {'Idris.Prelude.Types.Left', E445} -> (fun (V4291) -> {'Idris.Prelude.Types.Left', V4291} end(E445)); {'Idris.Prelude.Types.Right', E446} -> (fun (V4292) -> begin (V4293 = (('un--nfToCFType'(V0, V4244, V2, V4292))(V4249))), case V4293 of {'Idris.Prelude.Types.Left', E447} -> (fun (V4294) -> {'Idris.Prelude.Types.Left', V4294} end(E447)); {'Idris.Prelude.Types.Right', E448} -> (fun (V4295) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V4295}} end(E448)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E446)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E444)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E427)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E425)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E423)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E417, E418, E419, E420, E421)); {'Idris.Core.Value.NType', E449} -> (fun (V4296) -> fun (V4297) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E449)); {'Idris.Core.Value.NErased', E450, E451} -> (fun (V4298, V4299) -> fun (V4300) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E450, E451)); _ -> fun (V4301) -> begin (V4303 = begin (V4302 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4302} end), case V4303 of {'Idris.Prelude.Types.Left', E411} -> (fun (V4304) -> {'Idris.Prelude.Types.Left', V4304} end(E411)); {'Idris.Prelude.Types.Right', E412} -> (fun (V4305) -> begin (V4306 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V4305, {'Idris.Core.Env.Nil'}, V3, V4301))), case V4306 of {'Idris.Prelude.Types.Left', E413} -> (fun (V4307) -> {'Idris.Prelude.Types.Left', V4307} end(E413)); {'Idris.Prelude.Types.Right', E414} -> (fun (V4308) -> begin (V4313 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4309) -> fun (V4310) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V4309, V4310)) end end, fun (V4311) -> fun (V4312) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V4311, V4312)) end end}, V4308, V4301))), case V4313 of {'Idris.Prelude.Types.Left', E415} -> (fun (V4314) -> {'Idris.Prelude.Types.Left', V4314} end(E415)); {'Idris.Prelude.Types.Right', E416} -> (fun (V4315) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V4315))))}, V4301)) end(E416)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E414)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E412)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E550, E551, E552, E553} -> (fun (V4316, V4317, V4318, V4319) -> fun (V4320) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V4316, <<"Function types not allowed in a foreign struct"/utf8>>}, V4320)) end end(E550, E551, E552, E553)); _ -> case V3 of {'Idris.Core.Value.NTCon', E515, E516, E517, E518, E519} -> (fun (V4321, V4322, V4323, V4324, V4325) -> fun (V4326) -> begin (V4328 = begin (V4327 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4327} end), case V4328 of {'Idris.Prelude.Types.Left', E520} -> (fun (V4329) -> {'Idris.Prelude.Types.Left', V4329} end(E520)); {'Idris.Prelude.Types.Right', E521} -> (fun (V4330) -> begin (V4335 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4331) -> fun (V4332) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V4331, V4332)) end end, fun (V4333) -> fun (V4334) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V4333, V4334)) end end}, V4322, V4326))), case V4335 of {'Idris.Prelude.Types.Left', E522} -> (fun (V4336) -> {'Idris.Prelude.Types.Left', V4336} end(E522)); {'Idris.Prelude.Types.Right', E523} -> (fun (V4337) -> begin (V4338 = (('un--getNArgs'(V0, V4330, V4337, V4325))(V4326))), case V4338 of {'Idris.Prelude.Types.Left', E524} -> (fun (V4339) -> {'Idris.Prelude.Types.Left', V4339} end(E524)); {'Idris.Prelude.Types.Right', E525} -> (fun (V4340) -> case V4340 of {'Idris.Compiler.CompileExpr.User', E526, E527} -> (fun (V4341, V4342) -> begin (V4344 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4343) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4330, V4343)) end, V4342, []))(V4326))), case V4344 of {'Idris.Prelude.Types.Left', E528} -> (fun (V4345) -> {'Idris.Prelude.Types.Left', V4345} end(E528)); {'Idris.Prelude.Types.Right', E529} -> (fun (V4346) -> begin (V4348 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4347) -> ('un--nfToCFType'(V0, V4321, V2, V4347)) end, V4346, []))(V4326))), case V4348 of {'Idris.Prelude.Types.Left', E530} -> (fun (V4349) -> {'Idris.Prelude.Types.Left', V4349} end(E530)); {'Idris.Prelude.Types.Right', E531} -> (fun (V4350) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V4337, V4350}} end(E531)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E529)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E526, E527)); {'Idris.Compiler.CompileExpr.Struct', E532, E533} -> (fun (V4351, V4352) -> begin (V4363 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4353) -> case V4353 of {'Idris.Builtin.MkPair', E534, E535} -> (fun (V4354, V4355) -> fun (V4356) -> begin (V4357 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4330, V4355))(V4356))), case V4357 of {'Idris.Prelude.Types.Left', E536} -> (fun (V4358) -> {'Idris.Prelude.Types.Left', V4358} end(E536)); {'Idris.Prelude.Types.Right', E537} -> (fun (V4359) -> begin (V4360 = (('un--nfToCFType'(V0, V4321, 0, V4359))(V4356))), case V4360 of {'Idris.Prelude.Types.Left', E538} -> (fun (V4361) -> {'Idris.Prelude.Types.Left', V4361} end(E538)); {'Idris.Prelude.Types.Right', E539} -> (fun (V4362) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V4354, V4362}} end(E539)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E537)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E534, E535)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V4352, []))(V4326))), case V4363 of {'Idris.Prelude.Types.Left', E540} -> (fun (V4364) -> {'Idris.Prelude.Types.Left', V4364} end(E540)); {'Idris.Prelude.Types.Right', E541} -> (fun (V4365) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V4351, V4365}} end(E541)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E532, E533)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E542} -> (fun (V4366) -> begin (V4367 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4330, V4366))(V4326))), case V4367 of {'Idris.Prelude.Types.Left', E543} -> (fun (V4368) -> {'Idris.Prelude.Types.Left', V4368} end(E543)); {'Idris.Prelude.Types.Right', E544} -> (fun (V4369) -> begin (V4370 = (('un--nfToCFType'(V0, V4321, V2, V4369))(V4326))), case V4370 of {'Idris.Prelude.Types.Left', E545} -> (fun (V4371) -> {'Idris.Prelude.Types.Left', V4371} end(E545)); {'Idris.Prelude.Types.Right', E546} -> (fun (V4372) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V4372}} end(E546)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E544)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E542)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E525)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E523)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E521)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E515, E516, E517, E518, E519)); {'Idris.Core.Value.NType', E547} -> (fun (V4373) -> fun (V4374) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E547)); {'Idris.Core.Value.NErased', E548, E549} -> (fun (V4375, V4376) -> fun (V4377) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E548, E549)); _ -> fun (V4378) -> begin (V4380 = begin (V4379 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4379} end), case V4380 of {'Idris.Prelude.Types.Left', E509} -> (fun (V4381) -> {'Idris.Prelude.Types.Left', V4381} end(E509)); {'Idris.Prelude.Types.Right', E510} -> (fun (V4382) -> begin (V4383 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V4382, {'Idris.Core.Env.Nil'}, V3, V4378))), case V4383 of {'Idris.Prelude.Types.Left', E511} -> (fun (V4384) -> {'Idris.Prelude.Types.Left', V4384} end(E511)); {'Idris.Prelude.Types.Right', E512} -> (fun (V4385) -> begin (V4390 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4386) -> fun (V4387) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V4386, V4387)) end end, fun (V4388) -> fun (V4389) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V4388, V4389)) end end}, V4385, V4378))), case V4390 of {'Idris.Prelude.Types.Left', E513} -> (fun (V4391) -> {'Idris.Prelude.Types.Left', V4391} end(E513)); {'Idris.Prelude.Types.Right', E514} -> (fun (V4392) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V4392))))}, V4378)) end(E514)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E512)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E510)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E376, E377, E378, E379, E380} -> (fun (V4393, V4394, V4395, V4396, V4397) -> fun (V4398) -> begin (V4400 = begin (V4399 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4399} end), case V4400 of {'Idris.Prelude.Types.Left', E381} -> (fun (V4401) -> {'Idris.Prelude.Types.Left', V4401} end(E381)); {'Idris.Prelude.Types.Right', E382} -> (fun (V4402) -> begin (V4407 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4403) -> fun (V4404) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V4403, V4404)) end end, fun (V4405) -> fun (V4406) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V4405, V4406)) end end}, V4394, V4398))), case V4407 of {'Idris.Prelude.Types.Left', E383} -> (fun (V4408) -> {'Idris.Prelude.Types.Left', V4408} end(E383)); {'Idris.Prelude.Types.Right', E384} -> (fun (V4409) -> begin (V4410 = (('un--getNArgs'(V0, V4402, V4409, V4397))(V4398))), case V4410 of {'Idris.Prelude.Types.Left', E385} -> (fun (V4411) -> {'Idris.Prelude.Types.Left', V4411} end(E385)); {'Idris.Prelude.Types.Right', E386} -> (fun (V4412) -> case V4412 of {'Idris.Compiler.CompileExpr.User', E387, E388} -> (fun (V4413, V4414) -> begin (V4416 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4415) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4402, V4415)) end, V4414, []))(V4398))), case V4416 of {'Idris.Prelude.Types.Left', E389} -> (fun (V4417) -> {'Idris.Prelude.Types.Left', V4417} end(E389)); {'Idris.Prelude.Types.Right', E390} -> (fun (V4418) -> begin (V4420 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4419) -> ('un--nfToCFType'(V0, V4393, V2, V4419)) end, V4418, []))(V4398))), case V4420 of {'Idris.Prelude.Types.Left', E391} -> (fun (V4421) -> {'Idris.Prelude.Types.Left', V4421} end(E391)); {'Idris.Prelude.Types.Right', E392} -> (fun (V4422) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V4409, V4422}} end(E392)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E390)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E387, E388)); {'Idris.Compiler.CompileExpr.Struct', E393, E394} -> (fun (V4423, V4424) -> begin (V4435 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4425) -> case V4425 of {'Idris.Builtin.MkPair', E395, E396} -> (fun (V4426, V4427) -> fun (V4428) -> begin (V4429 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4402, V4427))(V4428))), case V4429 of {'Idris.Prelude.Types.Left', E397} -> (fun (V4430) -> {'Idris.Prelude.Types.Left', V4430} end(E397)); {'Idris.Prelude.Types.Right', E398} -> (fun (V4431) -> begin (V4432 = (('un--nfToCFType'(V0, V4393, 0, V4431))(V4428))), case V4432 of {'Idris.Prelude.Types.Left', E399} -> (fun (V4433) -> {'Idris.Prelude.Types.Left', V4433} end(E399)); {'Idris.Prelude.Types.Right', E400} -> (fun (V4434) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V4426, V4434}} end(E400)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E398)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E395, E396)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V4424, []))(V4398))), case V4435 of {'Idris.Prelude.Types.Left', E401} -> (fun (V4436) -> {'Idris.Prelude.Types.Left', V4436} end(E401)); {'Idris.Prelude.Types.Right', E402} -> (fun (V4437) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V4423, V4437}} end(E402)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E393, E394)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E403} -> (fun (V4438) -> begin (V4439 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4402, V4438))(V4398))), case V4439 of {'Idris.Prelude.Types.Left', E404} -> (fun (V4440) -> {'Idris.Prelude.Types.Left', V4440} end(E404)); {'Idris.Prelude.Types.Right', E405} -> (fun (V4441) -> begin (V4442 = (('un--nfToCFType'(V0, V4393, V2, V4441))(V4398))), case V4442 of {'Idris.Prelude.Types.Left', E406} -> (fun (V4443) -> {'Idris.Prelude.Types.Left', V4443} end(E406)); {'Idris.Prelude.Types.Right', E407} -> (fun (V4444) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V4444}} end(E407)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E405)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E403)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E386)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E384)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E382)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E376, E377, E378, E379, E380)); {'Idris.Core.Value.NType', E408} -> (fun (V4445) -> fun (V4446) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E408)); {'Idris.Core.Value.NErased', E409, E410} -> (fun (V4447, V4448) -> fun (V4449) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E409, E410)); _ -> fun (V4450) -> begin (V4452 = begin (V4451 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4451} end), case V4452 of {'Idris.Prelude.Types.Left', E370} -> (fun (V4453) -> {'Idris.Prelude.Types.Left', V4453} end(E370)); {'Idris.Prelude.Types.Right', E371} -> (fun (V4454) -> begin (V4455 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V4454, {'Idris.Core.Env.Nil'}, V3, V4450))), case V4455 of {'Idris.Prelude.Types.Left', E372} -> (fun (V4456) -> {'Idris.Prelude.Types.Left', V4456} end(E372)); {'Idris.Prelude.Types.Right', E373} -> (fun (V4457) -> begin (V4462 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4458) -> fun (V4459) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V4458, V4459)) end end, fun (V4460) -> fun (V4461) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V4460, V4461)) end end}, V4457, V4450))), case V4462 of {'Idris.Prelude.Types.Left', E374} -> (fun (V4463) -> {'Idris.Prelude.Types.Left', V4463} end(E374)); {'Idris.Prelude.Types.Right', E375} -> (fun (V4464) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V4464))))}, V4450)) end(E375)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E373)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E371)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end; 0 -> case V3 of {'Idris.Core.Value.NPrimVal', E1482, E1483} -> (fun (V4465, V4466) -> case V4466 of {'Idris.Core.TT.StringType'} -> (fun () -> fun (V4467) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V1, <<"String not allowed in a foreign struct"/utf8>>}, V4467)) end end()); _ -> case V3 of {'Idris.Core.Value.NPrimVal', E1668, E1669} -> (fun (V4468, V4469) -> case V4469 of {'Idris.Core.TT.DoubleType'} -> (fun () -> fun (V4470) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFDouble'}} end end()); {'Idris.Core.TT.CharType'} -> (fun () -> fun (V4471) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFChar'}} end end()); {'Idris.Core.TT.WorldType'} -> (fun () -> fun (V4472) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFWorld'}} end end()); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E1752, E1753, E1754, E1755} -> (fun (V4473, V4474, V4475, V4476) -> case V4475 of {'Idris.Core.TT.Pi', E1797, E1798, E1799, E1800} -> (fun (V4477, V4478, V4479, V4480) -> fun (V4481) -> begin (V4483 = begin (V4482 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4482} end), case V4483 of {'Idris.Prelude.Types.Left', E1801} -> (fun (V4484) -> {'Idris.Prelude.Types.Left', V4484} end(E1801)); {'Idris.Prelude.Types.Right', E1802} -> (fun (V4485) -> begin (V4486 = (('un--nfToCFType'(V0, V4473, 1, V4480))(V4481))), case V4486 of {'Idris.Prelude.Types.Left', E1803} -> (fun (V4487) -> {'Idris.Prelude.Types.Left', V4487} end(E1803)); {'Idris.Prelude.Types.Right', E1804} -> (fun (V4488) -> begin (V4489 = (((V4476(V4485))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V4473, 1}))))(V4481))), case V4489 of {'Idris.Prelude.Types.Left', E1805} -> (fun (V4490) -> {'Idris.Prelude.Types.Left', V4490} end(E1805)); {'Idris.Prelude.Types.Right', E1806} -> (fun (V4491) -> begin (V4492 = (('un--nfToCFType'(V0, V4473, 1, V4491))(V4481))), case V4492 of {'Idris.Prelude.Types.Left', E1807} -> (fun (V4493) -> {'Idris.Prelude.Types.Left', V4493} end(E1807)); {'Idris.Prelude.Types.Right', E1808} -> (fun (V4494) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V4488, V4494}} end(E1808)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1806)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1804)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1802)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1797, E1798, E1799, E1800)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1762, E1763, E1764, E1765, E1766} -> (fun (V4495, V4496, V4497, V4498, V4499) -> fun (V4500) -> begin (V4502 = begin (V4501 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4501} end), case V4502 of {'Idris.Prelude.Types.Left', E1767} -> (fun (V4503) -> {'Idris.Prelude.Types.Left', V4503} end(E1767)); {'Idris.Prelude.Types.Right', E1768} -> (fun (V4504) -> begin (V4509 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4505) -> fun (V4506) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V4505, V4506)) end end, fun (V4507) -> fun (V4508) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V4507, V4508)) end end}, V4496, V4500))), case V4509 of {'Idris.Prelude.Types.Left', E1769} -> (fun (V4510) -> {'Idris.Prelude.Types.Left', V4510} end(E1769)); {'Idris.Prelude.Types.Right', E1770} -> (fun (V4511) -> begin (V4512 = (('un--getNArgs'(V0, V4504, V4511, V4499))(V4500))), case V4512 of {'Idris.Prelude.Types.Left', E1771} -> (fun (V4513) -> {'Idris.Prelude.Types.Left', V4513} end(E1771)); {'Idris.Prelude.Types.Right', E1772} -> (fun (V4514) -> case V4514 of {'Idris.Compiler.CompileExpr.User', E1773, E1774} -> (fun (V4515, V4516) -> begin (V4518 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4517) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4504, V4517)) end, V4516, []))(V4500))), case V4518 of {'Idris.Prelude.Types.Left', E1775} -> (fun (V4519) -> {'Idris.Prelude.Types.Left', V4519} end(E1775)); {'Idris.Prelude.Types.Right', E1776} -> (fun (V4520) -> begin (V4522 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4521) -> ('un--nfToCFType'(V0, V4495, V2, V4521)) end, V4520, []))(V4500))), case V4522 of {'Idris.Prelude.Types.Left', E1777} -> (fun (V4523) -> {'Idris.Prelude.Types.Left', V4523} end(E1777)); {'Idris.Prelude.Types.Right', E1778} -> (fun (V4524) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V4511, V4524}} end(E1778)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1776)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1773, E1774)); {'Idris.Compiler.CompileExpr.Struct', E1779, E1780} -> (fun (V4525, V4526) -> begin (V4537 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4527) -> case V4527 of {'Idris.Builtin.MkPair', E1781, E1782} -> (fun (V4528, V4529) -> fun (V4530) -> begin (V4531 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4504, V4529))(V4530))), case V4531 of {'Idris.Prelude.Types.Left', E1783} -> (fun (V4532) -> {'Idris.Prelude.Types.Left', V4532} end(E1783)); {'Idris.Prelude.Types.Right', E1784} -> (fun (V4533) -> begin (V4534 = (('un--nfToCFType'(V0, V4495, 0, V4533))(V4530))), case V4534 of {'Idris.Prelude.Types.Left', E1785} -> (fun (V4535) -> {'Idris.Prelude.Types.Left', V4535} end(E1785)); {'Idris.Prelude.Types.Right', E1786} -> (fun (V4536) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V4528, V4536}} end(E1786)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1784)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1781, E1782)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V4526, []))(V4500))), case V4537 of {'Idris.Prelude.Types.Left', E1787} -> (fun (V4538) -> {'Idris.Prelude.Types.Left', V4538} end(E1787)); {'Idris.Prelude.Types.Right', E1788} -> (fun (V4539) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V4525, V4539}} end(E1788)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1779, E1780)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1789} -> (fun (V4540) -> begin (V4541 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4504, V4540))(V4500))), case V4541 of {'Idris.Prelude.Types.Left', E1790} -> (fun (V4542) -> {'Idris.Prelude.Types.Left', V4542} end(E1790)); {'Idris.Prelude.Types.Right', E1791} -> (fun (V4543) -> begin (V4544 = (('un--nfToCFType'(V0, V4495, V2, V4543))(V4500))), case V4544 of {'Idris.Prelude.Types.Left', E1792} -> (fun (V4545) -> {'Idris.Prelude.Types.Left', V4545} end(E1792)); {'Idris.Prelude.Types.Right', E1793} -> (fun (V4546) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V4546}} end(E1793)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1791)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1789)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1772)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1770)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1768)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1762, E1763, E1764, E1765, E1766)); {'Idris.Core.Value.NType', E1794} -> (fun (V4547) -> fun (V4548) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1794)); {'Idris.Core.Value.NErased', E1795, E1796} -> (fun (V4549, V4550) -> fun (V4551) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1795, E1796)); _ -> fun (V4552) -> begin (V4554 = begin (V4553 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4553} end), case V4554 of {'Idris.Prelude.Types.Left', E1756} -> (fun (V4555) -> {'Idris.Prelude.Types.Left', V4555} end(E1756)); {'Idris.Prelude.Types.Right', E1757} -> (fun (V4556) -> begin (V4557 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V4556, {'Idris.Core.Env.Nil'}, V3, V4552))), case V4557 of {'Idris.Prelude.Types.Left', E1758} -> (fun (V4558) -> {'Idris.Prelude.Types.Left', V4558} end(E1758)); {'Idris.Prelude.Types.Right', E1759} -> (fun (V4559) -> begin (V4564 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4560) -> fun (V4561) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V4560, V4561)) end end, fun (V4562) -> fun (V4563) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V4562, V4563)) end end}, V4559, V4552))), case V4564 of {'Idris.Prelude.Types.Left', E1760} -> (fun (V4565) -> {'Idris.Prelude.Types.Left', V4565} end(E1760)); {'Idris.Prelude.Types.Right', E1761} -> (fun (V4566) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V4566))))}, V4552)) end(E1761)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1759)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1757)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E1752, E1753, E1754, E1755)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1717, E1718, E1719, E1720, E1721} -> (fun (V4567, V4568, V4569, V4570, V4571) -> fun (V4572) -> begin (V4574 = begin (V4573 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4573} end), case V4574 of {'Idris.Prelude.Types.Left', E1722} -> (fun (V4575) -> {'Idris.Prelude.Types.Left', V4575} end(E1722)); {'Idris.Prelude.Types.Right', E1723} -> (fun (V4576) -> begin (V4581 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4577) -> fun (V4578) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V4577, V4578)) end end, fun (V4579) -> fun (V4580) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V4579, V4580)) end end}, V4568, V4572))), case V4581 of {'Idris.Prelude.Types.Left', E1724} -> (fun (V4582) -> {'Idris.Prelude.Types.Left', V4582} end(E1724)); {'Idris.Prelude.Types.Right', E1725} -> (fun (V4583) -> begin (V4584 = (('un--getNArgs'(V0, V4576, V4583, V4571))(V4572))), case V4584 of {'Idris.Prelude.Types.Left', E1726} -> (fun (V4585) -> {'Idris.Prelude.Types.Left', V4585} end(E1726)); {'Idris.Prelude.Types.Right', E1727} -> (fun (V4586) -> case V4586 of {'Idris.Compiler.CompileExpr.User', E1728, E1729} -> (fun (V4587, V4588) -> begin (V4590 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4589) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4576, V4589)) end, V4588, []))(V4572))), case V4590 of {'Idris.Prelude.Types.Left', E1730} -> (fun (V4591) -> {'Idris.Prelude.Types.Left', V4591} end(E1730)); {'Idris.Prelude.Types.Right', E1731} -> (fun (V4592) -> begin (V4594 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4593) -> ('un--nfToCFType'(V0, V4567, V2, V4593)) end, V4592, []))(V4572))), case V4594 of {'Idris.Prelude.Types.Left', E1732} -> (fun (V4595) -> {'Idris.Prelude.Types.Left', V4595} end(E1732)); {'Idris.Prelude.Types.Right', E1733} -> (fun (V4596) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V4583, V4596}} end(E1733)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1731)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1728, E1729)); {'Idris.Compiler.CompileExpr.Struct', E1734, E1735} -> (fun (V4597, V4598) -> begin (V4609 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4599) -> case V4599 of {'Idris.Builtin.MkPair', E1736, E1737} -> (fun (V4600, V4601) -> fun (V4602) -> begin (V4603 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4576, V4601))(V4602))), case V4603 of {'Idris.Prelude.Types.Left', E1738} -> (fun (V4604) -> {'Idris.Prelude.Types.Left', V4604} end(E1738)); {'Idris.Prelude.Types.Right', E1739} -> (fun (V4605) -> begin (V4606 = (('un--nfToCFType'(V0, V4567, 0, V4605))(V4602))), case V4606 of {'Idris.Prelude.Types.Left', E1740} -> (fun (V4607) -> {'Idris.Prelude.Types.Left', V4607} end(E1740)); {'Idris.Prelude.Types.Right', E1741} -> (fun (V4608) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V4600, V4608}} end(E1741)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1739)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1736, E1737)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V4598, []))(V4572))), case V4609 of {'Idris.Prelude.Types.Left', E1742} -> (fun (V4610) -> {'Idris.Prelude.Types.Left', V4610} end(E1742)); {'Idris.Prelude.Types.Right', E1743} -> (fun (V4611) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V4597, V4611}} end(E1743)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1734, E1735)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1744} -> (fun (V4612) -> begin (V4613 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4576, V4612))(V4572))), case V4613 of {'Idris.Prelude.Types.Left', E1745} -> (fun (V4614) -> {'Idris.Prelude.Types.Left', V4614} end(E1745)); {'Idris.Prelude.Types.Right', E1746} -> (fun (V4615) -> begin (V4616 = (('un--nfToCFType'(V0, V4567, V2, V4615))(V4572))), case V4616 of {'Idris.Prelude.Types.Left', E1747} -> (fun (V4617) -> {'Idris.Prelude.Types.Left', V4617} end(E1747)); {'Idris.Prelude.Types.Right', E1748} -> (fun (V4618) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V4618}} end(E1748)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1746)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1744)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1727)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1725)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1723)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1717, E1718, E1719, E1720, E1721)); {'Idris.Core.Value.NType', E1749} -> (fun (V4619) -> fun (V4620) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1749)); {'Idris.Core.Value.NErased', E1750, E1751} -> (fun (V4621, V4622) -> fun (V4623) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1750, E1751)); _ -> fun (V4624) -> begin (V4626 = begin (V4625 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4625} end), case V4626 of {'Idris.Prelude.Types.Left', E1711} -> (fun (V4627) -> {'Idris.Prelude.Types.Left', V4627} end(E1711)); {'Idris.Prelude.Types.Right', E1712} -> (fun (V4628) -> begin (V4629 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V4628, {'Idris.Core.Env.Nil'}, V3, V4624))), case V4629 of {'Idris.Prelude.Types.Left', E1713} -> (fun (V4630) -> {'Idris.Prelude.Types.Left', V4630} end(E1713)); {'Idris.Prelude.Types.Right', E1714} -> (fun (V4631) -> begin (V4636 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4632) -> fun (V4633) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V4632, V4633)) end end, fun (V4634) -> fun (V4635) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V4634, V4635)) end end}, V4631, V4624))), case V4636 of {'Idris.Prelude.Types.Left', E1715} -> (fun (V4637) -> {'Idris.Prelude.Types.Left', V4637} end(E1715)); {'Idris.Prelude.Types.Right', E1716} -> (fun (V4638) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V4638))))}, V4624)) end(E1716)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1714)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1712)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E1850, E1851, E1852, E1853} -> (fun (V4639, V4640, V4641, V4642) -> fun (V4643) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V4639, <<"Function types not allowed in a foreign struct"/utf8>>}, V4643)) end end(E1850, E1851, E1852, E1853)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1815, E1816, E1817, E1818, E1819} -> (fun (V4644, V4645, V4646, V4647, V4648) -> fun (V4649) -> begin (V4651 = begin (V4650 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4650} end), case V4651 of {'Idris.Prelude.Types.Left', E1820} -> (fun (V4652) -> {'Idris.Prelude.Types.Left', V4652} end(E1820)); {'Idris.Prelude.Types.Right', E1821} -> (fun (V4653) -> begin (V4658 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4654) -> fun (V4655) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V4654, V4655)) end end, fun (V4656) -> fun (V4657) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V4656, V4657)) end end}, V4645, V4649))), case V4658 of {'Idris.Prelude.Types.Left', E1822} -> (fun (V4659) -> {'Idris.Prelude.Types.Left', V4659} end(E1822)); {'Idris.Prelude.Types.Right', E1823} -> (fun (V4660) -> begin (V4661 = (('un--getNArgs'(V0, V4653, V4660, V4648))(V4649))), case V4661 of {'Idris.Prelude.Types.Left', E1824} -> (fun (V4662) -> {'Idris.Prelude.Types.Left', V4662} end(E1824)); {'Idris.Prelude.Types.Right', E1825} -> (fun (V4663) -> case V4663 of {'Idris.Compiler.CompileExpr.User', E1826, E1827} -> (fun (V4664, V4665) -> begin (V4667 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4666) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4653, V4666)) end, V4665, []))(V4649))), case V4667 of {'Idris.Prelude.Types.Left', E1828} -> (fun (V4668) -> {'Idris.Prelude.Types.Left', V4668} end(E1828)); {'Idris.Prelude.Types.Right', E1829} -> (fun (V4669) -> begin (V4671 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4670) -> ('un--nfToCFType'(V0, V4644, V2, V4670)) end, V4669, []))(V4649))), case V4671 of {'Idris.Prelude.Types.Left', E1830} -> (fun (V4672) -> {'Idris.Prelude.Types.Left', V4672} end(E1830)); {'Idris.Prelude.Types.Right', E1831} -> (fun (V4673) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V4660, V4673}} end(E1831)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1829)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1826, E1827)); {'Idris.Compiler.CompileExpr.Struct', E1832, E1833} -> (fun (V4674, V4675) -> begin (V4686 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4676) -> case V4676 of {'Idris.Builtin.MkPair', E1834, E1835} -> (fun (V4677, V4678) -> fun (V4679) -> begin (V4680 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4653, V4678))(V4679))), case V4680 of {'Idris.Prelude.Types.Left', E1836} -> (fun (V4681) -> {'Idris.Prelude.Types.Left', V4681} end(E1836)); {'Idris.Prelude.Types.Right', E1837} -> (fun (V4682) -> begin (V4683 = (('un--nfToCFType'(V0, V4644, 0, V4682))(V4679))), case V4683 of {'Idris.Prelude.Types.Left', E1838} -> (fun (V4684) -> {'Idris.Prelude.Types.Left', V4684} end(E1838)); {'Idris.Prelude.Types.Right', E1839} -> (fun (V4685) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V4677, V4685}} end(E1839)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1837)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1834, E1835)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V4675, []))(V4649))), case V4686 of {'Idris.Prelude.Types.Left', E1840} -> (fun (V4687) -> {'Idris.Prelude.Types.Left', V4687} end(E1840)); {'Idris.Prelude.Types.Right', E1841} -> (fun (V4688) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V4674, V4688}} end(E1841)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1832, E1833)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1842} -> (fun (V4689) -> begin (V4690 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4653, V4689))(V4649))), case V4690 of {'Idris.Prelude.Types.Left', E1843} -> (fun (V4691) -> {'Idris.Prelude.Types.Left', V4691} end(E1843)); {'Idris.Prelude.Types.Right', E1844} -> (fun (V4692) -> begin (V4693 = (('un--nfToCFType'(V0, V4644, V2, V4692))(V4649))), case V4693 of {'Idris.Prelude.Types.Left', E1845} -> (fun (V4694) -> {'Idris.Prelude.Types.Left', V4694} end(E1845)); {'Idris.Prelude.Types.Right', E1846} -> (fun (V4695) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V4695}} end(E1846)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1844)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1842)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1825)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1823)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1821)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1815, E1816, E1817, E1818, E1819)); {'Idris.Core.Value.NType', E1847} -> (fun (V4696) -> fun (V4697) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1847)); {'Idris.Core.Value.NErased', E1848, E1849} -> (fun (V4698, V4699) -> fun (V4700) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1848, E1849)); _ -> fun (V4701) -> begin (V4703 = begin (V4702 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4702} end), case V4703 of {'Idris.Prelude.Types.Left', E1809} -> (fun (V4704) -> {'Idris.Prelude.Types.Left', V4704} end(E1809)); {'Idris.Prelude.Types.Right', E1810} -> (fun (V4705) -> begin (V4706 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V4705, {'Idris.Core.Env.Nil'}, V3, V4701))), case V4706 of {'Idris.Prelude.Types.Left', E1811} -> (fun (V4707) -> {'Idris.Prelude.Types.Left', V4707} end(E1811)); {'Idris.Prelude.Types.Right', E1812} -> (fun (V4708) -> begin (V4713 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4709) -> fun (V4710) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V4709, V4710)) end end, fun (V4711) -> fun (V4712) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V4711, V4712)) end end}, V4708, V4701))), case V4713 of {'Idris.Prelude.Types.Left', E1813} -> (fun (V4714) -> {'Idris.Prelude.Types.Left', V4714} end(E1813)); {'Idris.Prelude.Types.Right', E1814} -> (fun (V4715) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V4715))))}, V4701)) end(E1814)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1812)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1810)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E1676, E1677, E1678, E1679, E1680} -> (fun (V4716, V4717, V4718, V4719, V4720) -> fun (V4721) -> begin (V4723 = begin (V4722 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4722} end), case V4723 of {'Idris.Prelude.Types.Left', E1681} -> (fun (V4724) -> {'Idris.Prelude.Types.Left', V4724} end(E1681)); {'Idris.Prelude.Types.Right', E1682} -> (fun (V4725) -> begin (V4730 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4726) -> fun (V4727) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V4726, V4727)) end end, fun (V4728) -> fun (V4729) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V4728, V4729)) end end}, V4717, V4721))), case V4730 of {'Idris.Prelude.Types.Left', E1683} -> (fun (V4731) -> {'Idris.Prelude.Types.Left', V4731} end(E1683)); {'Idris.Prelude.Types.Right', E1684} -> (fun (V4732) -> begin (V4733 = (('un--getNArgs'(V0, V4725, V4732, V4720))(V4721))), case V4733 of {'Idris.Prelude.Types.Left', E1685} -> (fun (V4734) -> {'Idris.Prelude.Types.Left', V4734} end(E1685)); {'Idris.Prelude.Types.Right', E1686} -> (fun (V4735) -> case V4735 of {'Idris.Compiler.CompileExpr.User', E1687, E1688} -> (fun (V4736, V4737) -> begin (V4739 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4738) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4725, V4738)) end, V4737, []))(V4721))), case V4739 of {'Idris.Prelude.Types.Left', E1689} -> (fun (V4740) -> {'Idris.Prelude.Types.Left', V4740} end(E1689)); {'Idris.Prelude.Types.Right', E1690} -> (fun (V4741) -> begin (V4743 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4742) -> ('un--nfToCFType'(V0, V4716, V2, V4742)) end, V4741, []))(V4721))), case V4743 of {'Idris.Prelude.Types.Left', E1691} -> (fun (V4744) -> {'Idris.Prelude.Types.Left', V4744} end(E1691)); {'Idris.Prelude.Types.Right', E1692} -> (fun (V4745) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V4732, V4745}} end(E1692)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1690)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1687, E1688)); {'Idris.Compiler.CompileExpr.Struct', E1693, E1694} -> (fun (V4746, V4747) -> begin (V4758 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4748) -> case V4748 of {'Idris.Builtin.MkPair', E1695, E1696} -> (fun (V4749, V4750) -> fun (V4751) -> begin (V4752 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4725, V4750))(V4751))), case V4752 of {'Idris.Prelude.Types.Left', E1697} -> (fun (V4753) -> {'Idris.Prelude.Types.Left', V4753} end(E1697)); {'Idris.Prelude.Types.Right', E1698} -> (fun (V4754) -> begin (V4755 = (('un--nfToCFType'(V0, V4716, 0, V4754))(V4751))), case V4755 of {'Idris.Prelude.Types.Left', E1699} -> (fun (V4756) -> {'Idris.Prelude.Types.Left', V4756} end(E1699)); {'Idris.Prelude.Types.Right', E1700} -> (fun (V4757) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V4749, V4757}} end(E1700)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1698)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1695, E1696)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V4747, []))(V4721))), case V4758 of {'Idris.Prelude.Types.Left', E1701} -> (fun (V4759) -> {'Idris.Prelude.Types.Left', V4759} end(E1701)); {'Idris.Prelude.Types.Right', E1702} -> (fun (V4760) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V4746, V4760}} end(E1702)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1693, E1694)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1703} -> (fun (V4761) -> begin (V4762 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4725, V4761))(V4721))), case V4762 of {'Idris.Prelude.Types.Left', E1704} -> (fun (V4763) -> {'Idris.Prelude.Types.Left', V4763} end(E1704)); {'Idris.Prelude.Types.Right', E1705} -> (fun (V4764) -> begin (V4765 = (('un--nfToCFType'(V0, V4716, V2, V4764))(V4721))), case V4765 of {'Idris.Prelude.Types.Left', E1706} -> (fun (V4766) -> {'Idris.Prelude.Types.Left', V4766} end(E1706)); {'Idris.Prelude.Types.Right', E1707} -> (fun (V4767) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V4767}} end(E1707)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1705)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1703)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1686)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1684)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1682)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1676, E1677, E1678, E1679, E1680)); {'Idris.Core.Value.NType', E1708} -> (fun (V4768) -> fun (V4769) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1708)); {'Idris.Core.Value.NErased', E1709, E1710} -> (fun (V4770, V4771) -> fun (V4772) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1709, E1710)); _ -> fun (V4773) -> begin (V4775 = begin (V4774 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4774} end), case V4775 of {'Idris.Prelude.Types.Left', E1670} -> (fun (V4776) -> {'Idris.Prelude.Types.Left', V4776} end(E1670)); {'Idris.Prelude.Types.Right', E1671} -> (fun (V4777) -> begin (V4778 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V4777, {'Idris.Core.Env.Nil'}, V3, V4773))), case V4778 of {'Idris.Prelude.Types.Left', E1672} -> (fun (V4779) -> {'Idris.Prelude.Types.Left', V4779} end(E1672)); {'Idris.Prelude.Types.Right', E1673} -> (fun (V4780) -> begin (V4785 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4781) -> fun (V4782) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V4781, V4782)) end end, fun (V4783) -> fun (V4784) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V4783, V4784)) end end}, V4780, V4773))), case V4785 of {'Idris.Prelude.Types.Left', E1674} -> (fun (V4786) -> {'Idris.Prelude.Types.Left', V4786} end(E1674)); {'Idris.Prelude.Types.Right', E1675} -> (fun (V4787) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V4787))))}, V4773)) end(E1675)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1673)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1671)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end(E1668, E1669)); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E1566, E1567, E1568, E1569} -> (fun (V4788, V4789, V4790, V4791) -> case V4790 of {'Idris.Core.TT.Pi', E1611, E1612, E1613, E1614} -> (fun (V4792, V4793, V4794, V4795) -> fun (V4796) -> begin (V4798 = begin (V4797 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4797} end), case V4798 of {'Idris.Prelude.Types.Left', E1615} -> (fun (V4799) -> {'Idris.Prelude.Types.Left', V4799} end(E1615)); {'Idris.Prelude.Types.Right', E1616} -> (fun (V4800) -> begin (V4801 = (('un--nfToCFType'(V0, V4788, 1, V4795))(V4796))), case V4801 of {'Idris.Prelude.Types.Left', E1617} -> (fun (V4802) -> {'Idris.Prelude.Types.Left', V4802} end(E1617)); {'Idris.Prelude.Types.Right', E1618} -> (fun (V4803) -> begin (V4804 = (((V4791(V4800))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V4788, 1}))))(V4796))), case V4804 of {'Idris.Prelude.Types.Left', E1619} -> (fun (V4805) -> {'Idris.Prelude.Types.Left', V4805} end(E1619)); {'Idris.Prelude.Types.Right', E1620} -> (fun (V4806) -> begin (V4807 = (('un--nfToCFType'(V0, V4788, 1, V4806))(V4796))), case V4807 of {'Idris.Prelude.Types.Left', E1621} -> (fun (V4808) -> {'Idris.Prelude.Types.Left', V4808} end(E1621)); {'Idris.Prelude.Types.Right', E1622} -> (fun (V4809) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V4803, V4809}} end(E1622)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1620)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1618)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1616)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1611, E1612, E1613, E1614)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1576, E1577, E1578, E1579, E1580} -> (fun (V4810, V4811, V4812, V4813, V4814) -> fun (V4815) -> begin (V4817 = begin (V4816 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4816} end), case V4817 of {'Idris.Prelude.Types.Left', E1581} -> (fun (V4818) -> {'Idris.Prelude.Types.Left', V4818} end(E1581)); {'Idris.Prelude.Types.Right', E1582} -> (fun (V4819) -> begin (V4824 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4820) -> fun (V4821) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V4820, V4821)) end end, fun (V4822) -> fun (V4823) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V4822, V4823)) end end}, V4811, V4815))), case V4824 of {'Idris.Prelude.Types.Left', E1583} -> (fun (V4825) -> {'Idris.Prelude.Types.Left', V4825} end(E1583)); {'Idris.Prelude.Types.Right', E1584} -> (fun (V4826) -> begin (V4827 = (('un--getNArgs'(V0, V4819, V4826, V4814))(V4815))), case V4827 of {'Idris.Prelude.Types.Left', E1585} -> (fun (V4828) -> {'Idris.Prelude.Types.Left', V4828} end(E1585)); {'Idris.Prelude.Types.Right', E1586} -> (fun (V4829) -> case V4829 of {'Idris.Compiler.CompileExpr.User', E1587, E1588} -> (fun (V4830, V4831) -> begin (V4833 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4832) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4819, V4832)) end, V4831, []))(V4815))), case V4833 of {'Idris.Prelude.Types.Left', E1589} -> (fun (V4834) -> {'Idris.Prelude.Types.Left', V4834} end(E1589)); {'Idris.Prelude.Types.Right', E1590} -> (fun (V4835) -> begin (V4837 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4836) -> ('un--nfToCFType'(V0, V4810, V2, V4836)) end, V4835, []))(V4815))), case V4837 of {'Idris.Prelude.Types.Left', E1591} -> (fun (V4838) -> {'Idris.Prelude.Types.Left', V4838} end(E1591)); {'Idris.Prelude.Types.Right', E1592} -> (fun (V4839) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V4826, V4839}} end(E1592)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1590)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1587, E1588)); {'Idris.Compiler.CompileExpr.Struct', E1593, E1594} -> (fun (V4840, V4841) -> begin (V4852 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4842) -> case V4842 of {'Idris.Builtin.MkPair', E1595, E1596} -> (fun (V4843, V4844) -> fun (V4845) -> begin (V4846 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4819, V4844))(V4845))), case V4846 of {'Idris.Prelude.Types.Left', E1597} -> (fun (V4847) -> {'Idris.Prelude.Types.Left', V4847} end(E1597)); {'Idris.Prelude.Types.Right', E1598} -> (fun (V4848) -> begin (V4849 = (('un--nfToCFType'(V0, V4810, 0, V4848))(V4845))), case V4849 of {'Idris.Prelude.Types.Left', E1599} -> (fun (V4850) -> {'Idris.Prelude.Types.Left', V4850} end(E1599)); {'Idris.Prelude.Types.Right', E1600} -> (fun (V4851) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V4843, V4851}} end(E1600)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1598)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1595, E1596)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V4841, []))(V4815))), case V4852 of {'Idris.Prelude.Types.Left', E1601} -> (fun (V4853) -> {'Idris.Prelude.Types.Left', V4853} end(E1601)); {'Idris.Prelude.Types.Right', E1602} -> (fun (V4854) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V4840, V4854}} end(E1602)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1593, E1594)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1603} -> (fun (V4855) -> begin (V4856 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4819, V4855))(V4815))), case V4856 of {'Idris.Prelude.Types.Left', E1604} -> (fun (V4857) -> {'Idris.Prelude.Types.Left', V4857} end(E1604)); {'Idris.Prelude.Types.Right', E1605} -> (fun (V4858) -> begin (V4859 = (('un--nfToCFType'(V0, V4810, V2, V4858))(V4815))), case V4859 of {'Idris.Prelude.Types.Left', E1606} -> (fun (V4860) -> {'Idris.Prelude.Types.Left', V4860} end(E1606)); {'Idris.Prelude.Types.Right', E1607} -> (fun (V4861) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V4861}} end(E1607)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1605)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1603)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1586)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1584)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1582)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1576, E1577, E1578, E1579, E1580)); {'Idris.Core.Value.NType', E1608} -> (fun (V4862) -> fun (V4863) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1608)); {'Idris.Core.Value.NErased', E1609, E1610} -> (fun (V4864, V4865) -> fun (V4866) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1609, E1610)); _ -> fun (V4867) -> begin (V4869 = begin (V4868 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4868} end), case V4869 of {'Idris.Prelude.Types.Left', E1570} -> (fun (V4870) -> {'Idris.Prelude.Types.Left', V4870} end(E1570)); {'Idris.Prelude.Types.Right', E1571} -> (fun (V4871) -> begin (V4872 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V4871, {'Idris.Core.Env.Nil'}, V3, V4867))), case V4872 of {'Idris.Prelude.Types.Left', E1572} -> (fun (V4873) -> {'Idris.Prelude.Types.Left', V4873} end(E1572)); {'Idris.Prelude.Types.Right', E1573} -> (fun (V4874) -> begin (V4879 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4875) -> fun (V4876) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V4875, V4876)) end end, fun (V4877) -> fun (V4878) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V4877, V4878)) end end}, V4874, V4867))), case V4879 of {'Idris.Prelude.Types.Left', E1574} -> (fun (V4880) -> {'Idris.Prelude.Types.Left', V4880} end(E1574)); {'Idris.Prelude.Types.Right', E1575} -> (fun (V4881) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V4881))))}, V4867)) end(E1575)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1573)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1571)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E1566, E1567, E1568, E1569)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1531, E1532, E1533, E1534, E1535} -> (fun (V4882, V4883, V4884, V4885, V4886) -> fun (V4887) -> begin (V4889 = begin (V4888 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4888} end), case V4889 of {'Idris.Prelude.Types.Left', E1536} -> (fun (V4890) -> {'Idris.Prelude.Types.Left', V4890} end(E1536)); {'Idris.Prelude.Types.Right', E1537} -> (fun (V4891) -> begin (V4896 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4892) -> fun (V4893) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V4892, V4893)) end end, fun (V4894) -> fun (V4895) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V4894, V4895)) end end}, V4883, V4887))), case V4896 of {'Idris.Prelude.Types.Left', E1538} -> (fun (V4897) -> {'Idris.Prelude.Types.Left', V4897} end(E1538)); {'Idris.Prelude.Types.Right', E1539} -> (fun (V4898) -> begin (V4899 = (('un--getNArgs'(V0, V4891, V4898, V4886))(V4887))), case V4899 of {'Idris.Prelude.Types.Left', E1540} -> (fun (V4900) -> {'Idris.Prelude.Types.Left', V4900} end(E1540)); {'Idris.Prelude.Types.Right', E1541} -> (fun (V4901) -> case V4901 of {'Idris.Compiler.CompileExpr.User', E1542, E1543} -> (fun (V4902, V4903) -> begin (V4905 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4904) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4891, V4904)) end, V4903, []))(V4887))), case V4905 of {'Idris.Prelude.Types.Left', E1544} -> (fun (V4906) -> {'Idris.Prelude.Types.Left', V4906} end(E1544)); {'Idris.Prelude.Types.Right', E1545} -> (fun (V4907) -> begin (V4909 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4908) -> ('un--nfToCFType'(V0, V4882, V2, V4908)) end, V4907, []))(V4887))), case V4909 of {'Idris.Prelude.Types.Left', E1546} -> (fun (V4910) -> {'Idris.Prelude.Types.Left', V4910} end(E1546)); {'Idris.Prelude.Types.Right', E1547} -> (fun (V4911) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V4898, V4911}} end(E1547)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1545)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1542, E1543)); {'Idris.Compiler.CompileExpr.Struct', E1548, E1549} -> (fun (V4912, V4913) -> begin (V4924 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4914) -> case V4914 of {'Idris.Builtin.MkPair', E1550, E1551} -> (fun (V4915, V4916) -> fun (V4917) -> begin (V4918 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4891, V4916))(V4917))), case V4918 of {'Idris.Prelude.Types.Left', E1552} -> (fun (V4919) -> {'Idris.Prelude.Types.Left', V4919} end(E1552)); {'Idris.Prelude.Types.Right', E1553} -> (fun (V4920) -> begin (V4921 = (('un--nfToCFType'(V0, V4882, 0, V4920))(V4917))), case V4921 of {'Idris.Prelude.Types.Left', E1554} -> (fun (V4922) -> {'Idris.Prelude.Types.Left', V4922} end(E1554)); {'Idris.Prelude.Types.Right', E1555} -> (fun (V4923) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V4915, V4923}} end(E1555)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1553)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1550, E1551)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V4913, []))(V4887))), case V4924 of {'Idris.Prelude.Types.Left', E1556} -> (fun (V4925) -> {'Idris.Prelude.Types.Left', V4925} end(E1556)); {'Idris.Prelude.Types.Right', E1557} -> (fun (V4926) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V4912, V4926}} end(E1557)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1548, E1549)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1558} -> (fun (V4927) -> begin (V4928 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4891, V4927))(V4887))), case V4928 of {'Idris.Prelude.Types.Left', E1559} -> (fun (V4929) -> {'Idris.Prelude.Types.Left', V4929} end(E1559)); {'Idris.Prelude.Types.Right', E1560} -> (fun (V4930) -> begin (V4931 = (('un--nfToCFType'(V0, V4882, V2, V4930))(V4887))), case V4931 of {'Idris.Prelude.Types.Left', E1561} -> (fun (V4932) -> {'Idris.Prelude.Types.Left', V4932} end(E1561)); {'Idris.Prelude.Types.Right', E1562} -> (fun (V4933) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V4933}} end(E1562)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1560)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1558)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1541)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1539)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1537)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1531, E1532, E1533, E1534, E1535)); {'Idris.Core.Value.NType', E1563} -> (fun (V4934) -> fun (V4935) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1563)); {'Idris.Core.Value.NErased', E1564, E1565} -> (fun (V4936, V4937) -> fun (V4938) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1564, E1565)); _ -> fun (V4939) -> begin (V4941 = begin (V4940 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4940} end), case V4941 of {'Idris.Prelude.Types.Left', E1525} -> (fun (V4942) -> {'Idris.Prelude.Types.Left', V4942} end(E1525)); {'Idris.Prelude.Types.Right', E1526} -> (fun (V4943) -> begin (V4944 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V4943, {'Idris.Core.Env.Nil'}, V3, V4939))), case V4944 of {'Idris.Prelude.Types.Left', E1527} -> (fun (V4945) -> {'Idris.Prelude.Types.Left', V4945} end(E1527)); {'Idris.Prelude.Types.Right', E1528} -> (fun (V4946) -> begin (V4951 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4947) -> fun (V4948) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V4947, V4948)) end end, fun (V4949) -> fun (V4950) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V4949, V4950)) end end}, V4946, V4939))), case V4951 of {'Idris.Prelude.Types.Left', E1529} -> (fun (V4952) -> {'Idris.Prelude.Types.Left', V4952} end(E1529)); {'Idris.Prelude.Types.Right', E1530} -> (fun (V4953) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V4953))))}, V4939)) end(E1530)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1528)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1526)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E1664, E1665, E1666, E1667} -> (fun (V4954, V4955, V4956, V4957) -> fun (V4958) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V4954, <<"Function types not allowed in a foreign struct"/utf8>>}, V4958)) end end(E1664, E1665, E1666, E1667)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1629, E1630, E1631, E1632, E1633} -> (fun (V4959, V4960, V4961, V4962, V4963) -> fun (V4964) -> begin (V4966 = begin (V4965 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V4965} end), case V4966 of {'Idris.Prelude.Types.Left', E1634} -> (fun (V4967) -> {'Idris.Prelude.Types.Left', V4967} end(E1634)); {'Idris.Prelude.Types.Right', E1635} -> (fun (V4968) -> begin (V4973 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V4969) -> fun (V4970) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V4969, V4970)) end end, fun (V4971) -> fun (V4972) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V4971, V4972)) end end}, V4960, V4964))), case V4973 of {'Idris.Prelude.Types.Left', E1636} -> (fun (V4974) -> {'Idris.Prelude.Types.Left', V4974} end(E1636)); {'Idris.Prelude.Types.Right', E1637} -> (fun (V4975) -> begin (V4976 = (('un--getNArgs'(V0, V4968, V4975, V4963))(V4964))), case V4976 of {'Idris.Prelude.Types.Left', E1638} -> (fun (V4977) -> {'Idris.Prelude.Types.Left', V4977} end(E1638)); {'Idris.Prelude.Types.Right', E1639} -> (fun (V4978) -> case V4978 of {'Idris.Compiler.CompileExpr.User', E1640, E1641} -> (fun (V4979, V4980) -> begin (V4982 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4981) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4968, V4981)) end, V4980, []))(V4964))), case V4982 of {'Idris.Prelude.Types.Left', E1642} -> (fun (V4983) -> {'Idris.Prelude.Types.Left', V4983} end(E1642)); {'Idris.Prelude.Types.Right', E1643} -> (fun (V4984) -> begin (V4986 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4985) -> ('un--nfToCFType'(V0, V4959, V2, V4985)) end, V4984, []))(V4964))), case V4986 of {'Idris.Prelude.Types.Left', E1644} -> (fun (V4987) -> {'Idris.Prelude.Types.Left', V4987} end(E1644)); {'Idris.Prelude.Types.Right', E1645} -> (fun (V4988) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V4975, V4988}} end(E1645)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1643)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1640, E1641)); {'Idris.Compiler.CompileExpr.Struct', E1646, E1647} -> (fun (V4989, V4990) -> begin (V5001 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V4991) -> case V4991 of {'Idris.Builtin.MkPair', E1648, E1649} -> (fun (V4992, V4993) -> fun (V4994) -> begin (V4995 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4968, V4993))(V4994))), case V4995 of {'Idris.Prelude.Types.Left', E1650} -> (fun (V4996) -> {'Idris.Prelude.Types.Left', V4996} end(E1650)); {'Idris.Prelude.Types.Right', E1651} -> (fun (V4997) -> begin (V4998 = (('un--nfToCFType'(V0, V4959, 0, V4997))(V4994))), case V4998 of {'Idris.Prelude.Types.Left', E1652} -> (fun (V4999) -> {'Idris.Prelude.Types.Left', V4999} end(E1652)); {'Idris.Prelude.Types.Right', E1653} -> (fun (V5000) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V4992, V5000}} end(E1653)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1651)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1648, E1649)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V4990, []))(V4964))), case V5001 of {'Idris.Prelude.Types.Left', E1654} -> (fun (V5002) -> {'Idris.Prelude.Types.Left', V5002} end(E1654)); {'Idris.Prelude.Types.Right', E1655} -> (fun (V5003) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V4989, V5003}} end(E1655)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1646, E1647)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1656} -> (fun (V5004) -> begin (V5005 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V4968, V5004))(V4964))), case V5005 of {'Idris.Prelude.Types.Left', E1657} -> (fun (V5006) -> {'Idris.Prelude.Types.Left', V5006} end(E1657)); {'Idris.Prelude.Types.Right', E1658} -> (fun (V5007) -> begin (V5008 = (('un--nfToCFType'(V0, V4959, V2, V5007))(V4964))), case V5008 of {'Idris.Prelude.Types.Left', E1659} -> (fun (V5009) -> {'Idris.Prelude.Types.Left', V5009} end(E1659)); {'Idris.Prelude.Types.Right', E1660} -> (fun (V5010) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V5010}} end(E1660)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1658)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1656)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1639)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1637)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1635)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1629, E1630, E1631, E1632, E1633)); {'Idris.Core.Value.NType', E1661} -> (fun (V5011) -> fun (V5012) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1661)); {'Idris.Core.Value.NErased', E1662, E1663} -> (fun (V5013, V5014) -> fun (V5015) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1662, E1663)); _ -> fun (V5016) -> begin (V5018 = begin (V5017 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5017} end), case V5018 of {'Idris.Prelude.Types.Left', E1623} -> (fun (V5019) -> {'Idris.Prelude.Types.Left', V5019} end(E1623)); {'Idris.Prelude.Types.Right', E1624} -> (fun (V5020) -> begin (V5021 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V5020, {'Idris.Core.Env.Nil'}, V3, V5016))), case V5021 of {'Idris.Prelude.Types.Left', E1625} -> (fun (V5022) -> {'Idris.Prelude.Types.Left', V5022} end(E1625)); {'Idris.Prelude.Types.Right', E1626} -> (fun (V5023) -> begin (V5028 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5024) -> fun (V5025) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V5024, V5025)) end end, fun (V5026) -> fun (V5027) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V5026, V5027)) end end}, V5023, V5016))), case V5028 of {'Idris.Prelude.Types.Left', E1627} -> (fun (V5029) -> {'Idris.Prelude.Types.Left', V5029} end(E1627)); {'Idris.Prelude.Types.Right', E1628} -> (fun (V5030) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V5030))))}, V5016)) end(E1628)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1626)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1624)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E1490, E1491, E1492, E1493, E1494} -> (fun (V5031, V5032, V5033, V5034, V5035) -> fun (V5036) -> begin (V5038 = begin (V5037 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5037} end), case V5038 of {'Idris.Prelude.Types.Left', E1495} -> (fun (V5039) -> {'Idris.Prelude.Types.Left', V5039} end(E1495)); {'Idris.Prelude.Types.Right', E1496} -> (fun (V5040) -> begin (V5045 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5041) -> fun (V5042) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V5041, V5042)) end end, fun (V5043) -> fun (V5044) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V5043, V5044)) end end}, V5032, V5036))), case V5045 of {'Idris.Prelude.Types.Left', E1497} -> (fun (V5046) -> {'Idris.Prelude.Types.Left', V5046} end(E1497)); {'Idris.Prelude.Types.Right', E1498} -> (fun (V5047) -> begin (V5048 = (('un--getNArgs'(V0, V5040, V5047, V5035))(V5036))), case V5048 of {'Idris.Prelude.Types.Left', E1499} -> (fun (V5049) -> {'Idris.Prelude.Types.Left', V5049} end(E1499)); {'Idris.Prelude.Types.Right', E1500} -> (fun (V5050) -> case V5050 of {'Idris.Compiler.CompileExpr.User', E1501, E1502} -> (fun (V5051, V5052) -> begin (V5054 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5053) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5040, V5053)) end, V5052, []))(V5036))), case V5054 of {'Idris.Prelude.Types.Left', E1503} -> (fun (V5055) -> {'Idris.Prelude.Types.Left', V5055} end(E1503)); {'Idris.Prelude.Types.Right', E1504} -> (fun (V5056) -> begin (V5058 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5057) -> ('un--nfToCFType'(V0, V5031, V2, V5057)) end, V5056, []))(V5036))), case V5058 of {'Idris.Prelude.Types.Left', E1505} -> (fun (V5059) -> {'Idris.Prelude.Types.Left', V5059} end(E1505)); {'Idris.Prelude.Types.Right', E1506} -> (fun (V5060) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V5047, V5060}} end(E1506)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1504)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1501, E1502)); {'Idris.Compiler.CompileExpr.Struct', E1507, E1508} -> (fun (V5061, V5062) -> begin (V5073 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5063) -> case V5063 of {'Idris.Builtin.MkPair', E1509, E1510} -> (fun (V5064, V5065) -> fun (V5066) -> begin (V5067 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5040, V5065))(V5066))), case V5067 of {'Idris.Prelude.Types.Left', E1511} -> (fun (V5068) -> {'Idris.Prelude.Types.Left', V5068} end(E1511)); {'Idris.Prelude.Types.Right', E1512} -> (fun (V5069) -> begin (V5070 = (('un--nfToCFType'(V0, V5031, 0, V5069))(V5066))), case V5070 of {'Idris.Prelude.Types.Left', E1513} -> (fun (V5071) -> {'Idris.Prelude.Types.Left', V5071} end(E1513)); {'Idris.Prelude.Types.Right', E1514} -> (fun (V5072) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V5064, V5072}} end(E1514)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1512)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1509, E1510)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V5062, []))(V5036))), case V5073 of {'Idris.Prelude.Types.Left', E1515} -> (fun (V5074) -> {'Idris.Prelude.Types.Left', V5074} end(E1515)); {'Idris.Prelude.Types.Right', E1516} -> (fun (V5075) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V5061, V5075}} end(E1516)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1507, E1508)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1517} -> (fun (V5076) -> begin (V5077 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5040, V5076))(V5036))), case V5077 of {'Idris.Prelude.Types.Left', E1518} -> (fun (V5078) -> {'Idris.Prelude.Types.Left', V5078} end(E1518)); {'Idris.Prelude.Types.Right', E1519} -> (fun (V5079) -> begin (V5080 = (('un--nfToCFType'(V0, V5031, V2, V5079))(V5036))), case V5080 of {'Idris.Prelude.Types.Left', E1520} -> (fun (V5081) -> {'Idris.Prelude.Types.Left', V5081} end(E1520)); {'Idris.Prelude.Types.Right', E1521} -> (fun (V5082) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V5082}} end(E1521)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1519)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1517)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1500)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1498)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1496)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1490, E1491, E1492, E1493, E1494)); {'Idris.Core.Value.NType', E1522} -> (fun (V5083) -> fun (V5084) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1522)); {'Idris.Core.Value.NErased', E1523, E1524} -> (fun (V5085, V5086) -> fun (V5087) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1523, E1524)); _ -> fun (V5088) -> begin (V5090 = begin (V5089 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5089} end), case V5090 of {'Idris.Prelude.Types.Left', E1484} -> (fun (V5091) -> {'Idris.Prelude.Types.Left', V5091} end(E1484)); {'Idris.Prelude.Types.Right', E1485} -> (fun (V5092) -> begin (V5093 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V5092, {'Idris.Core.Env.Nil'}, V3, V5088))), case V5093 of {'Idris.Prelude.Types.Left', E1486} -> (fun (V5094) -> {'Idris.Prelude.Types.Left', V5094} end(E1486)); {'Idris.Prelude.Types.Right', E1487} -> (fun (V5095) -> begin (V5100 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5096) -> fun (V5097) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V5096, V5097)) end end, fun (V5098) -> fun (V5099) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V5098, V5099)) end end}, V5095, V5088))), case V5100 of {'Idris.Prelude.Types.Left', E1488} -> (fun (V5101) -> {'Idris.Prelude.Types.Left', V5101} end(E1488)); {'Idris.Prelude.Types.Right', E1489} -> (fun (V5102) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V5102))))}, V5088)) end(E1489)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1487)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1485)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end end(E1482, E1483)); _ -> case V3 of {'Idris.Core.Value.NPrimVal', E1296, E1297} -> (fun (V5103, V5104) -> case V5104 of {'Idris.Core.TT.DoubleType'} -> (fun () -> fun (V5105) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFDouble'}} end end()); {'Idris.Core.TT.CharType'} -> (fun () -> fun (V5106) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFChar'}} end end()); {'Idris.Core.TT.WorldType'} -> (fun () -> fun (V5107) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFWorld'}} end end()); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E1380, E1381, E1382, E1383} -> (fun (V5108, V5109, V5110, V5111) -> case V5110 of {'Idris.Core.TT.Pi', E1425, E1426, E1427, E1428} -> (fun (V5112, V5113, V5114, V5115) -> fun (V5116) -> begin (V5118 = begin (V5117 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5117} end), case V5118 of {'Idris.Prelude.Types.Left', E1429} -> (fun (V5119) -> {'Idris.Prelude.Types.Left', V5119} end(E1429)); {'Idris.Prelude.Types.Right', E1430} -> (fun (V5120) -> begin (V5121 = (('un--nfToCFType'(V0, V5108, 1, V5115))(V5116))), case V5121 of {'Idris.Prelude.Types.Left', E1431} -> (fun (V5122) -> {'Idris.Prelude.Types.Left', V5122} end(E1431)); {'Idris.Prelude.Types.Right', E1432} -> (fun (V5123) -> begin (V5124 = (((V5111(V5120))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V5108, 1}))))(V5116))), case V5124 of {'Idris.Prelude.Types.Left', E1433} -> (fun (V5125) -> {'Idris.Prelude.Types.Left', V5125} end(E1433)); {'Idris.Prelude.Types.Right', E1434} -> (fun (V5126) -> begin (V5127 = (('un--nfToCFType'(V0, V5108, 1, V5126))(V5116))), case V5127 of {'Idris.Prelude.Types.Left', E1435} -> (fun (V5128) -> {'Idris.Prelude.Types.Left', V5128} end(E1435)); {'Idris.Prelude.Types.Right', E1436} -> (fun (V5129) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V5123, V5129}} end(E1436)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1434)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1432)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1430)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1425, E1426, E1427, E1428)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1390, E1391, E1392, E1393, E1394} -> (fun (V5130, V5131, V5132, V5133, V5134) -> fun (V5135) -> begin (V5137 = begin (V5136 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5136} end), case V5137 of {'Idris.Prelude.Types.Left', E1395} -> (fun (V5138) -> {'Idris.Prelude.Types.Left', V5138} end(E1395)); {'Idris.Prelude.Types.Right', E1396} -> (fun (V5139) -> begin (V5144 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5140) -> fun (V5141) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V5140, V5141)) end end, fun (V5142) -> fun (V5143) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V5142, V5143)) end end}, V5131, V5135))), case V5144 of {'Idris.Prelude.Types.Left', E1397} -> (fun (V5145) -> {'Idris.Prelude.Types.Left', V5145} end(E1397)); {'Idris.Prelude.Types.Right', E1398} -> (fun (V5146) -> begin (V5147 = (('un--getNArgs'(V0, V5139, V5146, V5134))(V5135))), case V5147 of {'Idris.Prelude.Types.Left', E1399} -> (fun (V5148) -> {'Idris.Prelude.Types.Left', V5148} end(E1399)); {'Idris.Prelude.Types.Right', E1400} -> (fun (V5149) -> case V5149 of {'Idris.Compiler.CompileExpr.User', E1401, E1402} -> (fun (V5150, V5151) -> begin (V5153 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5152) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5139, V5152)) end, V5151, []))(V5135))), case V5153 of {'Idris.Prelude.Types.Left', E1403} -> (fun (V5154) -> {'Idris.Prelude.Types.Left', V5154} end(E1403)); {'Idris.Prelude.Types.Right', E1404} -> (fun (V5155) -> begin (V5157 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5156) -> ('un--nfToCFType'(V0, V5130, V2, V5156)) end, V5155, []))(V5135))), case V5157 of {'Idris.Prelude.Types.Left', E1405} -> (fun (V5158) -> {'Idris.Prelude.Types.Left', V5158} end(E1405)); {'Idris.Prelude.Types.Right', E1406} -> (fun (V5159) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V5146, V5159}} end(E1406)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1404)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1401, E1402)); {'Idris.Compiler.CompileExpr.Struct', E1407, E1408} -> (fun (V5160, V5161) -> begin (V5172 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5162) -> case V5162 of {'Idris.Builtin.MkPair', E1409, E1410} -> (fun (V5163, V5164) -> fun (V5165) -> begin (V5166 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5139, V5164))(V5165))), case V5166 of {'Idris.Prelude.Types.Left', E1411} -> (fun (V5167) -> {'Idris.Prelude.Types.Left', V5167} end(E1411)); {'Idris.Prelude.Types.Right', E1412} -> (fun (V5168) -> begin (V5169 = (('un--nfToCFType'(V0, V5130, 0, V5168))(V5165))), case V5169 of {'Idris.Prelude.Types.Left', E1413} -> (fun (V5170) -> {'Idris.Prelude.Types.Left', V5170} end(E1413)); {'Idris.Prelude.Types.Right', E1414} -> (fun (V5171) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V5163, V5171}} end(E1414)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1412)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1409, E1410)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V5161, []))(V5135))), case V5172 of {'Idris.Prelude.Types.Left', E1415} -> (fun (V5173) -> {'Idris.Prelude.Types.Left', V5173} end(E1415)); {'Idris.Prelude.Types.Right', E1416} -> (fun (V5174) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V5160, V5174}} end(E1416)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1407, E1408)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1417} -> (fun (V5175) -> begin (V5176 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5139, V5175))(V5135))), case V5176 of {'Idris.Prelude.Types.Left', E1418} -> (fun (V5177) -> {'Idris.Prelude.Types.Left', V5177} end(E1418)); {'Idris.Prelude.Types.Right', E1419} -> (fun (V5178) -> begin (V5179 = (('un--nfToCFType'(V0, V5130, V2, V5178))(V5135))), case V5179 of {'Idris.Prelude.Types.Left', E1420} -> (fun (V5180) -> {'Idris.Prelude.Types.Left', V5180} end(E1420)); {'Idris.Prelude.Types.Right', E1421} -> (fun (V5181) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V5181}} end(E1421)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1419)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1417)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1400)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1398)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1396)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1390, E1391, E1392, E1393, E1394)); {'Idris.Core.Value.NType', E1422} -> (fun (V5182) -> fun (V5183) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1422)); {'Idris.Core.Value.NErased', E1423, E1424} -> (fun (V5184, V5185) -> fun (V5186) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1423, E1424)); _ -> fun (V5187) -> begin (V5189 = begin (V5188 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5188} end), case V5189 of {'Idris.Prelude.Types.Left', E1384} -> (fun (V5190) -> {'Idris.Prelude.Types.Left', V5190} end(E1384)); {'Idris.Prelude.Types.Right', E1385} -> (fun (V5191) -> begin (V5192 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V5191, {'Idris.Core.Env.Nil'}, V3, V5187))), case V5192 of {'Idris.Prelude.Types.Left', E1386} -> (fun (V5193) -> {'Idris.Prelude.Types.Left', V5193} end(E1386)); {'Idris.Prelude.Types.Right', E1387} -> (fun (V5194) -> begin (V5199 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5195) -> fun (V5196) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V5195, V5196)) end end, fun (V5197) -> fun (V5198) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V5197, V5198)) end end}, V5194, V5187))), case V5199 of {'Idris.Prelude.Types.Left', E1388} -> (fun (V5200) -> {'Idris.Prelude.Types.Left', V5200} end(E1388)); {'Idris.Prelude.Types.Right', E1389} -> (fun (V5201) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V5201))))}, V5187)) end(E1389)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1387)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1385)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E1380, E1381, E1382, E1383)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1345, E1346, E1347, E1348, E1349} -> (fun (V5202, V5203, V5204, V5205, V5206) -> fun (V5207) -> begin (V5209 = begin (V5208 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5208} end), case V5209 of {'Idris.Prelude.Types.Left', E1350} -> (fun (V5210) -> {'Idris.Prelude.Types.Left', V5210} end(E1350)); {'Idris.Prelude.Types.Right', E1351} -> (fun (V5211) -> begin (V5216 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5212) -> fun (V5213) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V5212, V5213)) end end, fun (V5214) -> fun (V5215) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V5214, V5215)) end end}, V5203, V5207))), case V5216 of {'Idris.Prelude.Types.Left', E1352} -> (fun (V5217) -> {'Idris.Prelude.Types.Left', V5217} end(E1352)); {'Idris.Prelude.Types.Right', E1353} -> (fun (V5218) -> begin (V5219 = (('un--getNArgs'(V0, V5211, V5218, V5206))(V5207))), case V5219 of {'Idris.Prelude.Types.Left', E1354} -> (fun (V5220) -> {'Idris.Prelude.Types.Left', V5220} end(E1354)); {'Idris.Prelude.Types.Right', E1355} -> (fun (V5221) -> case V5221 of {'Idris.Compiler.CompileExpr.User', E1356, E1357} -> (fun (V5222, V5223) -> begin (V5225 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5224) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5211, V5224)) end, V5223, []))(V5207))), case V5225 of {'Idris.Prelude.Types.Left', E1358} -> (fun (V5226) -> {'Idris.Prelude.Types.Left', V5226} end(E1358)); {'Idris.Prelude.Types.Right', E1359} -> (fun (V5227) -> begin (V5229 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5228) -> ('un--nfToCFType'(V0, V5202, V2, V5228)) end, V5227, []))(V5207))), case V5229 of {'Idris.Prelude.Types.Left', E1360} -> (fun (V5230) -> {'Idris.Prelude.Types.Left', V5230} end(E1360)); {'Idris.Prelude.Types.Right', E1361} -> (fun (V5231) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V5218, V5231}} end(E1361)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1359)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1356, E1357)); {'Idris.Compiler.CompileExpr.Struct', E1362, E1363} -> (fun (V5232, V5233) -> begin (V5244 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5234) -> case V5234 of {'Idris.Builtin.MkPair', E1364, E1365} -> (fun (V5235, V5236) -> fun (V5237) -> begin (V5238 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5211, V5236))(V5237))), case V5238 of {'Idris.Prelude.Types.Left', E1366} -> (fun (V5239) -> {'Idris.Prelude.Types.Left', V5239} end(E1366)); {'Idris.Prelude.Types.Right', E1367} -> (fun (V5240) -> begin (V5241 = (('un--nfToCFType'(V0, V5202, 0, V5240))(V5237))), case V5241 of {'Idris.Prelude.Types.Left', E1368} -> (fun (V5242) -> {'Idris.Prelude.Types.Left', V5242} end(E1368)); {'Idris.Prelude.Types.Right', E1369} -> (fun (V5243) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V5235, V5243}} end(E1369)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1367)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1364, E1365)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V5233, []))(V5207))), case V5244 of {'Idris.Prelude.Types.Left', E1370} -> (fun (V5245) -> {'Idris.Prelude.Types.Left', V5245} end(E1370)); {'Idris.Prelude.Types.Right', E1371} -> (fun (V5246) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V5232, V5246}} end(E1371)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1362, E1363)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1372} -> (fun (V5247) -> begin (V5248 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5211, V5247))(V5207))), case V5248 of {'Idris.Prelude.Types.Left', E1373} -> (fun (V5249) -> {'Idris.Prelude.Types.Left', V5249} end(E1373)); {'Idris.Prelude.Types.Right', E1374} -> (fun (V5250) -> begin (V5251 = (('un--nfToCFType'(V0, V5202, V2, V5250))(V5207))), case V5251 of {'Idris.Prelude.Types.Left', E1375} -> (fun (V5252) -> {'Idris.Prelude.Types.Left', V5252} end(E1375)); {'Idris.Prelude.Types.Right', E1376} -> (fun (V5253) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V5253}} end(E1376)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1374)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1372)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1355)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1353)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1351)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1345, E1346, E1347, E1348, E1349)); {'Idris.Core.Value.NType', E1377} -> (fun (V5254) -> fun (V5255) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1377)); {'Idris.Core.Value.NErased', E1378, E1379} -> (fun (V5256, V5257) -> fun (V5258) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1378, E1379)); _ -> fun (V5259) -> begin (V5261 = begin (V5260 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5260} end), case V5261 of {'Idris.Prelude.Types.Left', E1339} -> (fun (V5262) -> {'Idris.Prelude.Types.Left', V5262} end(E1339)); {'Idris.Prelude.Types.Right', E1340} -> (fun (V5263) -> begin (V5264 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V5263, {'Idris.Core.Env.Nil'}, V3, V5259))), case V5264 of {'Idris.Prelude.Types.Left', E1341} -> (fun (V5265) -> {'Idris.Prelude.Types.Left', V5265} end(E1341)); {'Idris.Prelude.Types.Right', E1342} -> (fun (V5266) -> begin (V5271 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5267) -> fun (V5268) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V5267, V5268)) end end, fun (V5269) -> fun (V5270) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V5269, V5270)) end end}, V5266, V5259))), case V5271 of {'Idris.Prelude.Types.Left', E1343} -> (fun (V5272) -> {'Idris.Prelude.Types.Left', V5272} end(E1343)); {'Idris.Prelude.Types.Right', E1344} -> (fun (V5273) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V5273))))}, V5259)) end(E1344)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1342)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1340)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E1478, E1479, E1480, E1481} -> (fun (V5274, V5275, V5276, V5277) -> fun (V5278) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V5274, <<"Function types not allowed in a foreign struct"/utf8>>}, V5278)) end end(E1478, E1479, E1480, E1481)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1443, E1444, E1445, E1446, E1447} -> (fun (V5279, V5280, V5281, V5282, V5283) -> fun (V5284) -> begin (V5286 = begin (V5285 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5285} end), case V5286 of {'Idris.Prelude.Types.Left', E1448} -> (fun (V5287) -> {'Idris.Prelude.Types.Left', V5287} end(E1448)); {'Idris.Prelude.Types.Right', E1449} -> (fun (V5288) -> begin (V5293 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5289) -> fun (V5290) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V5289, V5290)) end end, fun (V5291) -> fun (V5292) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V5291, V5292)) end end}, V5280, V5284))), case V5293 of {'Idris.Prelude.Types.Left', E1450} -> (fun (V5294) -> {'Idris.Prelude.Types.Left', V5294} end(E1450)); {'Idris.Prelude.Types.Right', E1451} -> (fun (V5295) -> begin (V5296 = (('un--getNArgs'(V0, V5288, V5295, V5283))(V5284))), case V5296 of {'Idris.Prelude.Types.Left', E1452} -> (fun (V5297) -> {'Idris.Prelude.Types.Left', V5297} end(E1452)); {'Idris.Prelude.Types.Right', E1453} -> (fun (V5298) -> case V5298 of {'Idris.Compiler.CompileExpr.User', E1454, E1455} -> (fun (V5299, V5300) -> begin (V5302 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5301) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5288, V5301)) end, V5300, []))(V5284))), case V5302 of {'Idris.Prelude.Types.Left', E1456} -> (fun (V5303) -> {'Idris.Prelude.Types.Left', V5303} end(E1456)); {'Idris.Prelude.Types.Right', E1457} -> (fun (V5304) -> begin (V5306 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5305) -> ('un--nfToCFType'(V0, V5279, V2, V5305)) end, V5304, []))(V5284))), case V5306 of {'Idris.Prelude.Types.Left', E1458} -> (fun (V5307) -> {'Idris.Prelude.Types.Left', V5307} end(E1458)); {'Idris.Prelude.Types.Right', E1459} -> (fun (V5308) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V5295, V5308}} end(E1459)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1457)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1454, E1455)); {'Idris.Compiler.CompileExpr.Struct', E1460, E1461} -> (fun (V5309, V5310) -> begin (V5321 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5311) -> case V5311 of {'Idris.Builtin.MkPair', E1462, E1463} -> (fun (V5312, V5313) -> fun (V5314) -> begin (V5315 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5288, V5313))(V5314))), case V5315 of {'Idris.Prelude.Types.Left', E1464} -> (fun (V5316) -> {'Idris.Prelude.Types.Left', V5316} end(E1464)); {'Idris.Prelude.Types.Right', E1465} -> (fun (V5317) -> begin (V5318 = (('un--nfToCFType'(V0, V5279, 0, V5317))(V5314))), case V5318 of {'Idris.Prelude.Types.Left', E1466} -> (fun (V5319) -> {'Idris.Prelude.Types.Left', V5319} end(E1466)); {'Idris.Prelude.Types.Right', E1467} -> (fun (V5320) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V5312, V5320}} end(E1467)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1465)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1462, E1463)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V5310, []))(V5284))), case V5321 of {'Idris.Prelude.Types.Left', E1468} -> (fun (V5322) -> {'Idris.Prelude.Types.Left', V5322} end(E1468)); {'Idris.Prelude.Types.Right', E1469} -> (fun (V5323) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V5309, V5323}} end(E1469)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1460, E1461)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1470} -> (fun (V5324) -> begin (V5325 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5288, V5324))(V5284))), case V5325 of {'Idris.Prelude.Types.Left', E1471} -> (fun (V5326) -> {'Idris.Prelude.Types.Left', V5326} end(E1471)); {'Idris.Prelude.Types.Right', E1472} -> (fun (V5327) -> begin (V5328 = (('un--nfToCFType'(V0, V5279, V2, V5327))(V5284))), case V5328 of {'Idris.Prelude.Types.Left', E1473} -> (fun (V5329) -> {'Idris.Prelude.Types.Left', V5329} end(E1473)); {'Idris.Prelude.Types.Right', E1474} -> (fun (V5330) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V5330}} end(E1474)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1472)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1470)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1453)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1451)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1449)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1443, E1444, E1445, E1446, E1447)); {'Idris.Core.Value.NType', E1475} -> (fun (V5331) -> fun (V5332) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1475)); {'Idris.Core.Value.NErased', E1476, E1477} -> (fun (V5333, V5334) -> fun (V5335) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1476, E1477)); _ -> fun (V5336) -> begin (V5338 = begin (V5337 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5337} end), case V5338 of {'Idris.Prelude.Types.Left', E1437} -> (fun (V5339) -> {'Idris.Prelude.Types.Left', V5339} end(E1437)); {'Idris.Prelude.Types.Right', E1438} -> (fun (V5340) -> begin (V5341 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V5340, {'Idris.Core.Env.Nil'}, V3, V5336))), case V5341 of {'Idris.Prelude.Types.Left', E1439} -> (fun (V5342) -> {'Idris.Prelude.Types.Left', V5342} end(E1439)); {'Idris.Prelude.Types.Right', E1440} -> (fun (V5343) -> begin (V5348 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5344) -> fun (V5345) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V5344, V5345)) end end, fun (V5346) -> fun (V5347) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V5346, V5347)) end end}, V5343, V5336))), case V5348 of {'Idris.Prelude.Types.Left', E1441} -> (fun (V5349) -> {'Idris.Prelude.Types.Left', V5349} end(E1441)); {'Idris.Prelude.Types.Right', E1442} -> (fun (V5350) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V5350))))}, V5336)) end(E1442)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1440)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1438)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E1304, E1305, E1306, E1307, E1308} -> (fun (V5351, V5352, V5353, V5354, V5355) -> fun (V5356) -> begin (V5358 = begin (V5357 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5357} end), case V5358 of {'Idris.Prelude.Types.Left', E1309} -> (fun (V5359) -> {'Idris.Prelude.Types.Left', V5359} end(E1309)); {'Idris.Prelude.Types.Right', E1310} -> (fun (V5360) -> begin (V5365 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5361) -> fun (V5362) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V5361, V5362)) end end, fun (V5363) -> fun (V5364) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V5363, V5364)) end end}, V5352, V5356))), case V5365 of {'Idris.Prelude.Types.Left', E1311} -> (fun (V5366) -> {'Idris.Prelude.Types.Left', V5366} end(E1311)); {'Idris.Prelude.Types.Right', E1312} -> (fun (V5367) -> begin (V5368 = (('un--getNArgs'(V0, V5360, V5367, V5355))(V5356))), case V5368 of {'Idris.Prelude.Types.Left', E1313} -> (fun (V5369) -> {'Idris.Prelude.Types.Left', V5369} end(E1313)); {'Idris.Prelude.Types.Right', E1314} -> (fun (V5370) -> case V5370 of {'Idris.Compiler.CompileExpr.User', E1315, E1316} -> (fun (V5371, V5372) -> begin (V5374 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5373) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5360, V5373)) end, V5372, []))(V5356))), case V5374 of {'Idris.Prelude.Types.Left', E1317} -> (fun (V5375) -> {'Idris.Prelude.Types.Left', V5375} end(E1317)); {'Idris.Prelude.Types.Right', E1318} -> (fun (V5376) -> begin (V5378 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5377) -> ('un--nfToCFType'(V0, V5351, V2, V5377)) end, V5376, []))(V5356))), case V5378 of {'Idris.Prelude.Types.Left', E1319} -> (fun (V5379) -> {'Idris.Prelude.Types.Left', V5379} end(E1319)); {'Idris.Prelude.Types.Right', E1320} -> (fun (V5380) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V5367, V5380}} end(E1320)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1318)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1315, E1316)); {'Idris.Compiler.CompileExpr.Struct', E1321, E1322} -> (fun (V5381, V5382) -> begin (V5393 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5383) -> case V5383 of {'Idris.Builtin.MkPair', E1323, E1324} -> (fun (V5384, V5385) -> fun (V5386) -> begin (V5387 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5360, V5385))(V5386))), case V5387 of {'Idris.Prelude.Types.Left', E1325} -> (fun (V5388) -> {'Idris.Prelude.Types.Left', V5388} end(E1325)); {'Idris.Prelude.Types.Right', E1326} -> (fun (V5389) -> begin (V5390 = (('un--nfToCFType'(V0, V5351, 0, V5389))(V5386))), case V5390 of {'Idris.Prelude.Types.Left', E1327} -> (fun (V5391) -> {'Idris.Prelude.Types.Left', V5391} end(E1327)); {'Idris.Prelude.Types.Right', E1328} -> (fun (V5392) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V5384, V5392}} end(E1328)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1326)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1323, E1324)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V5382, []))(V5356))), case V5393 of {'Idris.Prelude.Types.Left', E1329} -> (fun (V5394) -> {'Idris.Prelude.Types.Left', V5394} end(E1329)); {'Idris.Prelude.Types.Right', E1330} -> (fun (V5395) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V5381, V5395}} end(E1330)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1321, E1322)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1331} -> (fun (V5396) -> begin (V5397 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5360, V5396))(V5356))), case V5397 of {'Idris.Prelude.Types.Left', E1332} -> (fun (V5398) -> {'Idris.Prelude.Types.Left', V5398} end(E1332)); {'Idris.Prelude.Types.Right', E1333} -> (fun (V5399) -> begin (V5400 = (('un--nfToCFType'(V0, V5351, V2, V5399))(V5356))), case V5400 of {'Idris.Prelude.Types.Left', E1334} -> (fun (V5401) -> {'Idris.Prelude.Types.Left', V5401} end(E1334)); {'Idris.Prelude.Types.Right', E1335} -> (fun (V5402) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V5402}} end(E1335)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1333)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1331)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1314)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1312)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1310)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1304, E1305, E1306, E1307, E1308)); {'Idris.Core.Value.NType', E1336} -> (fun (V5403) -> fun (V5404) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1336)); {'Idris.Core.Value.NErased', E1337, E1338} -> (fun (V5405, V5406) -> fun (V5407) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1337, E1338)); _ -> fun (V5408) -> begin (V5410 = begin (V5409 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5409} end), case V5410 of {'Idris.Prelude.Types.Left', E1298} -> (fun (V5411) -> {'Idris.Prelude.Types.Left', V5411} end(E1298)); {'Idris.Prelude.Types.Right', E1299} -> (fun (V5412) -> begin (V5413 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V5412, {'Idris.Core.Env.Nil'}, V3, V5408))), case V5413 of {'Idris.Prelude.Types.Left', E1300} -> (fun (V5414) -> {'Idris.Prelude.Types.Left', V5414} end(E1300)); {'Idris.Prelude.Types.Right', E1301} -> (fun (V5415) -> begin (V5420 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5416) -> fun (V5417) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V5416, V5417)) end end, fun (V5418) -> fun (V5419) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V5418, V5419)) end end}, V5415, V5408))), case V5420 of {'Idris.Prelude.Types.Left', E1302} -> (fun (V5421) -> {'Idris.Prelude.Types.Left', V5421} end(E1302)); {'Idris.Prelude.Types.Right', E1303} -> (fun (V5422) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V5422))))}, V5408)) end(E1303)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1301)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1299)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end(E1296, E1297)); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E1194, E1195, E1196, E1197} -> (fun (V5423, V5424, V5425, V5426) -> case V5425 of {'Idris.Core.TT.Pi', E1239, E1240, E1241, E1242} -> (fun (V5427, V5428, V5429, V5430) -> fun (V5431) -> begin (V5433 = begin (V5432 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5432} end), case V5433 of {'Idris.Prelude.Types.Left', E1243} -> (fun (V5434) -> {'Idris.Prelude.Types.Left', V5434} end(E1243)); {'Idris.Prelude.Types.Right', E1244} -> (fun (V5435) -> begin (V5436 = (('un--nfToCFType'(V0, V5423, 1, V5430))(V5431))), case V5436 of {'Idris.Prelude.Types.Left', E1245} -> (fun (V5437) -> {'Idris.Prelude.Types.Left', V5437} end(E1245)); {'Idris.Prelude.Types.Right', E1246} -> (fun (V5438) -> begin (V5439 = (((V5426(V5435))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V5423, 1}))))(V5431))), case V5439 of {'Idris.Prelude.Types.Left', E1247} -> (fun (V5440) -> {'Idris.Prelude.Types.Left', V5440} end(E1247)); {'Idris.Prelude.Types.Right', E1248} -> (fun (V5441) -> begin (V5442 = (('un--nfToCFType'(V0, V5423, 1, V5441))(V5431))), case V5442 of {'Idris.Prelude.Types.Left', E1249} -> (fun (V5443) -> {'Idris.Prelude.Types.Left', V5443} end(E1249)); {'Idris.Prelude.Types.Right', E1250} -> (fun (V5444) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V5438, V5444}} end(E1250)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1248)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1246)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1244)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1239, E1240, E1241, E1242)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1204, E1205, E1206, E1207, E1208} -> (fun (V5445, V5446, V5447, V5448, V5449) -> fun (V5450) -> begin (V5452 = begin (V5451 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5451} end), case V5452 of {'Idris.Prelude.Types.Left', E1209} -> (fun (V5453) -> {'Idris.Prelude.Types.Left', V5453} end(E1209)); {'Idris.Prelude.Types.Right', E1210} -> (fun (V5454) -> begin (V5459 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5455) -> fun (V5456) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V5455, V5456)) end end, fun (V5457) -> fun (V5458) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V5457, V5458)) end end}, V5446, V5450))), case V5459 of {'Idris.Prelude.Types.Left', E1211} -> (fun (V5460) -> {'Idris.Prelude.Types.Left', V5460} end(E1211)); {'Idris.Prelude.Types.Right', E1212} -> (fun (V5461) -> begin (V5462 = (('un--getNArgs'(V0, V5454, V5461, V5449))(V5450))), case V5462 of {'Idris.Prelude.Types.Left', E1213} -> (fun (V5463) -> {'Idris.Prelude.Types.Left', V5463} end(E1213)); {'Idris.Prelude.Types.Right', E1214} -> (fun (V5464) -> case V5464 of {'Idris.Compiler.CompileExpr.User', E1215, E1216} -> (fun (V5465, V5466) -> begin (V5468 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5467) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5454, V5467)) end, V5466, []))(V5450))), case V5468 of {'Idris.Prelude.Types.Left', E1217} -> (fun (V5469) -> {'Idris.Prelude.Types.Left', V5469} end(E1217)); {'Idris.Prelude.Types.Right', E1218} -> (fun (V5470) -> begin (V5472 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5471) -> ('un--nfToCFType'(V0, V5445, V2, V5471)) end, V5470, []))(V5450))), case V5472 of {'Idris.Prelude.Types.Left', E1219} -> (fun (V5473) -> {'Idris.Prelude.Types.Left', V5473} end(E1219)); {'Idris.Prelude.Types.Right', E1220} -> (fun (V5474) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V5461, V5474}} end(E1220)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1218)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1215, E1216)); {'Idris.Compiler.CompileExpr.Struct', E1221, E1222} -> (fun (V5475, V5476) -> begin (V5487 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5477) -> case V5477 of {'Idris.Builtin.MkPair', E1223, E1224} -> (fun (V5478, V5479) -> fun (V5480) -> begin (V5481 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5454, V5479))(V5480))), case V5481 of {'Idris.Prelude.Types.Left', E1225} -> (fun (V5482) -> {'Idris.Prelude.Types.Left', V5482} end(E1225)); {'Idris.Prelude.Types.Right', E1226} -> (fun (V5483) -> begin (V5484 = (('un--nfToCFType'(V0, V5445, 0, V5483))(V5480))), case V5484 of {'Idris.Prelude.Types.Left', E1227} -> (fun (V5485) -> {'Idris.Prelude.Types.Left', V5485} end(E1227)); {'Idris.Prelude.Types.Right', E1228} -> (fun (V5486) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V5478, V5486}} end(E1228)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1226)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1223, E1224)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V5476, []))(V5450))), case V5487 of {'Idris.Prelude.Types.Left', E1229} -> (fun (V5488) -> {'Idris.Prelude.Types.Left', V5488} end(E1229)); {'Idris.Prelude.Types.Right', E1230} -> (fun (V5489) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V5475, V5489}} end(E1230)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1221, E1222)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1231} -> (fun (V5490) -> begin (V5491 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5454, V5490))(V5450))), case V5491 of {'Idris.Prelude.Types.Left', E1232} -> (fun (V5492) -> {'Idris.Prelude.Types.Left', V5492} end(E1232)); {'Idris.Prelude.Types.Right', E1233} -> (fun (V5493) -> begin (V5494 = (('un--nfToCFType'(V0, V5445, V2, V5493))(V5450))), case V5494 of {'Idris.Prelude.Types.Left', E1234} -> (fun (V5495) -> {'Idris.Prelude.Types.Left', V5495} end(E1234)); {'Idris.Prelude.Types.Right', E1235} -> (fun (V5496) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V5496}} end(E1235)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1233)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1231)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1214)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1212)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1210)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1204, E1205, E1206, E1207, E1208)); {'Idris.Core.Value.NType', E1236} -> (fun (V5497) -> fun (V5498) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1236)); {'Idris.Core.Value.NErased', E1237, E1238} -> (fun (V5499, V5500) -> fun (V5501) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1237, E1238)); _ -> fun (V5502) -> begin (V5504 = begin (V5503 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5503} end), case V5504 of {'Idris.Prelude.Types.Left', E1198} -> (fun (V5505) -> {'Idris.Prelude.Types.Left', V5505} end(E1198)); {'Idris.Prelude.Types.Right', E1199} -> (fun (V5506) -> begin (V5507 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V5506, {'Idris.Core.Env.Nil'}, V3, V5502))), case V5507 of {'Idris.Prelude.Types.Left', E1200} -> (fun (V5508) -> {'Idris.Prelude.Types.Left', V5508} end(E1200)); {'Idris.Prelude.Types.Right', E1201} -> (fun (V5509) -> begin (V5514 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5510) -> fun (V5511) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V5510, V5511)) end end, fun (V5512) -> fun (V5513) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V5512, V5513)) end end}, V5509, V5502))), case V5514 of {'Idris.Prelude.Types.Left', E1202} -> (fun (V5515) -> {'Idris.Prelude.Types.Left', V5515} end(E1202)); {'Idris.Prelude.Types.Right', E1203} -> (fun (V5516) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V5516))))}, V5502)) end(E1203)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1201)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1199)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E1194, E1195, E1196, E1197)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1159, E1160, E1161, E1162, E1163} -> (fun (V5517, V5518, V5519, V5520, V5521) -> fun (V5522) -> begin (V5524 = begin (V5523 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5523} end), case V5524 of {'Idris.Prelude.Types.Left', E1164} -> (fun (V5525) -> {'Idris.Prelude.Types.Left', V5525} end(E1164)); {'Idris.Prelude.Types.Right', E1165} -> (fun (V5526) -> begin (V5531 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5527) -> fun (V5528) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V5527, V5528)) end end, fun (V5529) -> fun (V5530) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V5529, V5530)) end end}, V5518, V5522))), case V5531 of {'Idris.Prelude.Types.Left', E1166} -> (fun (V5532) -> {'Idris.Prelude.Types.Left', V5532} end(E1166)); {'Idris.Prelude.Types.Right', E1167} -> (fun (V5533) -> begin (V5534 = (('un--getNArgs'(V0, V5526, V5533, V5521))(V5522))), case V5534 of {'Idris.Prelude.Types.Left', E1168} -> (fun (V5535) -> {'Idris.Prelude.Types.Left', V5535} end(E1168)); {'Idris.Prelude.Types.Right', E1169} -> (fun (V5536) -> case V5536 of {'Idris.Compiler.CompileExpr.User', E1170, E1171} -> (fun (V5537, V5538) -> begin (V5540 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5539) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5526, V5539)) end, V5538, []))(V5522))), case V5540 of {'Idris.Prelude.Types.Left', E1172} -> (fun (V5541) -> {'Idris.Prelude.Types.Left', V5541} end(E1172)); {'Idris.Prelude.Types.Right', E1173} -> (fun (V5542) -> begin (V5544 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5543) -> ('un--nfToCFType'(V0, V5517, V2, V5543)) end, V5542, []))(V5522))), case V5544 of {'Idris.Prelude.Types.Left', E1174} -> (fun (V5545) -> {'Idris.Prelude.Types.Left', V5545} end(E1174)); {'Idris.Prelude.Types.Right', E1175} -> (fun (V5546) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V5533, V5546}} end(E1175)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1173)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1170, E1171)); {'Idris.Compiler.CompileExpr.Struct', E1176, E1177} -> (fun (V5547, V5548) -> begin (V5559 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5549) -> case V5549 of {'Idris.Builtin.MkPair', E1178, E1179} -> (fun (V5550, V5551) -> fun (V5552) -> begin (V5553 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5526, V5551))(V5552))), case V5553 of {'Idris.Prelude.Types.Left', E1180} -> (fun (V5554) -> {'Idris.Prelude.Types.Left', V5554} end(E1180)); {'Idris.Prelude.Types.Right', E1181} -> (fun (V5555) -> begin (V5556 = (('un--nfToCFType'(V0, V5517, 0, V5555))(V5552))), case V5556 of {'Idris.Prelude.Types.Left', E1182} -> (fun (V5557) -> {'Idris.Prelude.Types.Left', V5557} end(E1182)); {'Idris.Prelude.Types.Right', E1183} -> (fun (V5558) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V5550, V5558}} end(E1183)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1181)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1178, E1179)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V5548, []))(V5522))), case V5559 of {'Idris.Prelude.Types.Left', E1184} -> (fun (V5560) -> {'Idris.Prelude.Types.Left', V5560} end(E1184)); {'Idris.Prelude.Types.Right', E1185} -> (fun (V5561) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V5547, V5561}} end(E1185)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1176, E1177)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1186} -> (fun (V5562) -> begin (V5563 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5526, V5562))(V5522))), case V5563 of {'Idris.Prelude.Types.Left', E1187} -> (fun (V5564) -> {'Idris.Prelude.Types.Left', V5564} end(E1187)); {'Idris.Prelude.Types.Right', E1188} -> (fun (V5565) -> begin (V5566 = (('un--nfToCFType'(V0, V5517, V2, V5565))(V5522))), case V5566 of {'Idris.Prelude.Types.Left', E1189} -> (fun (V5567) -> {'Idris.Prelude.Types.Left', V5567} end(E1189)); {'Idris.Prelude.Types.Right', E1190} -> (fun (V5568) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V5568}} end(E1190)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1188)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1186)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1169)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1167)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1165)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1159, E1160, E1161, E1162, E1163)); {'Idris.Core.Value.NType', E1191} -> (fun (V5569) -> fun (V5570) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1191)); {'Idris.Core.Value.NErased', E1192, E1193} -> (fun (V5571, V5572) -> fun (V5573) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1192, E1193)); _ -> fun (V5574) -> begin (V5576 = begin (V5575 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5575} end), case V5576 of {'Idris.Prelude.Types.Left', E1153} -> (fun (V5577) -> {'Idris.Prelude.Types.Left', V5577} end(E1153)); {'Idris.Prelude.Types.Right', E1154} -> (fun (V5578) -> begin (V5579 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V5578, {'Idris.Core.Env.Nil'}, V3, V5574))), case V5579 of {'Idris.Prelude.Types.Left', E1155} -> (fun (V5580) -> {'Idris.Prelude.Types.Left', V5580} end(E1155)); {'Idris.Prelude.Types.Right', E1156} -> (fun (V5581) -> begin (V5586 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5582) -> fun (V5583) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V5582, V5583)) end end, fun (V5584) -> fun (V5585) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V5584, V5585)) end end}, V5581, V5574))), case V5586 of {'Idris.Prelude.Types.Left', E1157} -> (fun (V5587) -> {'Idris.Prelude.Types.Left', V5587} end(E1157)); {'Idris.Prelude.Types.Right', E1158} -> (fun (V5588) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V5588))))}, V5574)) end(E1158)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1156)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1154)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E1292, E1293, E1294, E1295} -> (fun (V5589, V5590, V5591, V5592) -> fun (V5593) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V5589, <<"Function types not allowed in a foreign struct"/utf8>>}, V5593)) end end(E1292, E1293, E1294, E1295)); _ -> case V3 of {'Idris.Core.Value.NTCon', E1257, E1258, E1259, E1260, E1261} -> (fun (V5594, V5595, V5596, V5597, V5598) -> fun (V5599) -> begin (V5601 = begin (V5600 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5600} end), case V5601 of {'Idris.Prelude.Types.Left', E1262} -> (fun (V5602) -> {'Idris.Prelude.Types.Left', V5602} end(E1262)); {'Idris.Prelude.Types.Right', E1263} -> (fun (V5603) -> begin (V5608 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5604) -> fun (V5605) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V5604, V5605)) end end, fun (V5606) -> fun (V5607) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V5606, V5607)) end end}, V5595, V5599))), case V5608 of {'Idris.Prelude.Types.Left', E1264} -> (fun (V5609) -> {'Idris.Prelude.Types.Left', V5609} end(E1264)); {'Idris.Prelude.Types.Right', E1265} -> (fun (V5610) -> begin (V5611 = (('un--getNArgs'(V0, V5603, V5610, V5598))(V5599))), case V5611 of {'Idris.Prelude.Types.Left', E1266} -> (fun (V5612) -> {'Idris.Prelude.Types.Left', V5612} end(E1266)); {'Idris.Prelude.Types.Right', E1267} -> (fun (V5613) -> case V5613 of {'Idris.Compiler.CompileExpr.User', E1268, E1269} -> (fun (V5614, V5615) -> begin (V5617 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5616) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5603, V5616)) end, V5615, []))(V5599))), case V5617 of {'Idris.Prelude.Types.Left', E1270} -> (fun (V5618) -> {'Idris.Prelude.Types.Left', V5618} end(E1270)); {'Idris.Prelude.Types.Right', E1271} -> (fun (V5619) -> begin (V5621 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5620) -> ('un--nfToCFType'(V0, V5594, V2, V5620)) end, V5619, []))(V5599))), case V5621 of {'Idris.Prelude.Types.Left', E1272} -> (fun (V5622) -> {'Idris.Prelude.Types.Left', V5622} end(E1272)); {'Idris.Prelude.Types.Right', E1273} -> (fun (V5623) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V5610, V5623}} end(E1273)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1271)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1268, E1269)); {'Idris.Compiler.CompileExpr.Struct', E1274, E1275} -> (fun (V5624, V5625) -> begin (V5636 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5626) -> case V5626 of {'Idris.Builtin.MkPair', E1276, E1277} -> (fun (V5627, V5628) -> fun (V5629) -> begin (V5630 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5603, V5628))(V5629))), case V5630 of {'Idris.Prelude.Types.Left', E1278} -> (fun (V5631) -> {'Idris.Prelude.Types.Left', V5631} end(E1278)); {'Idris.Prelude.Types.Right', E1279} -> (fun (V5632) -> begin (V5633 = (('un--nfToCFType'(V0, V5594, 0, V5632))(V5629))), case V5633 of {'Idris.Prelude.Types.Left', E1280} -> (fun (V5634) -> {'Idris.Prelude.Types.Left', V5634} end(E1280)); {'Idris.Prelude.Types.Right', E1281} -> (fun (V5635) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V5627, V5635}} end(E1281)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1279)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1276, E1277)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V5625, []))(V5599))), case V5636 of {'Idris.Prelude.Types.Left', E1282} -> (fun (V5637) -> {'Idris.Prelude.Types.Left', V5637} end(E1282)); {'Idris.Prelude.Types.Right', E1283} -> (fun (V5638) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V5624, V5638}} end(E1283)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1274, E1275)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1284} -> (fun (V5639) -> begin (V5640 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5603, V5639))(V5599))), case V5640 of {'Idris.Prelude.Types.Left', E1285} -> (fun (V5641) -> {'Idris.Prelude.Types.Left', V5641} end(E1285)); {'Idris.Prelude.Types.Right', E1286} -> (fun (V5642) -> begin (V5643 = (('un--nfToCFType'(V0, V5594, V2, V5642))(V5599))), case V5643 of {'Idris.Prelude.Types.Left', E1287} -> (fun (V5644) -> {'Idris.Prelude.Types.Left', V5644} end(E1287)); {'Idris.Prelude.Types.Right', E1288} -> (fun (V5645) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V5645}} end(E1288)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1286)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1284)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1267)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1265)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1263)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1257, E1258, E1259, E1260, E1261)); {'Idris.Core.Value.NType', E1289} -> (fun (V5646) -> fun (V5647) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1289)); {'Idris.Core.Value.NErased', E1290, E1291} -> (fun (V5648, V5649) -> fun (V5650) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1290, E1291)); _ -> fun (V5651) -> begin (V5653 = begin (V5652 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5652} end), case V5653 of {'Idris.Prelude.Types.Left', E1251} -> (fun (V5654) -> {'Idris.Prelude.Types.Left', V5654} end(E1251)); {'Idris.Prelude.Types.Right', E1252} -> (fun (V5655) -> begin (V5656 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V5655, {'Idris.Core.Env.Nil'}, V3, V5651))), case V5656 of {'Idris.Prelude.Types.Left', E1253} -> (fun (V5657) -> {'Idris.Prelude.Types.Left', V5657} end(E1253)); {'Idris.Prelude.Types.Right', E1254} -> (fun (V5658) -> begin (V5663 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5659) -> fun (V5660) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V5659, V5660)) end end, fun (V5661) -> fun (V5662) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V5661, V5662)) end end}, V5658, V5651))), case V5663 of {'Idris.Prelude.Types.Left', E1255} -> (fun (V5664) -> {'Idris.Prelude.Types.Left', V5664} end(E1255)); {'Idris.Prelude.Types.Right', E1256} -> (fun (V5665) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V5665))))}, V5651)) end(E1256)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1254)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1252)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E1118, E1119, E1120, E1121, E1122} -> (fun (V5666, V5667, V5668, V5669, V5670) -> fun (V5671) -> begin (V5673 = begin (V5672 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5672} end), case V5673 of {'Idris.Prelude.Types.Left', E1123} -> (fun (V5674) -> {'Idris.Prelude.Types.Left', V5674} end(E1123)); {'Idris.Prelude.Types.Right', E1124} -> (fun (V5675) -> begin (V5680 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5676) -> fun (V5677) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V5676, V5677)) end end, fun (V5678) -> fun (V5679) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V5678, V5679)) end end}, V5667, V5671))), case V5680 of {'Idris.Prelude.Types.Left', E1125} -> (fun (V5681) -> {'Idris.Prelude.Types.Left', V5681} end(E1125)); {'Idris.Prelude.Types.Right', E1126} -> (fun (V5682) -> begin (V5683 = (('un--getNArgs'(V0, V5675, V5682, V5670))(V5671))), case V5683 of {'Idris.Prelude.Types.Left', E1127} -> (fun (V5684) -> {'Idris.Prelude.Types.Left', V5684} end(E1127)); {'Idris.Prelude.Types.Right', E1128} -> (fun (V5685) -> case V5685 of {'Idris.Compiler.CompileExpr.User', E1129, E1130} -> (fun (V5686, V5687) -> begin (V5689 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5688) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5675, V5688)) end, V5687, []))(V5671))), case V5689 of {'Idris.Prelude.Types.Left', E1131} -> (fun (V5690) -> {'Idris.Prelude.Types.Left', V5690} end(E1131)); {'Idris.Prelude.Types.Right', E1132} -> (fun (V5691) -> begin (V5693 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5692) -> ('un--nfToCFType'(V0, V5666, V2, V5692)) end, V5691, []))(V5671))), case V5693 of {'Idris.Prelude.Types.Left', E1133} -> (fun (V5694) -> {'Idris.Prelude.Types.Left', V5694} end(E1133)); {'Idris.Prelude.Types.Right', E1134} -> (fun (V5695) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V5682, V5695}} end(E1134)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1132)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1129, E1130)); {'Idris.Compiler.CompileExpr.Struct', E1135, E1136} -> (fun (V5696, V5697) -> begin (V5708 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5698) -> case V5698 of {'Idris.Builtin.MkPair', E1137, E1138} -> (fun (V5699, V5700) -> fun (V5701) -> begin (V5702 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5675, V5700))(V5701))), case V5702 of {'Idris.Prelude.Types.Left', E1139} -> (fun (V5703) -> {'Idris.Prelude.Types.Left', V5703} end(E1139)); {'Idris.Prelude.Types.Right', E1140} -> (fun (V5704) -> begin (V5705 = (('un--nfToCFType'(V0, V5666, 0, V5704))(V5701))), case V5705 of {'Idris.Prelude.Types.Left', E1141} -> (fun (V5706) -> {'Idris.Prelude.Types.Left', V5706} end(E1141)); {'Idris.Prelude.Types.Right', E1142} -> (fun (V5707) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V5699, V5707}} end(E1142)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1140)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1137, E1138)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V5697, []))(V5671))), case V5708 of {'Idris.Prelude.Types.Left', E1143} -> (fun (V5709) -> {'Idris.Prelude.Types.Left', V5709} end(E1143)); {'Idris.Prelude.Types.Right', E1144} -> (fun (V5710) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V5696, V5710}} end(E1144)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1135, E1136)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E1145} -> (fun (V5711) -> begin (V5712 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5675, V5711))(V5671))), case V5712 of {'Idris.Prelude.Types.Left', E1146} -> (fun (V5713) -> {'Idris.Prelude.Types.Left', V5713} end(E1146)); {'Idris.Prelude.Types.Right', E1147} -> (fun (V5714) -> begin (V5715 = (('un--nfToCFType'(V0, V5666, V2, V5714))(V5671))), case V5715 of {'Idris.Prelude.Types.Left', E1148} -> (fun (V5716) -> {'Idris.Prelude.Types.Left', V5716} end(E1148)); {'Idris.Prelude.Types.Right', E1149} -> (fun (V5717) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V5717}} end(E1149)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1147)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1145)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E1128)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1126)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1124)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E1118, E1119, E1120, E1121, E1122)); {'Idris.Core.Value.NType', E1150} -> (fun (V5718) -> fun (V5719) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E1150)); {'Idris.Core.Value.NErased', E1151, E1152} -> (fun (V5720, V5721) -> fun (V5722) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E1151, E1152)); _ -> fun (V5723) -> begin (V5725 = begin (V5724 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5724} end), case V5725 of {'Idris.Prelude.Types.Left', E1112} -> (fun (V5726) -> {'Idris.Prelude.Types.Left', V5726} end(E1112)); {'Idris.Prelude.Types.Right', E1113} -> (fun (V5727) -> begin (V5728 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V5727, {'Idris.Core.Env.Nil'}, V3, V5723))), case V5728 of {'Idris.Prelude.Types.Left', E1114} -> (fun (V5729) -> {'Idris.Prelude.Types.Left', V5729} end(E1114)); {'Idris.Prelude.Types.Right', E1115} -> (fun (V5730) -> begin (V5735 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5731) -> fun (V5732) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V5731, V5732)) end end, fun (V5733) -> fun (V5734) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V5733, V5734)) end end}, V5730, V5723))), case V5735 of {'Idris.Prelude.Types.Left', E1116} -> (fun (V5736) -> {'Idris.Prelude.Types.Left', V5736} end(E1116)); {'Idris.Prelude.Types.Right', E1117} -> (fun (V5737) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V5737))))}, V5723)) end(E1117)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1115)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1113)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end; _ -> case V3 of {'Idris.Core.Value.NPrimVal', E184, E185} -> (fun (V5738, V5739) -> case V5739 of {'Idris.Core.TT.DoubleType'} -> (fun () -> fun (V5740) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFDouble'}} end end()); {'Idris.Core.TT.CharType'} -> (fun () -> fun (V5741) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFChar'}} end end()); {'Idris.Core.TT.WorldType'} -> (fun () -> fun (V5742) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFWorld'}} end end()); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E268, E269, E270, E271} -> (fun (V5743, V5744, V5745, V5746) -> case V5745 of {'Idris.Core.TT.Pi', E313, E314, E315, E316} -> (fun (V5747, V5748, V5749, V5750) -> fun (V5751) -> begin (V5753 = begin (V5752 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5752} end), case V5753 of {'Idris.Prelude.Types.Left', E317} -> (fun (V5754) -> {'Idris.Prelude.Types.Left', V5754} end(E317)); {'Idris.Prelude.Types.Right', E318} -> (fun (V5755) -> begin (V5756 = (('un--nfToCFType'(V0, V5743, 1, V5750))(V5751))), case V5756 of {'Idris.Prelude.Types.Left', E319} -> (fun (V5757) -> {'Idris.Prelude.Types.Left', V5757} end(E319)); {'Idris.Prelude.Types.Right', E320} -> (fun (V5758) -> begin (V5759 = (((V5746(V5755))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V5743, 1}))))(V5751))), case V5759 of {'Idris.Prelude.Types.Left', E321} -> (fun (V5760) -> {'Idris.Prelude.Types.Left', V5760} end(E321)); {'Idris.Prelude.Types.Right', E322} -> (fun (V5761) -> begin (V5762 = (('un--nfToCFType'(V0, V5743, 1, V5761))(V5751))), case V5762 of {'Idris.Prelude.Types.Left', E323} -> (fun (V5763) -> {'Idris.Prelude.Types.Left', V5763} end(E323)); {'Idris.Prelude.Types.Right', E324} -> (fun (V5764) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V5758, V5764}} end(E324)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E322)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E320)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E318)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E313, E314, E315, E316)); _ -> case V3 of {'Idris.Core.Value.NTCon', E278, E279, E280, E281, E282} -> (fun (V5765, V5766, V5767, V5768, V5769) -> fun (V5770) -> begin (V5772 = begin (V5771 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5771} end), case V5772 of {'Idris.Prelude.Types.Left', E283} -> (fun (V5773) -> {'Idris.Prelude.Types.Left', V5773} end(E283)); {'Idris.Prelude.Types.Right', E284} -> (fun (V5774) -> begin (V5779 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5775) -> fun (V5776) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V5775, V5776)) end end, fun (V5777) -> fun (V5778) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V5777, V5778)) end end}, V5766, V5770))), case V5779 of {'Idris.Prelude.Types.Left', E285} -> (fun (V5780) -> {'Idris.Prelude.Types.Left', V5780} end(E285)); {'Idris.Prelude.Types.Right', E286} -> (fun (V5781) -> begin (V5782 = (('un--getNArgs'(V0, V5774, V5781, V5769))(V5770))), case V5782 of {'Idris.Prelude.Types.Left', E287} -> (fun (V5783) -> {'Idris.Prelude.Types.Left', V5783} end(E287)); {'Idris.Prelude.Types.Right', E288} -> (fun (V5784) -> case V5784 of {'Idris.Compiler.CompileExpr.User', E289, E290} -> (fun (V5785, V5786) -> begin (V5788 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5787) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5774, V5787)) end, V5786, []))(V5770))), case V5788 of {'Idris.Prelude.Types.Left', E291} -> (fun (V5789) -> {'Idris.Prelude.Types.Left', V5789} end(E291)); {'Idris.Prelude.Types.Right', E292} -> (fun (V5790) -> begin (V5792 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5791) -> ('un--nfToCFType'(V0, V5765, V2, V5791)) end, V5790, []))(V5770))), case V5792 of {'Idris.Prelude.Types.Left', E293} -> (fun (V5793) -> {'Idris.Prelude.Types.Left', V5793} end(E293)); {'Idris.Prelude.Types.Right', E294} -> (fun (V5794) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V5781, V5794}} end(E294)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E292)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E289, E290)); {'Idris.Compiler.CompileExpr.Struct', E295, E296} -> (fun (V5795, V5796) -> begin (V5807 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5797) -> case V5797 of {'Idris.Builtin.MkPair', E297, E298} -> (fun (V5798, V5799) -> fun (V5800) -> begin (V5801 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5774, V5799))(V5800))), case V5801 of {'Idris.Prelude.Types.Left', E299} -> (fun (V5802) -> {'Idris.Prelude.Types.Left', V5802} end(E299)); {'Idris.Prelude.Types.Right', E300} -> (fun (V5803) -> begin (V5804 = (('un--nfToCFType'(V0, V5765, 0, V5803))(V5800))), case V5804 of {'Idris.Prelude.Types.Left', E301} -> (fun (V5805) -> {'Idris.Prelude.Types.Left', V5805} end(E301)); {'Idris.Prelude.Types.Right', E302} -> (fun (V5806) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V5798, V5806}} end(E302)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E300)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E297, E298)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V5796, []))(V5770))), case V5807 of {'Idris.Prelude.Types.Left', E303} -> (fun (V5808) -> {'Idris.Prelude.Types.Left', V5808} end(E303)); {'Idris.Prelude.Types.Right', E304} -> (fun (V5809) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V5795, V5809}} end(E304)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E295, E296)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E305} -> (fun (V5810) -> begin (V5811 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5774, V5810))(V5770))), case V5811 of {'Idris.Prelude.Types.Left', E306} -> (fun (V5812) -> {'Idris.Prelude.Types.Left', V5812} end(E306)); {'Idris.Prelude.Types.Right', E307} -> (fun (V5813) -> begin (V5814 = (('un--nfToCFType'(V0, V5765, V2, V5813))(V5770))), case V5814 of {'Idris.Prelude.Types.Left', E308} -> (fun (V5815) -> {'Idris.Prelude.Types.Left', V5815} end(E308)); {'Idris.Prelude.Types.Right', E309} -> (fun (V5816) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V5816}} end(E309)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E307)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E305)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E288)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E286)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E284)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E278, E279, E280, E281, E282)); {'Idris.Core.Value.NType', E310} -> (fun (V5817) -> fun (V5818) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E310)); {'Idris.Core.Value.NErased', E311, E312} -> (fun (V5819, V5820) -> fun (V5821) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E311, E312)); _ -> fun (V5822) -> begin (V5824 = begin (V5823 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5823} end), case V5824 of {'Idris.Prelude.Types.Left', E272} -> (fun (V5825) -> {'Idris.Prelude.Types.Left', V5825} end(E272)); {'Idris.Prelude.Types.Right', E273} -> (fun (V5826) -> begin (V5827 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V5826, {'Idris.Core.Env.Nil'}, V3, V5822))), case V5827 of {'Idris.Prelude.Types.Left', E274} -> (fun (V5828) -> {'Idris.Prelude.Types.Left', V5828} end(E274)); {'Idris.Prelude.Types.Right', E275} -> (fun (V5829) -> begin (V5834 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5830) -> fun (V5831) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V5830, V5831)) end end, fun (V5832) -> fun (V5833) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V5832, V5833)) end end}, V5829, V5822))), case V5834 of {'Idris.Prelude.Types.Left', E276} -> (fun (V5835) -> {'Idris.Prelude.Types.Left', V5835} end(E276)); {'Idris.Prelude.Types.Right', E277} -> (fun (V5836) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V5836))))}, V5822)) end(E277)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E275)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E273)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E268, E269, E270, E271)); _ -> case V3 of {'Idris.Core.Value.NTCon', E233, E234, E235, E236, E237} -> (fun (V5837, V5838, V5839, V5840, V5841) -> fun (V5842) -> begin (V5844 = begin (V5843 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5843} end), case V5844 of {'Idris.Prelude.Types.Left', E238} -> (fun (V5845) -> {'Idris.Prelude.Types.Left', V5845} end(E238)); {'Idris.Prelude.Types.Right', E239} -> (fun (V5846) -> begin (V5851 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5847) -> fun (V5848) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V5847, V5848)) end end, fun (V5849) -> fun (V5850) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V5849, V5850)) end end}, V5838, V5842))), case V5851 of {'Idris.Prelude.Types.Left', E240} -> (fun (V5852) -> {'Idris.Prelude.Types.Left', V5852} end(E240)); {'Idris.Prelude.Types.Right', E241} -> (fun (V5853) -> begin (V5854 = (('un--getNArgs'(V0, V5846, V5853, V5841))(V5842))), case V5854 of {'Idris.Prelude.Types.Left', E242} -> (fun (V5855) -> {'Idris.Prelude.Types.Left', V5855} end(E242)); {'Idris.Prelude.Types.Right', E243} -> (fun (V5856) -> case V5856 of {'Idris.Compiler.CompileExpr.User', E244, E245} -> (fun (V5857, V5858) -> begin (V5860 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5859) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5846, V5859)) end, V5858, []))(V5842))), case V5860 of {'Idris.Prelude.Types.Left', E246} -> (fun (V5861) -> {'Idris.Prelude.Types.Left', V5861} end(E246)); {'Idris.Prelude.Types.Right', E247} -> (fun (V5862) -> begin (V5864 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5863) -> ('un--nfToCFType'(V0, V5837, V2, V5863)) end, V5862, []))(V5842))), case V5864 of {'Idris.Prelude.Types.Left', E248} -> (fun (V5865) -> {'Idris.Prelude.Types.Left', V5865} end(E248)); {'Idris.Prelude.Types.Right', E249} -> (fun (V5866) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V5853, V5866}} end(E249)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E247)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E244, E245)); {'Idris.Compiler.CompileExpr.Struct', E250, E251} -> (fun (V5867, V5868) -> begin (V5879 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5869) -> case V5869 of {'Idris.Builtin.MkPair', E252, E253} -> (fun (V5870, V5871) -> fun (V5872) -> begin (V5873 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5846, V5871))(V5872))), case V5873 of {'Idris.Prelude.Types.Left', E254} -> (fun (V5874) -> {'Idris.Prelude.Types.Left', V5874} end(E254)); {'Idris.Prelude.Types.Right', E255} -> (fun (V5875) -> begin (V5876 = (('un--nfToCFType'(V0, V5837, 0, V5875))(V5872))), case V5876 of {'Idris.Prelude.Types.Left', E256} -> (fun (V5877) -> {'Idris.Prelude.Types.Left', V5877} end(E256)); {'Idris.Prelude.Types.Right', E257} -> (fun (V5878) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V5870, V5878}} end(E257)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E255)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E252, E253)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V5868, []))(V5842))), case V5879 of {'Idris.Prelude.Types.Left', E258} -> (fun (V5880) -> {'Idris.Prelude.Types.Left', V5880} end(E258)); {'Idris.Prelude.Types.Right', E259} -> (fun (V5881) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V5867, V5881}} end(E259)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E250, E251)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E260} -> (fun (V5882) -> begin (V5883 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5846, V5882))(V5842))), case V5883 of {'Idris.Prelude.Types.Left', E261} -> (fun (V5884) -> {'Idris.Prelude.Types.Left', V5884} end(E261)); {'Idris.Prelude.Types.Right', E262} -> (fun (V5885) -> begin (V5886 = (('un--nfToCFType'(V0, V5837, V2, V5885))(V5842))), case V5886 of {'Idris.Prelude.Types.Left', E263} -> (fun (V5887) -> {'Idris.Prelude.Types.Left', V5887} end(E263)); {'Idris.Prelude.Types.Right', E264} -> (fun (V5888) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V5888}} end(E264)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E262)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E260)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E243)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E241)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E239)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E233, E234, E235, E236, E237)); {'Idris.Core.Value.NType', E265} -> (fun (V5889) -> fun (V5890) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E265)); {'Idris.Core.Value.NErased', E266, E267} -> (fun (V5891, V5892) -> fun (V5893) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E266, E267)); _ -> fun (V5894) -> begin (V5896 = begin (V5895 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5895} end), case V5896 of {'Idris.Prelude.Types.Left', E227} -> (fun (V5897) -> {'Idris.Prelude.Types.Left', V5897} end(E227)); {'Idris.Prelude.Types.Right', E228} -> (fun (V5898) -> begin (V5899 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V5898, {'Idris.Core.Env.Nil'}, V3, V5894))), case V5899 of {'Idris.Prelude.Types.Left', E229} -> (fun (V5900) -> {'Idris.Prelude.Types.Left', V5900} end(E229)); {'Idris.Prelude.Types.Right', E230} -> (fun (V5901) -> begin (V5906 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5902) -> fun (V5903) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V5902, V5903)) end end, fun (V5904) -> fun (V5905) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V5904, V5905)) end end}, V5901, V5894))), case V5906 of {'Idris.Prelude.Types.Left', E231} -> (fun (V5907) -> {'Idris.Prelude.Types.Left', V5907} end(E231)); {'Idris.Prelude.Types.Right', E232} -> (fun (V5908) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V5908))))}, V5894)) end(E232)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E230)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E228)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E366, E367, E368, E369} -> (fun (V5909, V5910, V5911, V5912) -> fun (V5913) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V5909, <<"Function types not allowed in a foreign struct"/utf8>>}, V5913)) end end(E366, E367, E368, E369)); _ -> case V3 of {'Idris.Core.Value.NTCon', E331, E332, E333, E334, E335} -> (fun (V5914, V5915, V5916, V5917, V5918) -> fun (V5919) -> begin (V5921 = begin (V5920 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5920} end), case V5921 of {'Idris.Prelude.Types.Left', E336} -> (fun (V5922) -> {'Idris.Prelude.Types.Left', V5922} end(E336)); {'Idris.Prelude.Types.Right', E337} -> (fun (V5923) -> begin (V5928 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5924) -> fun (V5925) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V5924, V5925)) end end, fun (V5926) -> fun (V5927) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V5926, V5927)) end end}, V5915, V5919))), case V5928 of {'Idris.Prelude.Types.Left', E338} -> (fun (V5929) -> {'Idris.Prelude.Types.Left', V5929} end(E338)); {'Idris.Prelude.Types.Right', E339} -> (fun (V5930) -> begin (V5931 = (('un--getNArgs'(V0, V5923, V5930, V5918))(V5919))), case V5931 of {'Idris.Prelude.Types.Left', E340} -> (fun (V5932) -> {'Idris.Prelude.Types.Left', V5932} end(E340)); {'Idris.Prelude.Types.Right', E341} -> (fun (V5933) -> case V5933 of {'Idris.Compiler.CompileExpr.User', E342, E343} -> (fun (V5934, V5935) -> begin (V5937 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5936) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5923, V5936)) end, V5935, []))(V5919))), case V5937 of {'Idris.Prelude.Types.Left', E344} -> (fun (V5938) -> {'Idris.Prelude.Types.Left', V5938} end(E344)); {'Idris.Prelude.Types.Right', E345} -> (fun (V5939) -> begin (V5941 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5940) -> ('un--nfToCFType'(V0, V5914, V2, V5940)) end, V5939, []))(V5919))), case V5941 of {'Idris.Prelude.Types.Left', E346} -> (fun (V5942) -> {'Idris.Prelude.Types.Left', V5942} end(E346)); {'Idris.Prelude.Types.Right', E347} -> (fun (V5943) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V5930, V5943}} end(E347)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E345)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E342, E343)); {'Idris.Compiler.CompileExpr.Struct', E348, E349} -> (fun (V5944, V5945) -> begin (V5956 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V5946) -> case V5946 of {'Idris.Builtin.MkPair', E350, E351} -> (fun (V5947, V5948) -> fun (V5949) -> begin (V5950 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5923, V5948))(V5949))), case V5950 of {'Idris.Prelude.Types.Left', E352} -> (fun (V5951) -> {'Idris.Prelude.Types.Left', V5951} end(E352)); {'Idris.Prelude.Types.Right', E353} -> (fun (V5952) -> begin (V5953 = (('un--nfToCFType'(V0, V5914, 0, V5952))(V5949))), case V5953 of {'Idris.Prelude.Types.Left', E354} -> (fun (V5954) -> {'Idris.Prelude.Types.Left', V5954} end(E354)); {'Idris.Prelude.Types.Right', E355} -> (fun (V5955) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V5947, V5955}} end(E355)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E353)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E350, E351)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V5945, []))(V5919))), case V5956 of {'Idris.Prelude.Types.Left', E356} -> (fun (V5957) -> {'Idris.Prelude.Types.Left', V5957} end(E356)); {'Idris.Prelude.Types.Right', E357} -> (fun (V5958) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V5944, V5958}} end(E357)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E348, E349)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E358} -> (fun (V5959) -> begin (V5960 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5923, V5959))(V5919))), case V5960 of {'Idris.Prelude.Types.Left', E359} -> (fun (V5961) -> {'Idris.Prelude.Types.Left', V5961} end(E359)); {'Idris.Prelude.Types.Right', E360} -> (fun (V5962) -> begin (V5963 = (('un--nfToCFType'(V0, V5914, V2, V5962))(V5919))), case V5963 of {'Idris.Prelude.Types.Left', E361} -> (fun (V5964) -> {'Idris.Prelude.Types.Left', V5964} end(E361)); {'Idris.Prelude.Types.Right', E362} -> (fun (V5965) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V5965}} end(E362)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E360)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E358)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E341)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E339)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E337)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E331, E332, E333, E334, E335)); {'Idris.Core.Value.NType', E363} -> (fun (V5966) -> fun (V5967) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E363)); {'Idris.Core.Value.NErased', E364, E365} -> (fun (V5968, V5969) -> fun (V5970) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E364, E365)); _ -> fun (V5971) -> begin (V5973 = begin (V5972 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5972} end), case V5973 of {'Idris.Prelude.Types.Left', E325} -> (fun (V5974) -> {'Idris.Prelude.Types.Left', V5974} end(E325)); {'Idris.Prelude.Types.Right', E326} -> (fun (V5975) -> begin (V5976 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V5975, {'Idris.Core.Env.Nil'}, V3, V5971))), case V5976 of {'Idris.Prelude.Types.Left', E327} -> (fun (V5977) -> {'Idris.Prelude.Types.Left', V5977} end(E327)); {'Idris.Prelude.Types.Right', E328} -> (fun (V5978) -> begin (V5983 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5979) -> fun (V5980) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V5979, V5980)) end end, fun (V5981) -> fun (V5982) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V5981, V5982)) end end}, V5978, V5971))), case V5983 of {'Idris.Prelude.Types.Left', E329} -> (fun (V5984) -> {'Idris.Prelude.Types.Left', V5984} end(E329)); {'Idris.Prelude.Types.Right', E330} -> (fun (V5985) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V5985))))}, V5971)) end(E330)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E328)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E326)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E192, E193, E194, E195, E196} -> (fun (V5986, V5987, V5988, V5989, V5990) -> fun (V5991) -> begin (V5993 = begin (V5992 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V5992} end), case V5993 of {'Idris.Prelude.Types.Left', E197} -> (fun (V5994) -> {'Idris.Prelude.Types.Left', V5994} end(E197)); {'Idris.Prelude.Types.Right', E198} -> (fun (V5995) -> begin (V6000 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V5996) -> fun (V5997) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V5996, V5997)) end end, fun (V5998) -> fun (V5999) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V5998, V5999)) end end}, V5987, V5991))), case V6000 of {'Idris.Prelude.Types.Left', E199} -> (fun (V6001) -> {'Idris.Prelude.Types.Left', V6001} end(E199)); {'Idris.Prelude.Types.Right', E200} -> (fun (V6002) -> begin (V6003 = (('un--getNArgs'(V0, V5995, V6002, V5990))(V5991))), case V6003 of {'Idris.Prelude.Types.Left', E201} -> (fun (V6004) -> {'Idris.Prelude.Types.Left', V6004} end(E201)); {'Idris.Prelude.Types.Right', E202} -> (fun (V6005) -> case V6005 of {'Idris.Compiler.CompileExpr.User', E203, E204} -> (fun (V6006, V6007) -> begin (V6009 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6008) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5995, V6008)) end, V6007, []))(V5991))), case V6009 of {'Idris.Prelude.Types.Left', E205} -> (fun (V6010) -> {'Idris.Prelude.Types.Left', V6010} end(E205)); {'Idris.Prelude.Types.Right', E206} -> (fun (V6011) -> begin (V6013 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6012) -> ('un--nfToCFType'(V0, V5986, V2, V6012)) end, V6011, []))(V5991))), case V6013 of {'Idris.Prelude.Types.Left', E207} -> (fun (V6014) -> {'Idris.Prelude.Types.Left', V6014} end(E207)); {'Idris.Prelude.Types.Right', E208} -> (fun (V6015) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V6002, V6015}} end(E208)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E206)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E203, E204)); {'Idris.Compiler.CompileExpr.Struct', E209, E210} -> (fun (V6016, V6017) -> begin (V6028 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6018) -> case V6018 of {'Idris.Builtin.MkPair', E211, E212} -> (fun (V6019, V6020) -> fun (V6021) -> begin (V6022 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5995, V6020))(V6021))), case V6022 of {'Idris.Prelude.Types.Left', E213} -> (fun (V6023) -> {'Idris.Prelude.Types.Left', V6023} end(E213)); {'Idris.Prelude.Types.Right', E214} -> (fun (V6024) -> begin (V6025 = (('un--nfToCFType'(V0, V5986, 0, V6024))(V6021))), case V6025 of {'Idris.Prelude.Types.Left', E215} -> (fun (V6026) -> {'Idris.Prelude.Types.Left', V6026} end(E215)); {'Idris.Prelude.Types.Right', E216} -> (fun (V6027) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V6019, V6027}} end(E216)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E214)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E211, E212)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V6017, []))(V5991))), case V6028 of {'Idris.Prelude.Types.Left', E217} -> (fun (V6029) -> {'Idris.Prelude.Types.Left', V6029} end(E217)); {'Idris.Prelude.Types.Right', E218} -> (fun (V6030) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V6016, V6030}} end(E218)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E209, E210)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E219} -> (fun (V6031) -> begin (V6032 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V5995, V6031))(V5991))), case V6032 of {'Idris.Prelude.Types.Left', E220} -> (fun (V6033) -> {'Idris.Prelude.Types.Left', V6033} end(E220)); {'Idris.Prelude.Types.Right', E221} -> (fun (V6034) -> begin (V6035 = (('un--nfToCFType'(V0, V5986, V2, V6034))(V5991))), case V6035 of {'Idris.Prelude.Types.Left', E222} -> (fun (V6036) -> {'Idris.Prelude.Types.Left', V6036} end(E222)); {'Idris.Prelude.Types.Right', E223} -> (fun (V6037) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V6037}} end(E223)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E221)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E219)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E202)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E200)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E198)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E192, E193, E194, E195, E196)); {'Idris.Core.Value.NType', E224} -> (fun (V6038) -> fun (V6039) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E224)); {'Idris.Core.Value.NErased', E225, E226} -> (fun (V6040, V6041) -> fun (V6042) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E225, E226)); _ -> fun (V6043) -> begin (V6045 = begin (V6044 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V6044} end), case V6045 of {'Idris.Prelude.Types.Left', E186} -> (fun (V6046) -> {'Idris.Prelude.Types.Left', V6046} end(E186)); {'Idris.Prelude.Types.Right', E187} -> (fun (V6047) -> begin (V6048 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V6047, {'Idris.Core.Env.Nil'}, V3, V6043))), case V6048 of {'Idris.Prelude.Types.Left', E188} -> (fun (V6049) -> {'Idris.Prelude.Types.Left', V6049} end(E188)); {'Idris.Prelude.Types.Right', E189} -> (fun (V6050) -> begin (V6055 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V6051) -> fun (V6052) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V6051, V6052)) end end, fun (V6053) -> fun (V6054) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V6053, V6054)) end end}, V6050, V6043))), case V6055 of {'Idris.Prelude.Types.Left', E190} -> (fun (V6056) -> {'Idris.Prelude.Types.Left', V6056} end(E190)); {'Idris.Prelude.Types.Right', E191} -> (fun (V6057) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V6057))))}, V6043)) end(E191)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E189)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E187)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end(E184, E185)); _ -> case V2 of 1 -> case V3 of {'Idris.Core.Value.NBind', E82, E83, E84, E85} -> (fun (V6058, V6059, V6060, V6061) -> case V6060 of {'Idris.Core.TT.Pi', E127, E128, E129, E130} -> (fun (V6062, V6063, V6064, V6065) -> fun (V6066) -> begin (V6068 = begin (V6067 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V6067} end), case V6068 of {'Idris.Prelude.Types.Left', E131} -> (fun (V6069) -> {'Idris.Prelude.Types.Left', V6069} end(E131)); {'Idris.Prelude.Types.Right', E132} -> (fun (V6070) -> begin (V6071 = (('un--nfToCFType'(V0, V6058, 1, V6065))(V6066))), case V6071 of {'Idris.Prelude.Types.Left', E133} -> (fun (V6072) -> {'Idris.Prelude.Types.Left', V6072} end(E133)); {'Idris.Prelude.Types.Right', E134} -> (fun (V6073) -> begin (V6074 = (((V6061(V6070))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V6058, 1}))))(V6066))), case V6074 of {'Idris.Prelude.Types.Left', E135} -> (fun (V6075) -> {'Idris.Prelude.Types.Left', V6075} end(E135)); {'Idris.Prelude.Types.Right', E136} -> (fun (V6076) -> begin (V6077 = (('un--nfToCFType'(V0, V6058, 1, V6076))(V6066))), case V6077 of {'Idris.Prelude.Types.Left', E137} -> (fun (V6078) -> {'Idris.Prelude.Types.Left', V6078} end(E137)); {'Idris.Prelude.Types.Right', E138} -> (fun (V6079) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFFun', V6073, V6079}} end(E138)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E136)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E134)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E132)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E127, E128, E129, E130)); _ -> case V3 of {'Idris.Core.Value.NTCon', E92, E93, E94, E95, E96} -> (fun (V6080, V6081, V6082, V6083, V6084) -> fun (V6085) -> begin (V6087 = begin (V6086 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V6086} end), case V6087 of {'Idris.Prelude.Types.Left', E97} -> (fun (V6088) -> {'Idris.Prelude.Types.Left', V6088} end(E97)); {'Idris.Prelude.Types.Right', E98} -> (fun (V6089) -> begin (V6094 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V6090) -> fun (V6091) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V6090, V6091)) end end, fun (V6092) -> fun (V6093) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V6092, V6093)) end end}, V6081, V6085))), case V6094 of {'Idris.Prelude.Types.Left', E99} -> (fun (V6095) -> {'Idris.Prelude.Types.Left', V6095} end(E99)); {'Idris.Prelude.Types.Right', E100} -> (fun (V6096) -> begin (V6097 = (('un--getNArgs'(V0, V6089, V6096, V6084))(V6085))), case V6097 of {'Idris.Prelude.Types.Left', E101} -> (fun (V6098) -> {'Idris.Prelude.Types.Left', V6098} end(E101)); {'Idris.Prelude.Types.Right', E102} -> (fun (V6099) -> case V6099 of {'Idris.Compiler.CompileExpr.User', E103, E104} -> (fun (V6100, V6101) -> begin (V6103 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6102) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V6089, V6102)) end, V6101, []))(V6085))), case V6103 of {'Idris.Prelude.Types.Left', E105} -> (fun (V6104) -> {'Idris.Prelude.Types.Left', V6104} end(E105)); {'Idris.Prelude.Types.Right', E106} -> (fun (V6105) -> begin (V6107 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6106) -> ('un--nfToCFType'(V0, V6080, V2, V6106)) end, V6105, []))(V6085))), case V6107 of {'Idris.Prelude.Types.Left', E107} -> (fun (V6108) -> {'Idris.Prelude.Types.Left', V6108} end(E107)); {'Idris.Prelude.Types.Right', E108} -> (fun (V6109) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V6096, V6109}} end(E108)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E106)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E103, E104)); {'Idris.Compiler.CompileExpr.Struct', E109, E110} -> (fun (V6110, V6111) -> begin (V6122 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6112) -> case V6112 of {'Idris.Builtin.MkPair', E111, E112} -> (fun (V6113, V6114) -> fun (V6115) -> begin (V6116 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V6089, V6114))(V6115))), case V6116 of {'Idris.Prelude.Types.Left', E113} -> (fun (V6117) -> {'Idris.Prelude.Types.Left', V6117} end(E113)); {'Idris.Prelude.Types.Right', E114} -> (fun (V6118) -> begin (V6119 = (('un--nfToCFType'(V0, V6080, 0, V6118))(V6115))), case V6119 of {'Idris.Prelude.Types.Left', E115} -> (fun (V6120) -> {'Idris.Prelude.Types.Left', V6120} end(E115)); {'Idris.Prelude.Types.Right', E116} -> (fun (V6121) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V6113, V6121}} end(E116)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E114)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E111, E112)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V6111, []))(V6085))), case V6122 of {'Idris.Prelude.Types.Left', E117} -> (fun (V6123) -> {'Idris.Prelude.Types.Left', V6123} end(E117)); {'Idris.Prelude.Types.Right', E118} -> (fun (V6124) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V6110, V6124}} end(E118)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E109, E110)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E119} -> (fun (V6125) -> begin (V6126 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V6089, V6125))(V6085))), case V6126 of {'Idris.Prelude.Types.Left', E120} -> (fun (V6127) -> {'Idris.Prelude.Types.Left', V6127} end(E120)); {'Idris.Prelude.Types.Right', E121} -> (fun (V6128) -> begin (V6129 = (('un--nfToCFType'(V0, V6080, V2, V6128))(V6085))), case V6129 of {'Idris.Prelude.Types.Left', E122} -> (fun (V6130) -> {'Idris.Prelude.Types.Left', V6130} end(E122)); {'Idris.Prelude.Types.Right', E123} -> (fun (V6131) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V6131}} end(E123)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E121)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E119)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E102)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E100)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E98)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E92, E93, E94, E95, E96)); {'Idris.Core.Value.NType', E124} -> (fun (V6132) -> fun (V6133) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E124)); {'Idris.Core.Value.NErased', E125, E126} -> (fun (V6134, V6135) -> fun (V6136) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E125, E126)); _ -> fun (V6137) -> begin (V6139 = begin (V6138 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V6138} end), case V6139 of {'Idris.Prelude.Types.Left', E86} -> (fun (V6140) -> {'Idris.Prelude.Types.Left', V6140} end(E86)); {'Idris.Prelude.Types.Right', E87} -> (fun (V6141) -> begin (V6142 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V6141, {'Idris.Core.Env.Nil'}, V3, V6137))), case V6142 of {'Idris.Prelude.Types.Left', E88} -> (fun (V6143) -> {'Idris.Prelude.Types.Left', V6143} end(E88)); {'Idris.Prelude.Types.Right', E89} -> (fun (V6144) -> begin (V6149 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V6145) -> fun (V6146) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V6145, V6146)) end end, fun (V6147) -> fun (V6148) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V6147, V6148)) end end}, V6144, V6137))), case V6149 of {'Idris.Prelude.Types.Left', E90} -> (fun (V6150) -> {'Idris.Prelude.Types.Left', V6150} end(E90)); {'Idris.Prelude.Types.Right', E91} -> (fun (V6151) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V6151))))}, V6137)) end(E91)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E89)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E87)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end(E82, E83, E84, E85)); _ -> case V3 of {'Idris.Core.Value.NTCon', E47, E48, E49, E50, E51} -> (fun (V6152, V6153, V6154, V6155, V6156) -> fun (V6157) -> begin (V6159 = begin (V6158 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V6158} end), case V6159 of {'Idris.Prelude.Types.Left', E52} -> (fun (V6160) -> {'Idris.Prelude.Types.Left', V6160} end(E52)); {'Idris.Prelude.Types.Right', E53} -> (fun (V6161) -> begin (V6166 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V6162) -> fun (V6163) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V6162, V6163)) end end, fun (V6164) -> fun (V6165) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V6164, V6165)) end end}, V6153, V6157))), case V6166 of {'Idris.Prelude.Types.Left', E54} -> (fun (V6167) -> {'Idris.Prelude.Types.Left', V6167} end(E54)); {'Idris.Prelude.Types.Right', E55} -> (fun (V6168) -> begin (V6169 = (('un--getNArgs'(V0, V6161, V6168, V6156))(V6157))), case V6169 of {'Idris.Prelude.Types.Left', E56} -> (fun (V6170) -> {'Idris.Prelude.Types.Left', V6170} end(E56)); {'Idris.Prelude.Types.Right', E57} -> (fun (V6171) -> case V6171 of {'Idris.Compiler.CompileExpr.User', E58, E59} -> (fun (V6172, V6173) -> begin (V6175 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6174) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V6161, V6174)) end, V6173, []))(V6157))), case V6175 of {'Idris.Prelude.Types.Left', E60} -> (fun (V6176) -> {'Idris.Prelude.Types.Left', V6176} end(E60)); {'Idris.Prelude.Types.Right', E61} -> (fun (V6177) -> begin (V6179 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6178) -> ('un--nfToCFType'(V0, V6152, V2, V6178)) end, V6177, []))(V6157))), case V6179 of {'Idris.Prelude.Types.Left', E62} -> (fun (V6180) -> {'Idris.Prelude.Types.Left', V6180} end(E62)); {'Idris.Prelude.Types.Right', E63} -> (fun (V6181) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V6168, V6181}} end(E63)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E61)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E58, E59)); {'Idris.Compiler.CompileExpr.Struct', E64, E65} -> (fun (V6182, V6183) -> begin (V6194 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6184) -> case V6184 of {'Idris.Builtin.MkPair', E66, E67} -> (fun (V6185, V6186) -> fun (V6187) -> begin (V6188 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V6161, V6186))(V6187))), case V6188 of {'Idris.Prelude.Types.Left', E68} -> (fun (V6189) -> {'Idris.Prelude.Types.Left', V6189} end(E68)); {'Idris.Prelude.Types.Right', E69} -> (fun (V6190) -> begin (V6191 = (('un--nfToCFType'(V0, V6152, 0, V6190))(V6187))), case V6191 of {'Idris.Prelude.Types.Left', E70} -> (fun (V6192) -> {'Idris.Prelude.Types.Left', V6192} end(E70)); {'Idris.Prelude.Types.Right', E71} -> (fun (V6193) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V6185, V6193}} end(E71)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E69)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E66, E67)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V6183, []))(V6157))), case V6194 of {'Idris.Prelude.Types.Left', E72} -> (fun (V6195) -> {'Idris.Prelude.Types.Left', V6195} end(E72)); {'Idris.Prelude.Types.Right', E73} -> (fun (V6196) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V6182, V6196}} end(E73)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E64, E65)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E74} -> (fun (V6197) -> begin (V6198 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V6161, V6197))(V6157))), case V6198 of {'Idris.Prelude.Types.Left', E75} -> (fun (V6199) -> {'Idris.Prelude.Types.Left', V6199} end(E75)); {'Idris.Prelude.Types.Right', E76} -> (fun (V6200) -> begin (V6201 = (('un--nfToCFType'(V0, V6152, V2, V6200))(V6157))), case V6201 of {'Idris.Prelude.Types.Left', E77} -> (fun (V6202) -> {'Idris.Prelude.Types.Left', V6202} end(E77)); {'Idris.Prelude.Types.Right', E78} -> (fun (V6203) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V6203}} end(E78)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E76)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E74)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E57)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E55)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E53)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E47, E48, E49, E50, E51)); {'Idris.Core.Value.NType', E79} -> (fun (V6204) -> fun (V6205) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E79)); {'Idris.Core.Value.NErased', E80, E81} -> (fun (V6206, V6207) -> fun (V6208) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E80, E81)); _ -> fun (V6209) -> begin (V6211 = begin (V6210 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V6210} end), case V6211 of {'Idris.Prelude.Types.Left', E41} -> (fun (V6212) -> {'Idris.Prelude.Types.Left', V6212} end(E41)); {'Idris.Prelude.Types.Right', E42} -> (fun (V6213) -> begin (V6214 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V6213, {'Idris.Core.Env.Nil'}, V3, V6209))), case V6214 of {'Idris.Prelude.Types.Left', E43} -> (fun (V6215) -> {'Idris.Prelude.Types.Left', V6215} end(E43)); {'Idris.Prelude.Types.Right', E44} -> (fun (V6216) -> begin (V6221 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V6217) -> fun (V6218) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V6217, V6218)) end end, fun (V6219) -> fun (V6220) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V6219, V6220)) end end}, V6216, V6209))), case V6221 of {'Idris.Prelude.Types.Left', E45} -> (fun (V6222) -> {'Idris.Prelude.Types.Left', V6222} end(E45)); {'Idris.Prelude.Types.Right', E46} -> (fun (V6223) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V6223))))}, V6209)) end(E46)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E44)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E42)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; 0 -> case V3 of {'Idris.Core.Value.NBind', E180, E181, E182, E183} -> (fun (V6224, V6225, V6226, V6227) -> fun (V6228) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', V6224, <<"Function types not allowed in a foreign struct"/utf8>>}, V6228)) end end(E180, E181, E182, E183)); _ -> case V3 of {'Idris.Core.Value.NTCon', E145, E146, E147, E148, E149} -> (fun (V6229, V6230, V6231, V6232, V6233) -> fun (V6234) -> begin (V6236 = begin (V6235 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V6235} end), case V6236 of {'Idris.Prelude.Types.Left', E150} -> (fun (V6237) -> {'Idris.Prelude.Types.Left', V6237} end(E150)); {'Idris.Prelude.Types.Right', E151} -> (fun (V6238) -> begin (V6243 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V6239) -> fun (V6240) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V6239, V6240)) end end, fun (V6241) -> fun (V6242) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V6241, V6242)) end end}, V6230, V6234))), case V6243 of {'Idris.Prelude.Types.Left', E152} -> (fun (V6244) -> {'Idris.Prelude.Types.Left', V6244} end(E152)); {'Idris.Prelude.Types.Right', E153} -> (fun (V6245) -> begin (V6246 = (('un--getNArgs'(V0, V6238, V6245, V6233))(V6234))), case V6246 of {'Idris.Prelude.Types.Left', E154} -> (fun (V6247) -> {'Idris.Prelude.Types.Left', V6247} end(E154)); {'Idris.Prelude.Types.Right', E155} -> (fun (V6248) -> case V6248 of {'Idris.Compiler.CompileExpr.User', E156, E157} -> (fun (V6249, V6250) -> begin (V6252 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6251) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V6238, V6251)) end, V6250, []))(V6234))), case V6252 of {'Idris.Prelude.Types.Left', E158} -> (fun (V6253) -> {'Idris.Prelude.Types.Left', V6253} end(E158)); {'Idris.Prelude.Types.Right', E159} -> (fun (V6254) -> begin (V6256 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6255) -> ('un--nfToCFType'(V0, V6229, V2, V6255)) end, V6254, []))(V6234))), case V6256 of {'Idris.Prelude.Types.Left', E160} -> (fun (V6257) -> {'Idris.Prelude.Types.Left', V6257} end(E160)); {'Idris.Prelude.Types.Right', E161} -> (fun (V6258) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V6245, V6258}} end(E161)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E159)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E156, E157)); {'Idris.Compiler.CompileExpr.Struct', E162, E163} -> (fun (V6259, V6260) -> begin (V6271 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6261) -> case V6261 of {'Idris.Builtin.MkPair', E164, E165} -> (fun (V6262, V6263) -> fun (V6264) -> begin (V6265 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V6238, V6263))(V6264))), case V6265 of {'Idris.Prelude.Types.Left', E166} -> (fun (V6266) -> {'Idris.Prelude.Types.Left', V6266} end(E166)); {'Idris.Prelude.Types.Right', E167} -> (fun (V6267) -> begin (V6268 = (('un--nfToCFType'(V0, V6229, 0, V6267))(V6264))), case V6268 of {'Idris.Prelude.Types.Left', E168} -> (fun (V6269) -> {'Idris.Prelude.Types.Left', V6269} end(E168)); {'Idris.Prelude.Types.Right', E169} -> (fun (V6270) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V6262, V6270}} end(E169)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E167)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E164, E165)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V6260, []))(V6234))), case V6271 of {'Idris.Prelude.Types.Left', E170} -> (fun (V6272) -> {'Idris.Prelude.Types.Left', V6272} end(E170)); {'Idris.Prelude.Types.Right', E171} -> (fun (V6273) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V6259, V6273}} end(E171)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E162, E163)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E172} -> (fun (V6274) -> begin (V6275 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V6238, V6274))(V6234))), case V6275 of {'Idris.Prelude.Types.Left', E173} -> (fun (V6276) -> {'Idris.Prelude.Types.Left', V6276} end(E173)); {'Idris.Prelude.Types.Right', E174} -> (fun (V6277) -> begin (V6278 = (('un--nfToCFType'(V0, V6229, V2, V6277))(V6234))), case V6278 of {'Idris.Prelude.Types.Left', E175} -> (fun (V6279) -> {'Idris.Prelude.Types.Left', V6279} end(E175)); {'Idris.Prelude.Types.Right', E176} -> (fun (V6280) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V6280}} end(E176)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E174)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E172)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E155)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E153)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E151)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E145, E146, E147, E148, E149)); {'Idris.Core.Value.NType', E177} -> (fun (V6281) -> fun (V6282) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E177)); {'Idris.Core.Value.NErased', E178, E179} -> (fun (V6283, V6284) -> fun (V6285) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E178, E179)); _ -> fun (V6286) -> begin (V6288 = begin (V6287 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V6287} end), case V6288 of {'Idris.Prelude.Types.Left', E139} -> (fun (V6289) -> {'Idris.Prelude.Types.Left', V6289} end(E139)); {'Idris.Prelude.Types.Right', E140} -> (fun (V6290) -> begin (V6291 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V6290, {'Idris.Core.Env.Nil'}, V3, V6286))), case V6291 of {'Idris.Prelude.Types.Left', E141} -> (fun (V6292) -> {'Idris.Prelude.Types.Left', V6292} end(E141)); {'Idris.Prelude.Types.Right', E142} -> (fun (V6293) -> begin (V6298 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V6294) -> fun (V6295) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V6294, V6295)) end end, fun (V6296) -> fun (V6297) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V6296, V6297)) end end}, V6293, V6286))), case V6298 of {'Idris.Prelude.Types.Left', E143} -> (fun (V6299) -> {'Idris.Prelude.Types.Left', V6299} end(E143)); {'Idris.Prelude.Types.Right', E144} -> (fun (V6300) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V6300))))}, V6286)) end(E144)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E142)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E140)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end; _ -> case V3 of {'Idris.Core.Value.NTCon', E6, E7, E8, E9, E10} -> (fun (V6301, V6302, V6303, V6304, V6305) -> fun (V6306) -> begin (V6308 = begin (V6307 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V6307} end), case V6308 of {'Idris.Prelude.Types.Left', E11} -> (fun (V6309) -> {'Idris.Prelude.Types.Left', V6309} end(E11)); {'Idris.Prelude.Types.Right', E12} -> (fun (V6310) -> begin (V6315 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V6311) -> fun (V6312) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Name'(V6311, V6312)) end end, fun (V6313) -> fun (V6314) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Name'(V6313, V6314)) end end}, V6302, V6306))), case V6315 of {'Idris.Prelude.Types.Left', E13} -> (fun (V6316) -> {'Idris.Prelude.Types.Left', V6316} end(E13)); {'Idris.Prelude.Types.Right', E14} -> (fun (V6317) -> begin (V6318 = (('un--getNArgs'(V0, V6310, V6317, V6305))(V6306))), case V6318 of {'Idris.Prelude.Types.Left', E15} -> (fun (V6319) -> {'Idris.Prelude.Types.Left', V6319} end(E15)); {'Idris.Prelude.Types.Right', E16} -> (fun (V6320) -> case V6320 of {'Idris.Compiler.CompileExpr.User', E17, E18} -> (fun (V6321, V6322) -> begin (V6324 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6323) -> ('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V6310, V6323)) end, V6322, []))(V6306))), case V6324 of {'Idris.Prelude.Types.Left', E19} -> (fun (V6325) -> {'Idris.Prelude.Types.Left', V6325} end(E19)); {'Idris.Prelude.Types.Right', E20} -> (fun (V6326) -> begin (V6328 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6327) -> ('un--nfToCFType'(V0, V6301, V2, V6327)) end, V6326, []))(V6306))), case V6328 of {'Idris.Prelude.Types.Left', E21} -> (fun (V6329) -> {'Idris.Prelude.Types.Left', V6329} end(E21)); {'Idris.Prelude.Types.Right', E22} -> (fun (V6330) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', V6317, V6330}} end(E22)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E20)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E17, E18)); {'Idris.Compiler.CompileExpr.Struct', E23, E24} -> (fun (V6331, V6332) -> begin (V6343 = (('Idris.Idris2.Core.Core':'un--traverse\x{27}'('erased', 'erased', fun (V6333) -> case V6333 of {'Idris.Builtin.MkPair', E25, E26} -> (fun (V6334, V6335) -> fun (V6336) -> begin (V6337 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V6310, V6335))(V6336))), case V6337 of {'Idris.Prelude.Types.Left', E27} -> (fun (V6338) -> {'Idris.Prelude.Types.Left', V6338} end(E27)); {'Idris.Prelude.Types.Right', E28} -> (fun (V6339) -> begin (V6340 = (('un--nfToCFType'(V0, V6301, 0, V6339))(V6336))), case V6340 of {'Idris.Prelude.Types.Left', E29} -> (fun (V6341) -> {'Idris.Prelude.Types.Left', V6341} end(E29)); {'Idris.Prelude.Types.Right', E30} -> (fun (V6342) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', V6334, V6342}} end(E30)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E28)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E25, E26)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end, V6332, []))(V6306))), case V6343 of {'Idris.Prelude.Types.Left', E31} -> (fun (V6344) -> {'Idris.Prelude.Types.Left', V6344} end(E31)); {'Idris.Prelude.Types.Right', E32} -> (fun (V6345) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFStruct', V6331, V6345}} end(E32)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E23, E24)); {'Idris.Compiler.CompileExpr.NUnit'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUnit'}} end()); {'Idris.Compiler.CompileExpr.NPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFPtr'}} end()); {'Idris.Compiler.CompileExpr.NGCPtr'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFGCPtr'}} end()); {'Idris.Compiler.CompileExpr.NBuffer'} -> (fun () -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFBuffer'}} end()); {'Idris.Compiler.CompileExpr.NIORes', E33} -> (fun (V6346) -> begin (V6347 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V6310, V6346))(V6306))), case V6347 of {'Idris.Prelude.Types.Left', E34} -> (fun (V6348) -> {'Idris.Prelude.Types.Left', V6348} end(E34)); {'Idris.Prelude.Types.Right', E35} -> (fun (V6349) -> begin (V6350 = (('un--nfToCFType'(V0, V6301, V2, V6349))(V6306))), case V6350 of {'Idris.Prelude.Types.Left', E36} -> (fun (V6351) -> {'Idris.Prelude.Types.Left', V6351} end(E36)); {'Idris.Prelude.Types.Right', E37} -> (fun (V6352) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFIORes', V6352}} end(E37)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E35)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E33)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E16)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E14)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E12)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E6, E7, E8, E9, E10)); {'Idris.Core.Value.NType', E38} -> (fun (V6353) -> fun (V6354) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"Type"/utf8>>}, []}} end end(E38)); {'Idris.Core.Value.NErased', E39, E40} -> (fun (V6355, V6356) -> fun (V6357) -> {'Idris.Prelude.Types.Right', {'Idris.Core.CompileExpr.CFUser', {'Idris.Core.Name.UN', <<"__"/utf8>>}, []}} end end(E39, E40)); _ -> fun (V6358) -> begin (V6360 = begin (V6359 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V6359} end), case V6360 of {'Idris.Prelude.Types.Left', E0} -> (fun (V6361) -> {'Idris.Prelude.Types.Left', V6361} end(E0)); {'Idris.Prelude.Types.Right', E1} -> (fun (V6362) -> begin (V6363 = ('Idris.Idris2.Core.Normalise':'dn--un--quote_Quote__NF'(V0, [], V6362, {'Idris.Core.Env.Nil'}, V3, V6358))), case V6363 of {'Idris.Prelude.Types.Left', E2} -> (fun (V6364) -> {'Idris.Prelude.Types.Left', V6364} end(E2)); {'Idris.Prelude.Types.Right', E3} -> (fun (V6365) -> begin (V6370 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V6366) -> fun (V6367) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__(Term $vars)'('erased', V6366, V6367)) end end, fun (V6368) -> fun (V6369) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__(Term $vars)'('erased', V6368, V6369)) end end}, V6365, V6358))), case V6370 of {'Idris.Prelude.Types.Left', E4} -> (fun (V6371) -> {'Idris.Prelude.Types.Left', V6371} end(E4)); {'Idris.Prelude.Types.Right', E5} -> (fun (V6372) -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V3)), ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Can\x{27}t marshal type for foreign call "/utf8>>, ('Idris.Idris2.Core.TT':'dn--un--show_Show__(Term $vars)'([], V6372))))}, V6358)) end(E5)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E3)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end end end end.
'un--natMinus'(V0, V1, V2, V3) -> case V3 of {'Idris.Data.Vect.::', E0, E1} -> (fun (V4, V5) -> case V5 of {'Idris.Data.Vect.::', E2, E3} -> (fun (V6, V7) -> case V7 of {'Idris.Data.Vect.Nil'} -> (fun () -> {'Idris.Core.CompileExpr.CApp', V0, {'Idris.Core.CompileExpr.CRef', V1, {'Idris.Core.Name.UN', <<"prim__sub_Integer"/utf8>>}}, [V4 | [V6 | []]]} end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2, E3)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'un--natHackTree'(V0, V1) -> case V1 of {'Idris.Core.CompileExpr.CConCase', E0, E1, E2, E3} -> (fun (V2, V3, V4, V5) -> ('case--natHackTree-2519'('erased', V5, V4, V3, V2, (('Idris.Idris2.Prelude.Interfaces':'un--any'('erased', 'erased', {'Idris.Prelude.Interfaces.dn--un--__mkFoldable', fun (V6) -> fun (V7) -> fun (V8) -> fun (V9) -> fun (V10) -> ('Idris.Idris2.Prelude.Types':'dn--un--foldr_Foldable__List'('erased', 'erased', V8, V9, V10)) end end end end end, fun (V11) -> fun (V12) -> fun (V13) -> fun (V14) -> fun (V15) -> ('Idris.Idris2.Prelude.Types':'dn--un--foldl_Foldable__List'('erased', 'erased', V13, V14, V15)) end end end end end}, fun (V16) -> ('un--natBranch'('erased', V16)) end))(V4)))) end(E0, E1, E2, E3)); _ -> V1 end.
'un--natHack'(V0, V1) -> ('un--magic'('erased', [{'Idris.Compiler.CompileExpr.MagicCCon', ('Idris.Idris2.Core.Name.Namespace':'un--typesNS'()), <<"Z"/utf8>>, 0, fun (V2) -> fun (V3) -> fun (V4) -> case V4 of {'Idris.Data.Vect.Nil'} -> (fun () -> {'Idris.Core.CompileExpr.CPrimVal', V2, {'Idris.Core.TT.BI', 0}} end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end} | [{'Idris.Compiler.CompileExpr.MagicCCon', ('Idris.Idris2.Core.Name.Namespace':'un--typesNS'()), <<"S"/utf8>>, (1 + 0), fun (V5) -> fun (V6) -> fun (V7) -> case V7 of {'Idris.Data.Vect.::', E0, E1} -> (fun (V8, V9) -> case V9 of {'Idris.Data.Vect.Nil'} -> (fun () -> {'Idris.Core.CompileExpr.CApp', V5, {'Idris.Core.CompileExpr.CRef', V5, {'Idris.Core.Name.UN', <<"prim__add_Integer"/utf8>>}}, [{'Idris.Core.CompileExpr.CPrimVal', V5, {'Idris.Core.TT.BI', 1}} | [V8 | []]]} end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end} | [{'Idris.Compiler.CompileExpr.MagicCRef', ('Idris.Idris2.Core.Name.Namespace':'un--typesNS'()), <<"natToInteger"/utf8>>, (1 + 0), fun (V10) -> fun (V11) -> fun (V12) -> fun (V13) -> case V13 of {'Idris.Data.Vect.::', E2, E3} -> (fun (V14, V15) -> case V15 of {'Idris.Data.Vect.Nil'} -> (fun () -> V14 end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E2, E3)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end} | [{'Idris.Compiler.CompileExpr.MagicCRef', ('Idris.Idris2.Core.Name.Namespace':'un--typesNS'()), <<"integerToNat"/utf8>>, (1 + 0), fun (V16) -> fun (V17) -> fun (V18) -> fun (V19) -> case V19 of {'Idris.Data.Vect.::', E4, E5} -> (fun (V20, V21) -> case V21 of {'Idris.Data.Vect.Nil'} -> (fun () -> {'Idris.Core.CompileExpr.CApp', V16, {'Idris.Core.CompileExpr.CRef', V17, {'Idris.Core.Name.NS', ('Idris.Idris2.Core.Name.Namespace':'un--typesNS'()), {'Idris.Core.Name.UN', <<"prim__integerToNat"/utf8>>}}}, [V20 | []]} end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E4, E5)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end} | [{'Idris.Compiler.CompileExpr.MagicCRef', ('Idris.Idris2.Core.Name.Namespace':'un--typesNS'()), <<"plus"/utf8>>, (1 + (1 + 0)), fun (V22) -> fun (V23) -> fun (V24) -> fun (V25) -> case V25 of {'Idris.Data.Vect.::', E6, E7} -> (fun (V26, V27) -> case V27 of {'Idris.Data.Vect.::', E8, E9} -> (fun (V28, V29) -> case V29 of {'Idris.Data.Vect.Nil'} -> (fun () -> {'Idris.Core.CompileExpr.CApp', V22, {'Idris.Core.CompileExpr.CRef', V23, {'Idris.Core.Name.UN', <<"prim__add_Integer"/utf8>>}}, [V26 | [V28 | []]]} end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E8, E9)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E6, E7)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end} | [{'Idris.Compiler.CompileExpr.MagicCRef', ('Idris.Idris2.Core.Name.Namespace':'un--typesNS'()), <<"mult"/utf8>>, (1 + (1 + 0)), fun (V30) -> fun (V31) -> fun (V32) -> fun (V33) -> case V33 of {'Idris.Data.Vect.::', E10, E11} -> (fun (V34, V35) -> case V35 of {'Idris.Data.Vect.::', E12, E13} -> (fun (V36, V37) -> case V37 of {'Idris.Data.Vect.Nil'} -> (fun () -> {'Idris.Core.CompileExpr.CApp', V30, {'Idris.Core.CompileExpr.CRef', V31, {'Idris.Core.Name.UN', <<"prim__mul_Integer"/utf8>>}}, [V34 | [V36 | []]]} end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E12, E13)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E10, E11)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end} | [{'Idris.Compiler.CompileExpr.MagicCRef', ('Idris.Idris2.Core.Name.Namespace':'un--natNS'()), <<"minus"/utf8>>, (1 + (1 + 0)), fun (V38) -> fun (V39) -> fun (V40) -> fun (V41) -> ('un--natMinus'(V38, V39, V40, V41)) end end end end} | []]]]]]]], V1)).
'un--natBranch'(V0, V1) -> case V1 of {'Idris.Core.CompileExpr.MkConAlt', E0, E1, E2, E3} -> (fun (V2, V3, V4, V5) -> ('un--isNatCon'(V2)) end(E0, E1, E2, E3)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'un--mkForgetDef'(V0, V1, V2) -> begin (V4 = begin (V3 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3} end), case V4 of {'Idris.Prelude.Types.Left', E0} -> (fun (V5) -> {'Idris.Prelude.Types.Left', V5} end(E0)); {'Idris.Prelude.Types.Right', E1} -> (fun (V6) -> begin (V33 = (('Idris.Idris2.Core.Context':'un--lookupCtxtExact'(V1, case V6 of {'Idris.Core.Context.MkDefs', E2, E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22, E23, E24, E25, E26, E27} -> (fun (V7, V8, V9, V10, V11, V12, V13, V14, V15, V16, V17, V18, V19, V20, V21, V22, V23, V24, V25, V26, V27, V28, V29, V30, V31, V32) -> V7 end(E2, E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22, E23, E24, E25, E26, E27)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end))(V2))), case V33 of {'Idris.Prelude.Types.Left', E28} -> (fun (V34) -> {'Idris.Prelude.Types.Left', V34} end(E28)); {'Idris.Prelude.Types.Right', E29} -> (fun (V35) -> case V35 of {'Idris.Prelude.Types.Just', E30} -> (fun (V36) -> begin (V37 = {'Idris.Prelude.Types.Just', V36}), (('case--case block in mkForgetDef-5957'(V1, V0, V6, V36, V37, case V36 of {'Idris.Core.Context.MkGlobalDef', E31, E32, E33, E34, E35, E36, E37, E38, E39, E40, E41, E42, E43, E44, E45, E46, E47, E48, E49, E50, E51} -> (fun (V38, V39, V40, V41, V42, V43, V44, V45, V46, V47, V48, V49, V50, V51, V52, V53, V54, V55, V56, V57, V58) -> V56 end(E31, E32, E33, E34, E35, E36, E37, E38, E39, E40, E41, E42, E43, E44, E45, E46, E47, E48, E49, E50, E51)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end))(V2)) end end(E30)); {'Idris.Prelude.Types.Nothing'} -> (fun () -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.InternalError', ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Trying to compile unknown name "/utf8>>, ('Idris.Idris2.Core.Name':'dn--un--show_Show__Name'(V1))))}, V2)) end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E29)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end.
'un--mkDropSubst'(V0, V1, V2, V3) -> case V3 of [] -> {'Idris.Builtin.DPair.MkDPair', [], {'Idris.Core.TT.SubRefl'}}; [E0 | E1] -> (fun (V4, V5) -> ('case--mkDropSubst-1810'(V4, V5, V2, V1, V0, ('un--mkDropSubst'(('Idris.Idris2.Prelude.Types':'dn--un--+_Num__Nat'((1 + 0), V0)), V1, V2, V5)))) end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'un--mkArgList'(V0, V1) -> case V1 of 0 -> {'Idris.Builtin.DPair.MkDPair', [], {'Idris.Compiler.CompileExpr.NoArgs'}}; _ -> begin (V2 = (V1 - 1)), ('case--mkArgList-4373'(V2, V0, ('un--mkArgList'(((V0 + 1) rem 9223372036854775808), V2)))) end end.
'un--magic'(V0, V1, V2) -> case V2 of {'Idris.Core.CompileExpr.CLam', E0, E1, E2} -> (fun (V3, V4, V5) -> {'Idris.Core.CompileExpr.CLam', V3, V4, ('un--magic'('erased', V1, V5))} end(E0, E1, E2)); _ -> ('nested--9160-1904--in--un--go'('erased', V2, V1, V1, V2)) end.
'un--isNatCon'(V0) -> case V0 of {'Idris.Core.Name.NS', E0, E1} -> (fun (V1, V2) -> case V2 of {'Idris.Core.Name.UN', E2} -> (fun (V3) -> ('Idris.Idris2.Prelude.Basics':'un--&&'(('Idris.Idris2.Prelude.Basics':'un--||'(('Idris.Idris2.Prelude.EqOrd':'dn--un--==_Eq__String'(V3, <<"Z"/utf8>>)), fun () -> ('Idris.Idris2.Prelude.EqOrd':'dn--un--==_Eq__String'(V3, <<"S"/utf8>>)) end)), fun () -> ('Idris.Idris2.Core.Name.Namespace':'dn--un--==_Eq__Namespace'(V1, ('Idris.Idris2.Core.Name.Namespace':'un--typesNS'()))) end)) end(E2)); _ -> 1 end end(E0, E1)); _ -> 1 end.
'un--isFiniteEnum'(V0) -> case V0 of {'Idris.Core.Name.NS', E0, E1} -> (fun (V1, V2) -> case V2 of {'Idris.Core.Name.UN', E2} -> (fun (V3) -> ('Idris.Idris2.Prelude.Basics':'un--||'(('Idris.Idris2.Prelude.Basics':'un--&&'(('Idris.Idris2.Prelude.Basics':'un--||'(('Idris.Idris2.Prelude.EqOrd':'dn--un--==_Eq__String'(V3, <<"True"/utf8>>)), fun () -> ('Idris.Idris2.Prelude.EqOrd':'dn--un--==_Eq__String'(V3, <<"False"/utf8>>)) end)), fun () -> ('Idris.Idris2.Core.Name.Namespace':'dn--un--==_Eq__Namespace'(V1, ('Idris.Idris2.Core.Name.Namespace':'un--basicsNS'()))) end)), fun () -> ('Idris.Idris2.Prelude.Basics':'un--&&'(('Idris.Idris2.Prelude.Basics':'un--||'(('Idris.Idris2.Prelude.EqOrd':'dn--un--==_Eq__String'(V3, <<"LT"/utf8>>)), fun () -> ('Idris.Idris2.Prelude.Basics':'un--||'(('Idris.Idris2.Prelude.EqOrd':'dn--un--==_Eq__String'(V3, <<"EQ"/utf8>>)), fun () -> ('Idris.Idris2.Prelude.EqOrd':'dn--un--==_Eq__String'(V3, <<"GT"/utf8>>)) end)) end)), fun () -> ('Idris.Idris2.Core.Name.Namespace':'dn--un--==_Eq__Namespace'(V1, ('Idris.Idris2.Core.Name.Namespace':'un--eqOrdNS'()))) end)) end)) end(E2)); _ -> 1 end end(E0, E1)); _ -> 1 end.
'un--getZBranch'(V0, V1) -> case V1 of [] -> {'Idris.Prelude.Types.Nothing'}; [E0 | E1] -> (fun (V2, V3) -> ('Idris.Idris2.Prelude.Types':'dn--un--<+>_Semigroup__(Maybe $a)'('erased', ('un--tryZBranch'('erased', V2)), ('un--getZBranch'('erased', V3)))) end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'un--getSBranch'(V0, V1, V2) -> case V2 of [] -> {'Idris.Prelude.Types.Nothing'}; [E0 | E1] -> (fun (V3, V4) -> ('Idris.Idris2.Prelude.Types':'dn--un--<+>_Semigroup__(Maybe $a)'('erased', ('un--trySBranch'('erased', V1, V3)), ('un--getSBranch'('erased', V1, V4)))) end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'un--getPArgs'(V0, V1, V2, V3) -> begin (V4 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1, V2))(V3))), case V4 of {'Idris.Prelude.Types.Left', E0} -> (fun (V5) -> {'Idris.Prelude.Types.Left', V5} end(E0)); {'Idris.Prelude.Types.Right', E1} -> (fun (V6) -> case V6 of {'Idris.Core.Value.NDCon', E2, E3, E4, E5, E6} -> (fun (V7, V8, V9, V10, V11) -> begin (V12 = {'Idris.Core.Value.NDCon', V7, V8, V9, V10, V11}), (('case--case block in getPArgs-4435'(V2, V1, V0, V8, V9, V10, V11, V7, V12, ('Idris.Idris2.Data.List':'un--reverse'('erased', V11))))(V3)) end end(E2, E3, E4, E5, E6)); _ -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V6)), <<"Badly formed struct type"/utf8>>}, V3)) end end(E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end.
'un--getNewType'(V0, V1, V2, V3, V4, V5) -> case V5 of [] -> fun (V6) -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Nothing'}} end; [E0 | E1] -> (fun (V7, V8) -> case V7 of {'Idris.Core.CaseTree.DefaultCase', E2} -> (fun (V9) -> fun (V10) -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Nothing'}} end end(E2)); {'Idris.Core.CaseTree.ConCase', E3, E4, E5, E6} -> (fun (V11, V12, V13, V14) -> fun (V15) -> begin (V17 = begin (V16 = ('erlang':'get'(V1))), {'Idris.Prelude.Types.Right', V16} end), case V17 of {'Idris.Prelude.Types.Left', E7} -> (fun (V18) -> {'Idris.Prelude.Types.Left', V18} end(E7)); {'Idris.Prelude.Types.Right', E8} -> (fun (V19) -> begin (V46 = ('Idris.Idris2.Core.Context':'un--lookupDefExact'(V11, case V19 of {'Idris.Core.Context.MkDefs', E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22, E23, E24, E25, E26, E27, E28, E29, E30, E31, E32, E33, E34} -> (fun (V20, V21, V22, V23, V24, V25, V26, V27, V28, V29, V30, V31, V32, V33, V34, V35, V36, V37, V38, V39, V40, V41, V42, V43, V44, V45) -> V20 end(E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22, E23, E24, E25, E26, E27, E28, E29, E30, E31, E32, E33, E34)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end, V15))), case V46 of {'Idris.Prelude.Types.Left', E35} -> (fun (V47) -> {'Idris.Prelude.Types.Left', V47} end(E35)); {'Idris.Prelude.Types.Right', E36} -> (fun (V48) -> case V48 of {'Idris.Prelude.Types.Just', E37} -> (fun (V49) -> case V49 of {'Idris.Core.Context.DCon', E38, E39, E40} -> (fun (V50, V51, V52) -> case V52 of {'Idris.Prelude.Types.Just', E41} -> (fun (V53) -> case V53 of {'Idris.Builtin.MkPair', E42, E43} -> (fun (V54, V55) -> begin (V56 = ('nested--10563-3640--in--un--mkSubst'(V13, V0, V14, V12, V11, V8, V4, V3, V2, V1, 'erased', 0, V3, V55, V13))), begin (V57 = (('un--toCExpTree'(('Idris.Idris2.Prelude.Types.List':'un--++'('erased', V13, V0)), V1, V4, V14))(V15))), case V57 of {'Idris.Prelude.Types.Left', E44} -> (fun (V58) -> {'Idris.Prelude.Types.Left', V58} end(E44)); {'Idris.Prelude.Types.Right', E45} -> (fun (V59) -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Just', ('Idris.Idris2.Core.CompileExpr':'un--substs'(V13, V0, V56, V59))}} end(E45)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E42, E43)); _ -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Nothing'}} end end(E41)); _ -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Nothing'}} end end(E38, E39, E40)); _ -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Nothing'}} end end(E37)); _ -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Nothing'}} end end(E36)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E8)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E3, E4, E5, E6)); _ -> ('un--getNewType'(V0, V1, V2, V3, V4, V8)) end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'un--getNArgs'(V0, V1, V2, V3) -> case V2 of {'Idris.Core.Name.NS', E0, E1} -> (fun (V4, V5) -> case V5 of {'Idris.Core.Name.UN', E2} -> (fun (V6) -> case V6 of <<"IORes"/utf8>> -> case V3 of [E3 | E4] -> (fun (V7, V8) -> case V8 of [] -> fun (V9) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.NIORes', V7}} end; _ -> fun (V10) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end end(E3, E4)); _ -> fun (V11) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end; <<"Ptr"/utf8>> -> case V3 of [E5 | E6] -> (fun (V12, V13) -> case V13 of [] -> fun (V14) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.NPtr'}} end; _ -> fun (V15) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end end(E5, E6)); _ -> fun (V16) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end; <<"AnyPtr"/utf8>> -> case V3 of [] -> fun (V17) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.NPtr'}} end; _ -> fun (V18) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end; <<"GCPtr"/utf8>> -> case V3 of [E7 | E8] -> (fun (V19, V20) -> case V20 of [] -> fun (V21) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.NGCPtr'}} end; _ -> fun (V22) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end end(E7, E8)); _ -> fun (V23) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end; <<"GCAnyPtr"/utf8>> -> case V3 of [] -> fun (V24) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.NGCPtr'}} end; _ -> fun (V25) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end; <<"Buffer"/utf8>> -> case V3 of [] -> fun (V26) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.NBuffer'}} end; _ -> fun (V27) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end; <<"Unit"/utf8>> -> case V3 of [] -> fun (V28) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.NUnit'}} end; _ -> fun (V29) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end; <<"Struct"/utf8>> -> case V3 of [E9 | E10] -> (fun (V30, V31) -> case V31 of [E11 | E12] -> (fun (V32, V33) -> case V33 of [] -> fun (V34) -> begin (V35 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1, V30))(V34))), case V35 of {'Idris.Prelude.Types.Left', E13} -> (fun (V36) -> {'Idris.Prelude.Types.Left', V36} end(E13)); {'Idris.Prelude.Types.Right', E14} -> (fun (V37) -> case V37 of {'Idris.Core.Value.NPrimVal', E15, E16} -> (fun (V38, V39) -> case V39 of {'Idris.Core.TT.Str', E17} -> (fun (V40) -> begin (V41 = ('un--getFieldArgs'(V0, V1, V32, V34))), case V41 of {'Idris.Prelude.Types.Left', E18} -> (fun (V42) -> {'Idris.Prelude.Types.Left', V42} end(E18)); {'Idris.Prelude.Types.Right', E19} -> (fun (V43) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.Struct', V40, V43}} end(E19)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E17)); _ -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V37)), <<"Unknown name for struct"/utf8>>}, V34)) end end(E15, E16)); _ -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V37)), <<"Unknown name for struct"/utf8>>}, V34)) end end(E14)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end; _ -> fun (V44) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end end(E11, E12)); _ -> fun (V45) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end end(E9, E10)); _ -> fun (V46) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end; _ -> fun (V47) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end end(E2)); _ -> fun (V48) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end end(E0, E1)); _ -> fun (V49) -> {'Idris.Prelude.Types.Right', {'Idris.Compiler.CompileExpr.User', V2, V3}} end end.
'un--getFieldArgs'(V0, V1, V2, V3) -> begin (V4 = (('Idris.Idris2.Core.Normalise':'un--evalClosure'(V0, [], V1, V2))(V3))), case V4 of {'Idris.Prelude.Types.Left', E0} -> (fun (V5) -> {'Idris.Prelude.Types.Left', V5} end(E0)); {'Idris.Prelude.Types.Right', E1} -> (fun (V6) -> case V6 of {'Idris.Core.Value.NDCon', E2, E3, E4, E5, E6} -> (fun (V7, V8, V9, V10, V11) -> case V11 of [E7 | E8] -> (fun (V12, V13) -> case V13 of [E9 | E10] -> (fun (V14, V15) -> case V15 of [E11 | E12] -> (fun (V16, V17) -> case V17 of [] -> begin (V18 = ('un--getFieldArgs'(V0, V1, V16, V3))), case V18 of {'Idris.Prelude.Types.Left', E13} -> (fun (V19) -> {'Idris.Prelude.Types.Left', V19} end(E13)); {'Idris.Prelude.Types.Right', E14} -> (fun (V20) -> begin (V21 = ('un--getPArgs'(V0, V1, V14, V3))), case V21 of {'Idris.Prelude.Types.Left', E15} -> (fun (V22) -> {'Idris.Prelude.Types.Left', V22} end(E15)); {'Idris.Prelude.Types.Right', E16} -> (fun (V23) -> case V23 of {'Idris.Builtin.MkPair', E17, E18} -> (fun (V24, V25) -> {'Idris.Prelude.Types.Right', [{'Idris.Builtin.MkPair', V24, V25} | V20]} end(E17, E18)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E16)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E14)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end; _ -> {'Idris.Prelude.Types.Right', []} end end(E11, E12)); _ -> {'Idris.Prelude.Types.Right', []} end end(E9, E10)); _ -> {'Idris.Prelude.Types.Right', []} end end(E7, E8)); _ -> {'Idris.Prelude.Types.Right', []} end end(E2, E3, E4, E5, E6)); _ -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.GenericMsg', ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V6)), <<"Badly formed struct type"/utf8>>}, V3)) end end(E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end.
'un--getDef'(V0, V1, V2, V3) -> case V3 of [] -> fun (V4) -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Nothing'}} end; [E0 | E1] -> (fun (V5, V6) -> case V5 of {'Idris.Core.CaseTree.DefaultCase', E2} -> (fun (V7) -> fun (V8) -> begin (V9 = (('un--toCExpTree'(V0, V1, V2, V7))(V8))), case V9 of {'Idris.Prelude.Types.Left', E3} -> (fun (V10) -> {'Idris.Prelude.Types.Left', V10} end(E3)); {'Idris.Prelude.Types.Right', E4} -> (fun (V11) -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Just', V11}} end(E4)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2)); {'Idris.Core.CaseTree.ConstCase', E5, E6} -> (fun (V12, V13) -> case V12 of {'Idris.Core.TT.WorldVal'} -> (fun () -> fun (V14) -> begin (V15 = (('un--toCExpTree'(V0, V1, V2, V13))(V14))), case V15 of {'Idris.Prelude.Types.Left', E7} -> (fun (V16) -> {'Idris.Prelude.Types.Left', V16} end(E7)); {'Idris.Prelude.Types.Right', E8} -> (fun (V17) -> {'Idris.Prelude.Types.Right', {'Idris.Prelude.Types.Just', V17}} end(E8)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end()); _ -> ('un--getDef'(V0, V1, V2, V6)) end end(E5, E6)); _ -> ('un--getDef'(V0, V1, V2, V6)) end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'un--getCFTypes'(V0, V1, V2) -> case V2 of {'Idris.Core.Value.NBind', E2, E3, E4, E5} -> (fun (V3, V4, V5, V6) -> case V5 of {'Idris.Core.TT.Pi', E8, E9, E10, E11} -> (fun (V7, V8, V9, V10) -> fun (V11) -> begin (V12 = (('un--nfToCFType'(V0, V3, 1, V10))(V11))), case V12 of {'Idris.Prelude.Types.Left', E12} -> (fun (V13) -> {'Idris.Prelude.Types.Left', V13} end(E12)); {'Idris.Prelude.Types.Right', E13} -> (fun (V14) -> begin (V16 = begin (V15 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V15} end), case V16 of {'Idris.Prelude.Types.Left', E14} -> (fun (V17) -> {'Idris.Prelude.Types.Left', V17} end(E14)); {'Idris.Prelude.Types.Right', E15} -> (fun (V18) -> begin (V19 = (((V6(V18))(('Idris.Idris2.Core.Normalise':'un--toClosure'('erased', ('Idris.Idris2.Core.Value':'un--defaultOpts'()), {'Idris.Core.Env.Nil'}, {'Idris.Core.TT.Erased', V3, 1}))))(V11))), case V19 of {'Idris.Prelude.Types.Left', E16} -> (fun (V20) -> {'Idris.Prelude.Types.Left', V20} end(E16)); {'Idris.Prelude.Types.Right', E17} -> (fun (V21) -> (('un--getCFTypes'(V0, [V14 | V1], V21))(V11)) end(E17)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E15)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E13)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E8, E9, E10, E11)); _ -> fun (V22) -> begin (V23 = (('un--nfToCFType'(V0, ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V2)), 1, V2))(V22))), case V23 of {'Idris.Prelude.Types.Left', E6} -> (fun (V24) -> {'Idris.Prelude.Types.Left', V24} end(E6)); {'Idris.Prelude.Types.Right', E7} -> (fun (V25) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', ('Idris.Idris2.Data.List':'un--reverse'('erased', V1)), V25}} end(E7)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end(E2, E3, E4, E5)); _ -> fun (V26) -> begin (V27 = (('un--nfToCFType'(V0, ('Idris.Idris2.Core.Value':'un--getLoc'('erased', V2)), 1, V2))(V26))), case V27 of {'Idris.Prelude.Types.Left', E0} -> (fun (V28) -> {'Idris.Prelude.Types.Left', V28} end(E0)); {'Idris.Prelude.Types.Right', E1} -> (fun (V29) -> {'Idris.Prelude.Types.Right', {'Idris.Builtin.MkPair', ('Idris.Idris2.Data.List':'un--reverse'('erased', V1)), V29}} end(E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end.
'un--expandToArity'(V0, V1, V2, V3) -> case V2 of {'Idris.Core.CompileExpr.CErased', E2} -> (fun (V4) -> {'Idris.Core.CompileExpr.CErased', V4} end(E2)); _ -> case V1 of 0 -> ('nested--8705-1511--in--un--applyAll'(V0, V3, V2, V2, V3)); _ -> begin (V5 = (V1 - 1)), case V3 of [E0 | E1] -> (fun (V6, V7) -> ('un--expandToArity'(V0, V5, ('nested--8705-1533--in--un--addArg'(V0, V5, V6, V7, V2, V2, V6)), V7)) end(E0, E1)); _ -> case V3 of [] -> ('un--etaExpand'(V0, 0, V1, V2, [])); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end.
'un--etaExpand'(V0, V1, V2, V3, V4) -> case V2 of 0 -> ('nested--8606-1411--in--un--mkApp'(V0, V4, V3, V1, V3, ('Idris.Idris2.Prelude.Types':'dn--un--map_Functor__List'('erased', 'erased', fun (V5) -> ('nested--8606-1410--in--un--mkLocal'(V0, V4, V3, V1, ('Idris.Idris2.Core.CompileExpr':'un--getFC'('erased', V3)), V5)) end, ('Idris.Idris2.Data.List':'un--reverse'('erased', V4)))))); _ -> begin (V6 = (V2 - 1)), {'Idris.Core.CompileExpr.CLam', ('Idris.Idris2.Core.CompileExpr':'un--getFC'('erased', V3)), {'Idris.Core.Name.MN', <<"eta"/utf8>>, V1}, ('un--etaExpand'([{'Idris.Core.Name.MN', <<"eta"/utf8>>, V1} | V0], ((V1 + 1) rem 9223372036854775808), V6, ('Idris.Idris2.Core.CompileExpr':'dn--un--weaken_Weaken__CExp'('erased', 'erased', V3)), [0 | ('Idris.Idris2.Prelude.Types':'dn--un--map_Functor__List'('erased', 'erased', fun (V7) -> ('un--weakenVar'('erased', 'erased', V7)) end, V4))]))} end end.
'un--eraseConArgs'(V0, V1, V2, V3, V4) -> begin (V5 = ('un--expandToArity'(V0, V1, V3, V4))), ('un--dropPos'('erased', V2, V5)) end.
'un--dropPos'(V0, V1, V2) -> case V2 of {'Idris.Core.CompileExpr.CLam', E0, E1, E2} -> (fun (V3, V4, V5) -> {'Idris.Core.CompileExpr.CLam', V3, V4, ('un--dropPos'('erased', V1, V5))} end(E0, E1, E2)); {'Idris.Core.CompileExpr.CCon', E3, E4, E5, E6} -> (fun (V6, V7, V8, V9) -> {'Idris.Core.CompileExpr.CCon', V6, V7, V8, ('nested--8927-1699--in--un--drop'('erased', V9, V8, V7, V6, V1, 0, V9))} end(E3, E4, E5, E6)); _ -> V2 end.
'un--constCases'(V0, V1, V2, V3) -> case V3 of [] -> fun (V4) -> {'Idris.Prelude.Types.Right', []} end; [E0 | E1] -> (fun (V5, V6) -> case V5 of {'Idris.Core.CaseTree.ConstCase', E2, E3} -> (fun (V7, V8) -> case V7 of {'Idris.Core.TT.WorldVal'} -> (fun () -> ('un--constCases'(V0, V1, V2, V6)) end()); _ -> fun (V9) -> begin (V10 = (('un--toCExpTree'(V0, V1, V2, V8))(V9))), case V10 of {'Idris.Prelude.Types.Left', E4} -> (fun (V11) -> {'Idris.Prelude.Types.Left', V11} end(E4)); {'Idris.Prelude.Types.Right', E5} -> (fun (V12) -> begin (V13 = (('un--constCases'(V0, V1, V2, V6))(V9))), case V13 of {'Idris.Prelude.Types.Left', E6} -> (fun (V14) -> {'Idris.Prelude.Types.Left', V14} end(E6)); {'Idris.Prelude.Types.Right', E7} -> (fun (V15) -> {'Idris.Prelude.Types.Right', [{'Idris.Core.CompileExpr.MkConstAlt', V7, V12} | V15]} end(E7)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E5)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end end(E2, E3)); _ -> ('un--constCases'(V0, V1, V2, V6)) end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'un--conCases'(V0, V1, V2, V3) -> case V3 of [] -> fun (V4) -> {'Idris.Prelude.Types.Right', []} end; [E0 | E1] -> (fun (V5, V6) -> case V5 of {'Idris.Core.CaseTree.ConCase', E2, E3, E4, E5} -> (fun (V7, V8, V9, V10) -> fun (V11) -> begin (V13 = begin (V12 = ('erlang':'get'(V1))), {'Idris.Prelude.Types.Right', V12} end), case V13 of {'Idris.Prelude.Types.Left', E6} -> (fun (V14) -> {'Idris.Prelude.Types.Left', V14} end(E6)); {'Idris.Prelude.Types.Right', E7} -> (fun (V15) -> begin (V42 = (('Idris.Idris2.Core.Context':'un--lookupCtxtExact'(V7, case V15 of {'Idris.Core.Context.MkDefs', E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22, E23, E24, E25, E26, E27, E28, E29, E30, E31, E32, E33} -> (fun (V16, V17, V18, V19, V20, V21, V22, V23, V24, V25, V26, V27, V28, V29, V30, V31, V32, V33, V34, V35, V36, V37, V38, V39, V40, V41) -> V16 end(E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22, E23, E24, E25, E26, E27, E28, E29, E30, E31, E32, E33)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end))(V11))), case V42 of {'Idris.Prelude.Types.Left', E34} -> (fun (V43) -> {'Idris.Prelude.Types.Left', V43} end(E34)); {'Idris.Prelude.Types.Right', E35} -> (fun (V44) -> case V44 of {'Idris.Prelude.Types.Just', E36} -> (fun (V45) -> begin (V46 = {'Idris.Prelude.Types.Just', V45}), (('case--case block in conCases-3311'(V9, V0, V10, V8, V7, V6, V2, V1, V15, V45, V46, case V45 of {'Idris.Core.Context.MkGlobalDef', E37, E38, E39, E40, E41, E42, E43, E44, E45, E46, E47, E48, E49, E50, E51, E52, E53, E54, E55, E56, E57} -> (fun (V47, V48, V49, V50, V51, V52, V53, V54, V55, V56, V57, V58, V59, V60, V61, V62, V63, V64, V65, V66, V67) -> V64 end(E37, E38, E39, E40, E41, E42, E43, E44, E45, E46, E47, E48, E49, E50, E51, E52, E53, E54, E55, E56, E57)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end))(V11)) end end(E36)); {'Idris.Prelude.Types.Nothing'} -> (fun () -> begin (V68 = (('Idris.Idris2.Core.Context':'un--getFullName'(V1, V7))(V11))), case V68 of {'Idris.Prelude.Types.Left', E58} -> (fun (V69) -> {'Idris.Prelude.Types.Left', V69} end(E58)); {'Idris.Prelude.Types.Right', E59} -> (fun (V70) -> begin (V71 = (('un--toCExpTree'(('Idris.Idris2.Prelude.Types.List':'un--++'('erased', V9, V0)), V1, V2, V10))(V11))), case V71 of {'Idris.Prelude.Types.Left', E60} -> (fun (V72) -> {'Idris.Prelude.Types.Left', V72} end(E60)); {'Idris.Prelude.Types.Right', E61} -> (fun (V73) -> begin (V74 = (('un--conCases'(V0, V1, V2, V6))(V11))), case V74 of {'Idris.Prelude.Types.Left', E62} -> (fun (V75) -> {'Idris.Prelude.Types.Left', V75} end(E62)); {'Idris.Prelude.Types.Right', E63} -> (fun (V76) -> {'Idris.Prelude.Types.Right', [{'Idris.Core.CompileExpr.MkConAlt', V70, {'Idris.Prelude.Types.Nothing'}, V9, V73} | V76]} end(E63)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E61)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E59)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E35)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E7)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end end(E2, E3, E4, E5)); _ -> ('un--conCases'(V0, V1, V2, V6)) end end(E0, E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end.
'un--compileExp'(V0, V1, V2) -> begin (V3 = (('un--toCExp'([], V0, {'Idris.Core.Name.UN', <<"main"/utf8>>}, V1))(V2))), case V3 of {'Idris.Prelude.Types.Left', E0} -> (fun (V4) -> {'Idris.Prelude.Types.Left', V4} end(E0)); {'Idris.Prelude.Types.Right', E1} -> (fun (V5) -> {'Idris.Prelude.Types.Right', V5} end(E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end.
'un--compileDef'(V0, V1, V2) -> begin (V4 = begin (V3 = ('erlang':'get'(V0))), {'Idris.Prelude.Types.Right', V3} end), case V4 of {'Idris.Prelude.Types.Left', E0} -> (fun (V5) -> {'Idris.Prelude.Types.Left', V5} end(E0)); {'Idris.Prelude.Types.Right', E1} -> (fun (V6) -> begin (V33 = (('Idris.Idris2.Core.Context':'un--lookupCtxtExact'(V1, case V6 of {'Idris.Core.Context.MkDefs', E2, E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22, E23, E24, E25, E26, E27} -> (fun (V7, V8, V9, V10, V11, V12, V13, V14, V15, V16, V17, V18, V19, V20, V21, V22, V23, V24, V25, V26, V27, V28, V29, V30, V31, V32) -> V7 end(E2, E3, E4, E5, E6, E7, E8, E9, E10, E11, E12, E13, E14, E15, E16, E17, E18, E19, E20, E21, E22, E23, E24, E25, E26, E27)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end))(V2))), case V33 of {'Idris.Prelude.Types.Left', E28} -> (fun (V34) -> {'Idris.Prelude.Types.Left', V34} end(E28)); {'Idris.Prelude.Types.Right', E29} -> (fun (V35) -> case V35 of {'Idris.Prelude.Types.Just', E30} -> (fun (V36) -> begin (V86 = begin (V62 = ('Idris.Idris2.Core.Context':'un--toFullNames'('erased', V0, {'Idris.Core.Context.dn--un--__mkHasNames', fun (V37) -> fun (V38) -> ('Idris.Idris2.Core.Context':'dn--un--full_HasNames__Def'(V37, V38)) end end, fun (V39) -> fun (V40) -> ('Idris.Idris2.Core.Context':'dn--un--resolved_HasNames__Def'(V39, V40)) end end}, case V36 of {'Idris.Core.Context.MkGlobalDef', E31, E32, E33, E34, E35, E36, E37, E38, E39, E40, E41, E42, E43, E44, E45, E46, E47, E48, E49, E50, E51} -> (fun (V41, V42, V43, V44, V45, V46, V47, V48, V49, V50, V51, V52, V53, V54, V55, V56, V57, V58, V59, V60, V61) -> V58 end(E31, E32, E33, E34, E35, E36, E37, E38, E39, E40, E41, E42, E43, E44, E45, E46, E47, E48, E49, E50, E51)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end, V2))), case V62 of {'Idris.Prelude.Types.Left', E52} -> (fun (V63) -> {'Idris.Prelude.Types.Left', V63} end(E52)); {'Idris.Prelude.Types.Right', E53} -> (fun (V64) -> (('un--toCDef'(V0, V1, case V36 of {'Idris.Core.Context.MkGlobalDef', E54, E55, E56, E57, E58, E59, E60, E61, E62, E63, E64, E65, E66, E67, E68, E69, E70, E71, E72, E73, E74} -> (fun (V65, V66, V67, V68, V69, V70, V71, V72, V73, V74, V75, V76, V77, V78, V79, V80, V81, V82, V83, V84, V85) -> V67 end(E54, E55, E56, E57, E58, E59, E60, E61, E62, E63, E64, E65, E66, E67, E68, E69, E70, E71, E72, E73, E74)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end, V64))(V2)) end(E53)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end), case V86 of {'Idris.Prelude.Types.Left', E75} -> (fun (V87) -> {'Idris.Prelude.Types.Left', V87} end(E75)); {'Idris.Prelude.Types.Right', E76} -> (fun (V88) -> ('Idris.Idris2.Core.Context':'un--setCompiled'(V0, V1, V88, V2)) end(E76)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E30)); {'Idris.Prelude.Types.Nothing'} -> (fun () -> ('Idris.Idris2.Core.Core':'dn--un--throw_Catchable__Core_Error'('erased', {'Idris.Core.Core.InternalError', ('Idris.Idris2.Prelude.Types.Strings':'un--++'(<<"Trying to compile unknown name "/utf8>>, ('Idris.Idris2.Core.Name':'dn--un--show_Show__Name'(V1))))}, V2)) end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end(E29)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E1)); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end.
'un--boolHackTree'(V0, V1) -> case V1 of {'Idris.Core.CompileExpr.CConCase', E0, E1, E2, E3} -> (fun (V2, V3, V4, V5) -> begin (V17 = ('Idris.Idris2.Prelude.Types':'dn--un--traverse_Traversable__List'('erased', 'erased', 'erased', {'Idris.Prelude.Interfaces.dn--un--__mkApplicative', fun (V6) -> fun (V7) -> fun (V8) -> fun (V9) -> ('Idris.Idris2.Prelude.Types':'dn--un--map_Functor__Maybe'('erased', 'erased', V8, V9)) end end end end, fun (V10) -> fun (V11) -> ('Idris.Idris2.Prelude.Types':'dn--un--pure_Applicative__Maybe'('erased', V11)) end end, fun (V12) -> fun (V13) -> fun (V14) -> fun (V15) -> ('Idris.Idris2.Prelude.Types':'dn--un--<*>_Applicative__Maybe'('erased', 'erased', V14, V15)) end end end end}, fun (V16) -> ('nested--9907-2625--in--un--toBool'('erased', V5, V4, V3, V2, V16)) end, V4))), case V17 of {'Idris.Prelude.Types.Just', E4} -> (fun (V18) -> {'Idris.Core.CompileExpr.CConstCase', V2, V3, V18, V5} end(E4)); {'Idris.Prelude.Types.Nothing'} -> (fun () -> {'Idris.Core.CompileExpr.CConCase', V2, V3, V4, V5} end()); _ -> ('erlang':'throw'("Error: Unreachable branch")) end end end(E0, E1, E2, E3)); _ -> V1 end.
'un--applyNewType'(V0, V1, V2, V3, V4) -> begin (V5 = ('un--expandToArity'(V0, V1, V3, V4))), ('nested--8808-1593--in--un--keepArg'(V0, V4, V3, V2, V1, 'erased', V5)) end.
